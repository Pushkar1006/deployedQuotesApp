var Xte=Object.defineProperty,Jte=Object.defineProperties,Zte=Object.getOwnPropertyDescriptors,kV=Object.getOwnPropertySymbols,ene=Object.prototype.hasOwnProperty,tne=Object.prototype.propertyIsEnumerable,OV=(Wn,Tn,dn)=>Tn in Wn?Xte(Wn,Tn,{enumerable:!0,configurable:!0,writable:!0,value:dn}):Wn[Tn]=dn,RV=(Wn,Tn)=>{for(var dn in Tn||(Tn={}))ene.call(Tn,dn)&&OV(Wn,dn,Tn[dn]);if(kV)for(var dn of kV(Tn))tne.call(Tn,dn)&&OV(Wn,dn,Tn[dn]);return Wn},NV=(Wn,Tn)=>Jte(Wn,Zte(Tn));(self.webpackChunkquotesApp=self.webpackChunkquotesApp||[]).push([[179],{101:(Wn,Tn,dn)=>{"use strict";var es={};function Te(n){return"function"==typeof n}function lt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}dn.r(es),dn.d(es,{FirebaseError:()=>Sr,SDK_VERSION:()=>qo,_DEFAULT_ENTRY_NAME:()=>$o,_addComponent:()=>Cp,_addOrOverwriteComponent:()=>w1,_apps:()=>Zs,_clearComponents:()=>uK,_components:()=>Wc,_getProvider:()=>E1,_registerComponent:()=>eo,_removeServiceInstance:()=>aK,deleteApp:()=>C1,getApp:()=>dK,getApps:()=>hK,initializeApp:()=>b1,onLog:()=>D1,registerVersion:()=>Wi,setLogLevel:()=>I1});const ft=lt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function yt(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ze{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Te(r))try{r()}catch(s){e=s instanceof ft?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{yh(s)}catch(o){e=null!=e?e:[],o instanceof ft?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ft(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yh(e);else{if(e instanceof ze){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yt(t,e)}remove(e){const{_teardowns:t}=this;t&&yt(t,e),e instanceof ze&&e._removeParent(this)}}ze.EMPTY=(()=>{const n=new ze;return n.closed=!0,n})();const It=ze.EMPTY;function vh(n){return n instanceof ze||n&&"closed"in n&&Te(n.remove)&&Te(n.add)&&Te(n.unsubscribe)}function yh(n){Te(n)?n():n.unsubscribe()}const ts={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xa={setTimeout(...n){const{delegate:e}=xa;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=xa;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Cl(n){xa.setTimeout(()=>{const{onUnhandledError:e}=ts;if(!e)throw n;e(n)})}function ke(){}const nm=O("C",void 0,void 0);function O(n,e,t){return{kind:n,value:e,error:t}}let R=null;function E(n){if(ts.useDeprecatedSynchronousErrorHandling){const e=!R;if(e&&(R={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=R;if(R=null,t)throw r}}else n()}class h extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vh(e)&&e.add(this)):this.destination=k}static create(e,t,r){return new c(e,t,r)}next(e){this.isStopped?A(function I(n){return O("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?A(function v(n){return O("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?A(nm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class c extends h{constructor(e,t,r){let i;if(super(),Te(e))i=e;else if(e){let s;({next:i,error:t,complete:r}=e),this&&ts.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),t=null==t?void 0:t.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?p(i):ke,error:p(null!=t?t:C),complete:r?p(r):ke}}}function p(n,e){return(...t)=>{try{n(...t)}catch(r){ts.useDeprecatedSynchronousErrorHandling?function m(n){ts.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=n)}(r):Cl(r)}}}function C(n){throw n}function A(n,e){const{onStoppedNotification:t}=ts;t&&xa.setTimeout(()=>t(n,e))}const k={closed:!0,next:ke,error:C,complete:ke},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(n){return n}let q=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function he(n){return n&&n instanceof h||function ee(n){return n&&Te(n.next)&&Te(n.error)&&Te(n.complete)}(n)&&vh(n)}(t)?t:new c(t,r,i);return E(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ve(r))((i,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[N](){return this}pipe(...t){return function Q(n){return 0===n.length?B:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=ve(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ve(n){var e;return null!==(e=null!=n?n:ts.Promise)&&void 0!==e?e:Promise}const Ue=lt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class n extends q{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new _t(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ue}next(t){E(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?It:(s.push(t),new ze(()=>yt(s,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new q;return t.source=this,t}}return n.create=(e,t)=>new _t(e,t),n})();class _t extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:It}}function st(n){return Te(null==n?void 0:n.lift)}function rt(n){return e=>{if(st(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Oe extends h{constructor(e,t,r,i,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function je(n,e){return rt((t,r)=>{let i=0;t.subscribe(new Oe(r,s=>{r.next(n.call(e,s,i++))}))})}function ri(n){return this instanceof ri?(this.v=n,this):new ri(n)}function T(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(_){return new Promise(function(D,x){s.push([g,_,D,x])>1||a(g,_)})})}function a(g,_){try{!function u(g){g.value instanceof ri?Promise.resolve(g.value.v).then(l,d):f(s[0][2],g)}(r[g](_))}catch(D){f(s[0][3],D)}}function l(g){a("next",g)}function d(g){a("throw",g)}function f(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function y(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const pe=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hn(n){return Te(null==n?void 0:n.then)}function Pr(n){return Te(n[N])}function se(n){return Symbol.asyncIterator&&Te(null==n?void 0:n[Symbol.asyncIterator])}function it(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ti=function fn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Lr(n){return Te(null==n?void 0:n[Ti])}function Do(n){return T(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ri(t.read());if(i)return yield ri(void 0);yield yield ri(r)}}finally{t.releaseLock()}})}function ii(n){return Te(null==n?void 0:n.getReader)}function Ot(n){if(n instanceof q)return n;if(null!=n){if(Pr(n))return function Ln(n){return new q(e=>{const t=n[N]();if(Te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pe(n))return function Fr(n){return new q(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(hn(n))return function Tt(n){return new q(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cl)})}(n);if(se(n))return ss(n);if(Lr(n))return function is(n){return new q(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ii(n))return function si(n){return ss(Do(n))}(n)}throw it(n)}function ss(n){return new q(e=>{(function oi(n,e){var t,r,i,s;return function ti(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(f){o(f)}}function u(d){try{l(r.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(d.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=y(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Vr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function qt(n,e,t=1/0){return Te(e)?qt((r,i)=>je((s,o)=>e(r,s,i,o))(Ot(n(r,i))),t):("number"==typeof e&&(t=e),rt((r,i)=>function os(n,e,t,r,i,s,o,a){const u=[];let l=0,d=0,f=!1;const g=()=>{f&&!u.length&&!l&&e.complete()},_=x=>l<r?D(x):u.push(x),D=x=>{s&&e.next(x),l++;let P=!1;Ot(t(x,d++)).subscribe(new Oe(e,H=>{null==i||i(H),s?_(H):e.next(H)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){const H=u.shift();o?Vr(e,o,()=>D(H)):D(H)}g()}catch(H){e.error(H)}}))};return n.subscribe(new Oe(e,_,()=>{f=!0,g()})),()=>{null==a||a()}}(r,i,n,t)))}function Dl(n=1/0){return qt(B,n)}const as=new q(n=>n.complete());function rm(n){return n[n.length-1]}function ID(n){return Te(rm(n))?n.pop():void 0}function Il(n){return function LV(n){return n&&Te(n.schedule)}(rm(n))?n.pop():void 0}function TD(n,e=0){return rt((t,r)=>{t.subscribe(new Oe(r,i=>Vr(r,n,()=>r.next(i),e),()=>Vr(r,n,()=>r.complete(),e),i=>Vr(r,n,()=>r.error(i),e)))})}function SD(n,e=0){return rt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function AD(n,e){if(!n)throw new Error("Iterable cannot be null");return new q(t=>{Vr(t,e,()=>{const r=n[Symbol.asyncIterator]();Vr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function pn(n,e){return e?function $V(n,e){if(null!=n){if(Pr(n))return function VV(n,e){return Ot(n).pipe(SD(e),TD(e))}(n,e);if(pe(n))return function UV(n,e){return new q(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(hn(n))return function BV(n,e){return Ot(n).pipe(SD(e),TD(e))}(n,e);if(se(n))return AD(n,e);if(Lr(n))return function jV(n,e){return new q(t=>{let r;return Vr(t,e,()=>{r=n[Ti](),Vr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Te(null==r?void 0:r.return)&&r.return()})}(n,e);if(ii(n))return function HV(n,e){return AD(Do(n),e)}(n,e)}throw it(n)}(n,e):Ot(n)}function wh(n){return n<=0?()=>as:rt((e,t)=>{let r=0;e.subscribe(new Oe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function im(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(wh(1)).subscribe(()=>n())}function ct(n){for(let e in n)if(n[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function sm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function om(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const GV=ct({__forward_ref__:ct});function pt(n){return n.__forward_ref__=pt,n.toString=function(){return ot(this())},n}function Re(n){return xD(n)?n():n}function xD(n){return"function"==typeof n&&n.hasOwnProperty(GV)&&n.__forward_ref__===pt}class Xe extends Error{constructor(e,t){super(function am(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Se(n){return"string"==typeof n?n:null==n?"":String(n)}function Gn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Se(n)}function Eh(n,e){const t=e?` in ${e}`:"";throw new Xe(-201,`No provider for ${Gn(n)} found${t}`)}function yr(n,e){null==n&&function Et(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function We(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Br(n){return{providers:n.providers||[],imports:n.imports||[]}}function um(n){return MD(n,bh)||MD(n,OD)}function MD(n,e){return n.hasOwnProperty(e)?n[e]:null}function kD(n){return n&&(n.hasOwnProperty(lm)||n.hasOwnProperty(ZV))?n[lm]:null}const bh=ct({\u0275prov:ct}),lm=ct({\u0275inj:ct}),OD=ct({ngInjectableDef:ct}),ZV=ct({ngInjectorDef:ct});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let cm;function Ls(n){const e=cm;return cm=n,e}function RD(n,e,t){const r=um(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&xe.Optional?null:void 0!==e?e:void Eh(ot(n),"Injector")}function Fs(n){return{toString:n}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),Si=(()=>{return(n=Si||(Si={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Si;var n})();const tB="undefined"!=typeof globalThis&&globalThis,nB="undefined"!=typeof window&&window,rB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,at=tB||"undefined"!=typeof global&&global||nB||rB,Ma={},dt=[],Ch=ct({\u0275cmp:ct}),dm=ct({\u0275dir:ct}),hm=ct({\u0275pipe:ct}),ND=ct({\u0275mod:ct}),ls=ct({\u0275fac:ct}),Tl=ct({__NG_ELEMENT_ID__:ct});let iB=0;function Ai(n){return Fs(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||dt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Si.Emulated,id:"c",styles:n.styles||dt,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=iB++,r.inputs=VD(n.inputs,t),r.outputs=VD(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(PD):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(LD):null,r})}function PD(n){return Fn(n)||function Vs(n){return n[dm]||null}(n)}function LD(n){return function Io(n){return n[hm]||null}(n)}const FD={};function ui(n){return Fs(()=>{const e={type:n.type,bootstrap:n.bootstrap||dt,declarations:n.declarations||dt,imports:n.imports||dt,exports:n.exports||dt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(FD[n.id]=n.type),e})}function VD(n,e){if(null==n)return Ma;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const Ee=Ai;function zn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Fn(n){return n[Ch]||null}function Ur(n,e){const t=n[ND]||null;if(!t&&!0===e)throw new Error(`Type ${ot(n)} does not have '\u0275mod' property.`);return t}function xi(n){return Array.isArray(n)&&"object"==typeof n[1]}function ci(n){return Array.isArray(n)&&!0===n[1]}function gm(n){return 0!=(8&n.flags)}function Sh(n){return 2==(2&n.flags)}function Ah(n){return 1==(1&n.flags)}function di(n){return null!==n.template}function cB(n){return 0!=(512&n[2])}function xo(n,e){return n.hasOwnProperty(ls)?n[ls]:null}class fB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function wr(){return UD}function UD(n){return n.type.prototype.ngOnChanges&&(n.setInput=gB),pB}function pB(){const n=HD(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Ma)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function gB(n,e,t,r){const i=HD(n)||function mB(n,e){return n[jD]=e}(n,{previous:Ma,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new fB(u&&u.currentValue,e,o===Ma),n[r]=e}wr.ngInherit=!0;const jD="__ngSimpleChanges__";function HD(n){return n[jD]||null}let ym;function Pt(n){return!!n.listen}const WD={createRenderer:(n,e)=>function _m(){return void 0!==ym?ym:"undefined"!=typeof document?document:void 0}()};function Wt(n){for(;Array.isArray(n);)n=n[0];return n}function xh(n,e){return Wt(e[n])}function $r(n,e){return Wt(e[n.index])}function wm(n,e){return n.data[e]}function Pa(n,e){return n[e]}function Er(n,e){const t=e[n];return xi(t)?t:t[0]}function GD(n){return 4==(4&n[2])}function Em(n){return 128==(128&n[2])}function Bs(n,e){return null==e?null:n[e]}function zD(n){n[18]=0}function bm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Ce={lFrame:tI(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function KD(){return Ce.bindingsEnabled}function z(){return Ce.lFrame.lView}function Je(){return Ce.lFrame.tView}function Mh(n){return Ce.lFrame.contextLView=n,n[8]}function en(){let n=QD();for(;null!==n&&64===n.type;)n=n.parent;return n}function QD(){return Ce.lFrame.currentTNode}function Mi(n,e){const t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function Cm(){return Ce.lFrame.isParent}function kh(){return Ce.isInCheckNoChangesMode}function Oh(n){Ce.isInCheckNoChangesMode=n}function La(){return Ce.lFrame.bindingIndex++}function ds(n){const e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function MB(n,e){const t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Im(e)}function Im(n){Ce.lFrame.currentDirectiveIndex=n}function JD(){return Ce.lFrame.currentQueryIndex}function Sm(n){Ce.lFrame.currentQueryIndex=n}function OB(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ZD(n,e,t){if(t&xe.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&xe.Host||(i=OB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Ce.lFrame=eI();return r.currentTNode=e,r.lView=n,!0}function Rh(n){const e=eI(),t=n[1];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eI(){const n=Ce.lFrame,e=null===n?null:n.child;return null===e?tI(n):e}function tI(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function nI(){const n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rI=nI;function Nh(){const n=nI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qn(){return Ce.lFrame.selectedIndex}function Us(n){Ce.lFrame.selectedIndex=n}function Lt(){const n=Ce.lFrame;return wm(n.tView,n.selectedIndex)}function Ph(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),l&&((n.viewHooks||(n.viewHooks=[])).push(t,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,l)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(t,d)}}function Lh(n,e,t){iI(n,e,3,t)}function Fh(n,e,t,r){(3&n[2])===t&&iI(n,e,t,r)}function Am(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function iI(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(jB(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function jB(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class kl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Vh(n,e,t){const r=Pt(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],u=t[i++];r?n.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=t[++i];Mm(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function sI(n){return 3===n||4===n||6===n}function Mm(n){return 64===n.charCodeAt(0)}function Bh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||oI(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function oI(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function aI(n){return-1!==n}function Fa(n){return 32767&n}function Va(n,e){let t=function GB(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let km=!0;function Uh(n){const e=km;return km=n,e}let zB=0;function Rl(n,e){const t=Rm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Om(r.data,n),Om(e,null),Om(r.blueprint,null));const i=jh(n,e),s=n.injectorIndex;if(aI(i)){const o=Fa(i),a=Va(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Om(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Rm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function jh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Hh(n,e,t){!function KB(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Tl)&&(r=t[Tl]),null==r&&(r=t[Tl]=zB++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function cI(n,e,t){if(t&xe.Optional)return n;Eh(e,"NodeInjector")}function dI(n,e,t,r){if(t&xe.Optional&&void 0===r&&(r=null),0==(t&(xe.Self|xe.Host))){const i=n[9],s=Ls(void 0);try{return i?i.get(e,r,t&xe.Optional):RD(e,r,t&xe.Optional)}finally{Ls(s)}}return cI(r,e,t)}function hI(n,e,t,r=xe.Default,i){if(null!==n){const s=function JB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Tl)?n[Tl]:void 0;return"number"==typeof e?e>=0?255&e:YB:e}(t);if("function"==typeof s){if(!ZD(e,n,r))return r&xe.Host?cI(i,t,r):dI(e,t,r,i);try{const o=s(r);if(null!=o||r&xe.Optional)return o;Eh(t)}finally{rI()}}else if("number"==typeof s){let o=null,a=Rm(n,e),u=-1,l=r&xe.Host?e[16][6]:null;for((-1===a||r&xe.SkipSelf)&&(u=-1===a?jh(n,e):e[a+8],-1!==u&&gI(r,!1)?(o=e[1],a=Fa(u),e=Va(u,e)):a=-1);-1!==a;){const d=e[1];if(pI(s,a,d.data)){const f=XB(a,e,t,o,r,l);if(f!==fI)return f}u=e[a+8],-1!==u&&gI(r,e[1].data[a+8]===l)&&pI(s,a,e)?(o=d,a=Fa(u),e=Va(u,e)):a=-1}}}return dI(e,t,r,i)}const fI={};function YB(){return new Ba(en(),z())}function XB(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],d=$h(a,o,t,null==r?Sh(a)&&km:r!=o&&0!=(3&a.type),i&xe.Host&&s===a);return null!==d?Nl(e,o,d,a):fI}function $h(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,d=s>>20,g=i?a+d:n.directiveEnd;for(let _=r?a:a+d;_<g;_++){const D=o[_];if(_<u&&t===D||_>=u&&D.type===t)return _}if(i){const _=o[u];if(_&&di(_)&&_.type===t)return u}return null}function Nl(n,e,t,r){let i=n[t];const s=e.data;if(function HB(n){return n instanceof kl}(i)){const o=i;o.resolving&&function zV(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(Gn(s[t]));const a=Uh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ls(o.injectImpl):null;ZD(n,r,xe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function UB(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=UD(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Ls(u),Uh(a),o.resolving=!1,rI()}}return i}function pI(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function gI(n,e){return!(n&xe.Self||n&xe.Host&&e)}class Ba{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return hI(this._tNode,this._lView,e,r,t)}}function cr(n){return Fs(()=>{const e=n.prototype.constructor,t=e[ls]||Nm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ls]||Nm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Nm(n){return xD(n)?()=>{const e=Nm(Re(n));return e&&e()}:xo(n)}function Pl(n){return function QB(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(sI(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(en(),n)}const ja="__parameters__";function $a(n,e,t){return Fs(()=>{const r=function Pm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,d){const f=u.hasOwnProperty(ja)?u[ja]:Object.defineProperty(u,ja,{value:[]})[ja];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class $e{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=We({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const e2=new $e("AnalyzeForEntryComponents");function qr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),qr(r,e)):e!==n&&e.push(r)}return e}function ki(n,e){n.forEach(t=>Array.isArray(t)?ki(t,e):e(t))}function vI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function br(n,e,t){let r=qa(n,e);return r>=0?n[1|r]=t:(r=~r,function r2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Fm(n,e){const t=qa(n,e);if(t>=0)return n[1|t]}function qa(n,e){return function wI(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Bl={},Bm="__NG_DI_FLAG__",Gh="ngTempTokenPath",c2=/\n/gm,bI="__source",h2=ct({provide:String,useValue:ct});let Ul;function CI(n){const e=Ul;return Ul=n,e}function f2(n,e=xe.Default){if(void 0===Ul)throw new Xe(203,"");return null===Ul?RD(n,void 0,e):Ul.get(n,e&xe.Optional?null:void 0,e)}function ye(n,e=xe.Default){return(function eB(){return cm}()||f2)(Re(n),e)}function Um(n){const e=[];for(let t=0;t<n.length;t++){const r=Re(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Xe(900,"");let i,s=xe.Default;for(let o=0;o<r.length;o++){const a=r[o],u=p2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ye(i,s))}else e.push(ye(r))}return e}function jl(n,e){return n[Bm]=e,n.prototype[Bm]=e,n}function p2(n){return n[Bm]}const Hl=jl($a("Inject",n=>({token:n})),-1),Oi=jl($a("Optional"),8),Wa=jl($a("SkipSelf"),4);class OI{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hs(n){return n instanceof OI?n.changingThisBreaksApplicationSecurity:n}const L2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,F2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();function Km(n){const e=function Gl(){const n=z();return n&&n[12]}();return e?e.sanitize(Gt.URL,n)||"":function ql(n,e){const t=function O2(n){return n instanceof OI&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Hs(n):function Yh(n){return(n=String(n)).match(L2)||n.match(F2)?n:"unsafe:"+n}(Se(n))}const HI="__ngContext__";function Bn(n,e){n[HI]=e}function Ym(n){const e=function zl(n){return n[HI]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Jm(n){return n.ngOriginalError}function oU(n,...e){n.error(...e)}class Ka{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function sU(n){return n&&n.ngErrorLogger||oU}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Jm(e);for(;t&&Jm(t);)t=Jm(t);return t||null}}const zI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(at))();function Ni(n){return n instanceof Function?n():n}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function ev(n,e){return undefined(n,e)}function Kl(n){const e=n[3];return ci(e)?e[3]:e}function tv(n){return JI(n[13])}function nv(n){return JI(n[4])}function JI(n){for(;null!==n&&!ci(n);)n=n[4];return n}function Ya(n,e,t,r,i){if(null!=r){let s,o=!1;ci(r)?s=r:xi(r)&&(o=!0,r=r[0]);const a=Wt(r);0===n&&null!==t?null==i?iT(e,t,a):Mo(e,t,a,i||null,!0):1===n&&null!==t?Mo(e,t,a,i||null,!0):2===n?function dT(n,e,t){const r=Jh(n,e);r&&function xU(n,e,t,r){Pt(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function OU(n,e,t,r,i){const s=t[7];s!==Wt(t)&&Ya(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];Ql(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function iv(n,e,t){return Pt(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function eT(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,bm(i,-1)),t.splice(r,1)}function sv(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&eT(i,r),e>0&&(n[t-1][4]=r[4]);const s=qh(n,10+e);!function EU(n,e){Ql(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function tT(n,e){if(!(256&e[2])){const t=e[11];Pt(t)&&t.destroyNode&&Ql(n,e,t,3,null,null),function DU(n){let e=n[13];if(!e)return ov(n[1],n);for(;e;){let t=null;if(xi(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)xi(e)&&ov(e[1],e),e=e[3];null===e&&(e=n),xi(e)&&ov(e[1],e),t=e&&e[4]}e=t}}(e)}}function ov(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function AU(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof kl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function SU(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Wt(e[o]),u=r[i=t[s+2]],l=t[s+3];"boolean"==typeof l?a.removeEventListener(t[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&ci(e[3])){t!==e[3]&&eT(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function nT(n,e,t){return function rT(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Si.None||i===Si.Emulated)return null}return $r(r,t)}(n,e.parent,t)}function Mo(n,e,t,r,i){Pt(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function iT(n,e,t){Pt(n)?n.appendChild(e,t):e.appendChild(t)}function sT(n,e,t,r,i){null!==r?Mo(n,e,t,r,i):iT(n,e,t)}function Jh(n,e){return Pt(n)?n.parentNode(e):e.parentNode}let uT=function aT(n,e,t){return 40&n.type?$r(n,t):null};function Zh(n,e,t,r){const i=nT(n,r,e),s=e[11],a=function oT(n,e,t){return uT(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)sT(s,i,t[u],a,!1);else sT(s,i,t,a,!1)}function ef(n,e){if(null!==e){const t=e.type;if(3&t)return $r(e,n);if(4&t)return uv(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ef(n,r);{const i=n[e.index];return ci(i)?uv(-1,i):Wt(i)}}if(32&t)return ev(e,n)()||Wt(n[e.index]);{const r=cT(n,e);return null!==r?Array.isArray(r)?r[0]:ef(Kl(n[16]),r):ef(n,e.next)}}return null}function cT(n,e){return null!==e?n[16][6].projection[e.projection]:null}function uv(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ef(r,i)}return e[7]}function lv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&Bn(Wt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)lv(n,e,t.child,r,i,s,!1),Ya(e,n,i,a,s);else if(32&u){const l=ev(t,r);let d;for(;d=l();)Ya(e,n,i,d,s);Ya(e,n,i,a,s)}else 16&u?hT(n,e,r,t,i,s):Ya(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Ql(n,e,t,r,i,s){lv(t,r,n.firstChild,e,i,s,!1)}function hT(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Ya(e,n,i,u[l],s);else lv(n,e,u,o[3],i,s,!0)}function fT(n,e,t){Pt(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function cv(n,e,t){Pt(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function pT(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const gT="ng-template";function NU(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==pT(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mT(n){return 4===n.type&&n.value!==gT}function PU(n,e,t){return e===(4!==n.type||t?n.value:gT)}function LU(n,e,t){let r=4;const i=n.attrs||[],s=function BU(n){for(let e=0;e<n.length;e++)if(sI(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!PU(n,u,t)||""===u&&1===e.length){if(hi(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!NU(n.attrs,l,t)){if(hi(r))return!1;o=!0}continue}const f=FU(8&r?"class":u,i,mT(n),t);if(-1===f){if(hi(r))return!1;o=!0;continue}if(""!==l){let g;g=f>s?"":i[f+1].toLowerCase();const _=8&r?g:null;if(_&&-1!==pT(_,l,0)||2&r&&l!==g){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(u))return!1;if(o&&hi(u))continue;o=!1,r=u|1&r}}return hi(r)||o}function hi(n){return 0==(1&n)}function FU(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function UU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function vT(n,e,t=!1){for(let r=0;r<e.length;r++)if(LU(n,e[r],t))return!0;return!1}function yT(n,e){return n?":not("+e.trim()+")":e}function HU(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hi(o)&&(e+=yT(s,i),i=""),r=o,s=s||!hi(r);t++}return""!==i&&(e+=yT(s,i)),e}const Ae={};function mn(n){_T(Je(),z(),Qn()+n,kh())}function _T(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Lh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Fh(e,s,0,t)}Us(t)}function tf(n,e){return n<<17|e<<2}function fi(n){return n>>17&32767}function dv(n){return 2|n}function hs(n){return(131068&n)>>2}function hv(n,e){return-131069&n|e<<2}function fv(n){return 1|n}function MT(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Sm(i),o.contentQueries(2,e[s],s)}}}function Yl(n,e,t,r,i,s,o,a,u,l){const d=e.blueprint.slice();return d[0]=i,d[2]=140|r,zD(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[16]=2==e.type?n[16]:d,d}function Xa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function bv(n,e,t,r,i){const s=QD(),o=Cm(),u=n.data[e]=function oj(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function xB(){return Ce.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Ml(){const n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mi(s,!0),s}function Ja(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Xl(n,e,t){Rh(e);try{const r=n.viewQuery;null!==r&&kv(1,r,t);const i=n.template;null!==i&&kT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&MT(n,e),n.staticViewQueries&&kv(2,n.viewQuery,t);const s=n.components;null!==s&&function rj(n,e){for(let t=0;t<e.length;t++)Dj(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Nh()}}function Za(n,e,t,r){const i=e[2];if(256==(256&i))return;Rh(e);const s=kh();try{zD(e),function YD(n){return Ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&kT(n,e,t,2,r);const o=3==(3&i);if(!s)if(o){const l=n.preOrderCheckHooks;null!==l&&Lh(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Fh(e,l,0,null),Am(e,0)}if(function bj(n){for(let e=tv(n);null!==e;e=nv(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&bm(s,1),i[2]|=1024}}}(e),function Ej(n){for(let e=tv(n);null!==e;e=nv(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Em(r)&&Za(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&MT(n,e),!s)if(o){const l=n.contentCheckHooks;null!==l&&Lh(e,l)}else{const l=n.contentHooks;null!==l&&Fh(e,l,1),Am(e,1)}!function tj(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Us(~i);else{const s=i,o=t[++r],a=t[++r];MB(o,s),a(2,e[s])}}}finally{Us(-1)}}(n,e);const a=n.components;null!==a&&function nj(n,e){for(let t=0;t<e.length;t++)Cj(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&kv(2,u,r),!s)if(o){const l=n.viewCheckHooks;null!==l&&Lh(e,l)}else{const l=n.viewHooks;null!==l&&Fh(e,l,2),Am(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,bm(e[3],-1))}finally{Nh()}}function ij(n,e,t,r){const i=e[10],s=!kh(),o=GD(e);try{s&&!o&&i.begin&&i.begin(),o&&Xl(n,e,r),Za(n,e,t,r)}finally{s&&!o&&i.end&&i.end()}}function kT(n,e,t,r,i){const s=Qn(),o=2&r;try{Us(-1),o&&e.length>20&&_T(n,e,20,kh()),t(r,i)}finally{Us(s)}}function Cv(n,e,t){!KD()||(function fj(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Rl(t,e),Bn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=di(u);l&&yj(e,t,u);const d=Nl(e,n,a,t);Bn(d,e),null!==o&&_j(0,a-i,d,u,0,o),l&&(Er(t.index,e)[8]=d)}}(n,e,t,$r(t,e)),128==(128&t.flags)&&function pj(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function kB(){return Ce.lFrame.currentDirectiveIndex}();try{Us(o);for(let u=r;u<i;u++){const l=n.data[u],d=e[u];Im(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&UT(l,d)}}finally{Us(-1),Im(a)}}(n,e,t))}function Dv(n,e,t=$r){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function RT(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=sf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function sf(n,e,t,r,i,s,o,a,u,l){const d=20+r,f=d+i,g=function sj(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ae);return t}(d,f),_="function"==typeof l?l():l;return g[1]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1}}function LT(n,e,t,r){const i=GT(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&zT(n).push(r,i.length-1))}function FT(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Iv(n,e,t,r){let i=!1;if(KD()){const s=function gj(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];vT(t,o.selectors,!1)&&(i||(i=[]),Hh(Rl(t,e),n,o.type),di(o)?(jT(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,HT(t,n.data.length,s.length);for(let d=0;d<s.length;d++){const f=s[d];f.providersResolver&&f.providersResolver(f)}let a=!1,u=!1,l=Ja(n,e,s.length,null);for(let d=0;d<s.length;d++){const f=s[d];t.mergedAttrs=Bh(t.mergedAttrs,f.hostAttrs),$T(n,t,e,l,f),vj(l,f,o),null!==f.contentQueries&&(t.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=128);const g=f.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),l++}!function aj(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const d=i[l],f=d.inputs,g=null===s||mT(e)?null:wj(f,s);o.push(g),a=FT(f,l,a),u=FT(d.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(n,t)}o&&function mj(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Xe(-301,`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Bh(t.mergedAttrs,t.attrs),i}function BT(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function hj(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function UT(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function jT(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function vj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;di(e)&&(t[""]=n)}}function HT(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function $T(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=xo(i.type)),o=new kl(s,di(i),null);n.blueprint[r]=o,t[r]=o,BT(n,e,0,r,Ja(n,t,i.hostVars,Ae),i)}function yj(n,e,t){const r=$r(e,n),i=RT(t),s=n[10],o=of(n,Yl(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Pi(n,e,t,r,i,s){const o=$r(n,e);!function Tv(n,e,t,r,i,s,o){if(null==s)Pt(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?Se(s):o(s,r||"",i);Pt(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function _j(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],d=o[u++],f=o[u++];null!==a?r.setInput(t,f,l,d):t[d]=f}}}function wj(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function qT(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Cj(n,e){const t=Er(e,n);if(Em(t)){const r=t[1];80&t[2]?Za(r,t,r.template,t[8]):t[5]>0&&Sv(t)}}function Sv(n){for(let r=tv(n);null!==r;r=nv(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Za(o,s,o.template,s[8])}else s[5]>0&&Sv(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Er(t[r],n);Em(i)&&i[5]>0&&Sv(i)}}function Dj(n,e){const t=Er(e,n),r=t[1];(function Ij(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),Xl(r,t,t[8])}function of(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Av(n){for(;n;){n[2]|=64;const e=Kl(n);if(cB(n)&&!e)return n;n=e}return null}function Mv(n,e,t){const r=e[10];r.begin&&r.begin();try{Za(n,e,n.template,t)}catch(i){throw QT(e,i),i}finally{r.end&&r.end()}}function WT(n){!function xv(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Ym(t),i=r[1];ij(i,r,i.template,t)}}(n[8])}function kv(n,e,t){Sm(0),e(n,t)}const xj=(()=>Promise.resolve(null))();function GT(n){return n[7]||(n[7]=[])}function zT(n){return n.cleanup||(n.cleanup=[])}function QT(n,e){const t=n[9],r=t?t.get(Ka,null):null;r&&r.handleError(e)}function YT(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],l=n.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function fs(n,e,t){const r=xh(e,n);!function ZI(n,e,t){Pt(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function af(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=om(i,a):2==s&&(r=om(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const Ov=new $e("INJECTOR",-1);class XT{get(e,t=Bl){if(t===Bl){const r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return t}}const Rv=new $e("Set Injector scope."),Jl={},Oj={};let Nv;function JT(){return void 0===Nv&&(Nv=new XT),Nv}function ZT(n,e=null,t=null,r){const i=eS(n,e,t,r);return i._resolveInjectorDefTypes(),i}function eS(n,e=null,t=null,r){return new Rj(n,t,e||JT(),r)}class Rj{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&ki(t,a=>this.processProvider(a,e,t)),ki([e],a=>this.processInjectorType(a,[],s)),this.records.set(Ov,eu(void 0,this));const o=this.records.get(Rv);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ot(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Bl,r=xe.Default){this.assertNotDestroyed();const i=CI(this),s=Ls(void 0);try{if(!(r&xe.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function jj(n){return"function"==typeof n||"object"==typeof n&&n instanceof $e}(e)&&um(e);a=u&&this.injectableDefInScope(u)?eu(Pv(e),Jl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&xe.Self?JT():this.parent).get(e,t=r&xe.Optional&&t===Bl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Gh]=o[Gh]||[]).unshift(ot(e)),i)throw o;return function g2(n,e,t,r){const i=n[Gh];throw e[bI]&&i.unshift(e[bI]),n.message=function m2(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(c2,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Gh]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ls(s),CI(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ot(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,"")}processInjectorType(e,t,r){if(!(e=Re(e)))return!1;let i=kD(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=kD(s)),null==i)return!1;if(null!=i.imports&&!a){let d;r.push(o);try{ki(i.imports,f=>{this.processInjectorType(f,t,r)&&(void 0===d&&(d=[]),d.push(f))})}finally{}if(void 0!==d)for(let f=0;f<d.length;f++){const{ngModule:g,providers:_}=d[f];ki(_,D=>this.processProvider(D,g,_||dt))}}this.injectorDefTypes.add(o);const u=xo(o)||(()=>new o);this.records.set(o,eu(u,Jl));const l=i.providers;if(null!=l&&!a){const d=e;ki(l,f=>this.processProvider(f,d,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=tu(e=Re(e))?e:Re(e&&e.provide);const s=function Pj(n,e,t){return nS(n)?eu(void 0,n.useValue):eu(tS(n),Jl)}(e);if(tu(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=eu(void 0,Jl,!0),o.factory=()=>Um(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Jl&&(t.value=Oj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Uj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Re(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Pv(n){const e=um(n),t=null!==e?e.factory:xo(n);if(null!==t)return t;if(n instanceof $e)throw new Xe(204,"");if(n instanceof Function)return function Nj(n){const e=n.length;if(e>0)throw function Vl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Xe(204,"");const t=function XV(n){const e=n&&(n[bh]||n[OD]);if(e){const t=function JV(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Xe(204,"")}function tS(n,e,t){let r;if(tu(n)){const i=Re(n);return xo(i)||Pv(i)}if(nS(n))r=()=>Re(n.useValue);else if(function Fj(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Um(n.deps||[]));else if(function Lj(n){return!(!n||!n.useExisting)}(n))r=()=>ye(Re(n.useExisting));else{const i=Re(n&&(n.useClass||n.provide));if(!function Bj(n){return!!n.deps}(n))return xo(i)||Pv(i);r=()=>new i(...Um(n.deps))}return r}function eu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nS(n){return null!==n&&"object"==typeof n&&h2 in n}function tu(n){return"function"==typeof n}let Un=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return ZT({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return ZT({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Bl,n.NULL=new XT,n.\u0275prov=We({token:n,providedIn:"any",factory:()=>ye(Ov)}),n.__NG_ELEMENT_ID__=-1,n})();function Qj(n,e){Ph(Ym(n)[1],en())}function ht(n){let e=function pS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(di(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Xe(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Vv(n.inputs),o.declaredInputs=Vv(n.declaredInputs),o.outputs=Vv(n.outputs);const a=i.hostBindings;a&&Zj(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&Xj(n,u),l&&Jj(n,l),sm(n.inputs,i.inputs),sm(n.declaredInputs,i.declaredInputs),sm(n.outputs,i.outputs),di(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ht&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Yj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bh(i.hostAttrs,t=Bh(t,i.hostAttrs))}}(r)}function Vv(n){return n===Ma?{}:n===dt?[]:n}function Xj(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Jj(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Zj(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let uf=null;function nu(){if(!uf){const n=at.Symbol;if(n&&n.iterator)uf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(uf=r)}}}return uf}function Zl(n){return!!Bv(n)&&(Array.isArray(n)||!(n instanceof Map)&&nu()in n)}function Bv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Fi(n,e,t,r){const i=z();return jn(i,La(),e)&&(Je(),Pi(Lt(),i,n,e,t,r)),Fi}function tc(n,e,t,r,i,s,o,a){const u=z(),l=Je(),d=n+20,f=l.firstCreatePass?function oH(n,e,t,r,i,s,o,a,u){const l=e.consts,d=Xa(e,n,4,o||null,Bs(l,a));Iv(e,t,d,Bs(l,u)),Ph(e,d);const f=d.tViews=sf(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}(d,l,u,e,t,r,i,s,o):l.data[d];Mi(f,!1);const g=u[11].createComment("");Zh(l,u,g,f),Bn(g,u),of(u,u[d]=qT(g,u,g,f)),Ah(f)&&Cv(l,u,f),null!=o&&Dv(u,f,a)}function hu(n){return Pa(function AB(){return Ce.lFrame.contextLView}(),20+n)}function K(n,e=xe.Default){const t=z();return null===t?ye(n,e):hI(en(),t,Re(n),e)}function qv(){throw new Error("invalid")}function nn(n,e,t){const r=z();return jn(r,La(),e)&&function Dr(n,e,t,r,i,s,o,a){const u=$r(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[r])?(YT(n,t,d,r,i),Sh(e)&&function lj(n,e){const t=Er(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function uj(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Pt(s)?s.setProperty(u,r,i):Mm(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(Je(),Lt(),r,n,e,r[11],t,!1),nn}function Wv(n,e,t,r,i){const o=i?"class":"style";YT(n,t,e.inputs[o],o,r)}function ae(n,e,t,r){const i=z(),s=Je(),o=20+n,a=i[11],u=i[o]=iv(a,e,function BB(){return Ce.lFrame.currentNamespace}()),l=s.firstCreatePass?function SH(n,e,t,r,i,s,o){const a=e.consts,l=Xa(e,n,2,i,Bs(a,s));return Iv(e,t,l,Bs(a,o)),null!==l.attrs&&af(l,l.attrs,!1),null!==l.mergedAttrs&&af(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,t,r):s.data[o];Mi(l,!0);const d=l.mergedAttrs;null!==d&&Vh(a,u,d);const f=l.classes;null!==f&&cv(a,u,f);const g=l.styles;null!==g&&fT(a,u,g),64!=(64&l.flags)&&Zh(s,i,u,l),0===function CB(){return Ce.lFrame.elementDepthCount}()&&Bn(u,i),function DB(){Ce.lFrame.elementDepthCount++}(),Ah(l)&&(Cv(s,i,l),function OT(n,e,t){if(gm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,l,i)),null!==r&&Dv(i,l)}function ue(){let n=en();Cm()?function Dm(){Ce.lFrame.isParent=!1}():(n=n.parent,Mi(n,!1));const e=n;!function IB(){Ce.lFrame.elementDepthCount--}();const t=Je();t.firstCreatePass&&(Ph(t,n),gm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function qB(n){return 0!=(16&n.flags)}(e)&&Wv(t,e,z(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function WB(n){return 0!=(32&n.flags)}(e)&&Wv(t,e,z(),e.stylesWithoutHost,!1)}function rn(n,e,t,r){ae(n,e,t,r),ue()}function Gv(){return z()}function nc(n){return!!n&&"function"==typeof n.then}const zv=function LS(n){return!!n&&"function"==typeof n.subscribe};function zt(n,e,t,r){const i=z(),s=Je(),o=en();return function VS(n,e,t,r,i,s,o,a){const u=Ah(r),d=n.firstCreatePass&&zT(n),f=e[8],g=GT(e);let _=!0;if(3&r.type||a){const P=$r(r,e),H=a?a(P):P,F=g.length,J=a?oe=>a(Wt(oe[r.index])):r.index;if(Pt(t)){let oe=null;if(!a&&u&&(oe=function MH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==oe)(oe.__ngLastListenerFn__||oe).__ngNextListenerFn__=s,oe.__ngLastListenerFn__=s,_=!1;else{s=Kv(r,e,f,s,!1);const fe=t.listen(H,i,s);g.push(s,fe),d&&d.push(i,J,F,F+1)}}else s=Kv(r,e,f,s,!0),H.addEventListener(i,s,o),g.push(s),d&&d.push(i,J,F,o)}else s=Kv(r,e,f,s,!1);const D=r.outputs;let x;if(_&&null!==D&&(x=D[i])){const P=x.length;if(P)for(let H=0;H<P;H+=2){const Be=e[x[H]][x[H+1]].subscribe(s),Dt=g.length;g.push(s,Be),d&&d.push(i,r.index,Dt,-(Dt+1))}}}(s,i,i[11],o,n,e,!!t,r),zt}function BS(n,e,t,r){try{return!1!==t(r)}catch(i){return QT(n,i),!1}}function Kv(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Er(n.index,e):e;0==(32&e[2])&&Av(a);let u=BS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=BS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function US(n=1){return function RB(n){return(Ce.lFrame.contextLView=function NB(n,e){for(;n>0;)e=e[15],n--;return e}(n,Ce.lFrame.contextLView))[8]}(n)}function YS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?fi(s):hs(s),u=!1;for(;0!==a&&(!1===u||o);){const d=n[a+1];LH(n[a],e)&&(u=!0,n[a+1]=r?fv(d):dv(d)),a=r?fi(d):hs(d)}u&&(n[t+1]=r?dv(s):fv(s))}function LH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&qa(n,e)>=0}const sn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XS(n){return n.substring(sn.key,sn.keyEnd)}function JS(n,e){const t=sn.textEnd;return t===e?-1:(e=sn.keyEnd=function UH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,sn.key=e,t),pu(n,e,t))}function pu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function df(n,e){return function gi(n,e,t,r){const i=z(),s=Je(),o=ds(2);s.firstUpdatePass&&oA(s,n,o,r),e!==Ae&&jn(i,o,e)&&uA(s,s.data[Qn()],i,i[11],n,i[o+1]=function YH(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ot(Hs(n)))),n}(e,t),r,o)}(n,e,null,!0),df}function iA(n){!function mi(n,e,t,r){const i=Je(),s=ds(2);i.firstUpdatePass&&oA(i,null,s,r);const o=z();if(t!==Ae&&jn(o,s,t)){const a=i.data[Qn()];if(cA(a,r)&&!sA(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=om(u,t||"")),Wv(i,a,o,t,r)}else!function QH(n,e,t,r,i,s,o,a){i===Ae&&(i=dt);let u=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const g=u<i.length?i[u+1]:void 0,_=l<s.length?s[l+1]:void 0;let x,D=null;d===f?(u+=2,l+=2,g!==_&&(D=f,x=_)):null===f||null!==d&&d<f?(u+=2,D=d):(l+=2,D=f,x=_),null!==D&&uA(n,e,t,r,D,x,o,a),d=u<i.length?i[u]:null,f=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function KH(n,e,t){if(null==t||""===t)return dt;const r=[],i=Hs(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(br,Bi,n,!0)}function Bi(n,e){for(let t=function VH(n){return function eA(n){sn.key=0,sn.keyEnd=0,sn.value=0,sn.valueEnd=0,sn.textEnd=n.length}(n),JS(n,pu(n,0,sn.textEnd))}(e);t>=0;t=JS(e,t))br(n,XS(e),!0)}function sA(n,e){return e>=n.expandoStartIndex}function oA(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Qn()],o=sA(n,t);cA(s,r)&&null===e&&!o&&(e=!1),e=function qH(n,e,t,r){const i=function Tm(n){const e=Ce.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=rc(t=Yv(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Yv(i,n,e,t,r),null===s){let u=function WH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hs(r))return n[fi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Yv(null,n,e,u[1],r),u=rc(u,e.attrs,r),function GH(n,e,t,r){n[fi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function zH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=rc(r,n[s].hostAttrs,t);return rc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function NH(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=hs(o);n[r]=t;let d,l=!1;if(Array.isArray(t)){const f=t;d=f[1],(null===d||qa(f,d)>0)&&(l=!0)}else d=t;if(i)if(0!==u){const g=fi(n[a+1]);n[r+1]=tf(g,a),0!==g&&(n[g+1]=hv(n[g+1],r)),n[a+1]=function WU(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=tf(a,0),0!==a&&(n[a+1]=hv(n[a+1],r)),a=r;else n[r+1]=tf(u,0),0===a?a=r:n[u+1]=hv(n[u+1],r),u=r;l&&(n[r+1]=dv(n[r+1])),YS(n,d,r,!0),YS(n,d,r,!1),function PH(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&qa(s,e)>=0&&(t[r+1]=fv(t[r+1]))}(e,d,n,r,s),o=tf(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Yv(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=rc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function rc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),br(n,o,!!t||e[++s]))}return void 0===n?null:n}function uA(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1];hf(function bT(n){return 1==(1&n)}(l)?lA(u,e,t,i,hs(l),o):void 0)||(hf(s)||function ET(n){return 2==(2&n)}(l)&&(s=lA(u,null,t,i,a,o)),function RU(n,e,t,r,i){const s=Pt(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Cr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,xh(Qn(),t),i,s))}function lA(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),d=l?u[1]:u,f=null===d;let g=t[i+1];g===Ae&&(g=f?dt:void 0);let _=f?Fm(g,r):d===r?g:void 0;if(l&&!hf(_)&&(_=Fm(u,r)),hf(_)&&(a=_,o))return a;const D=n[i+1];i=o?fi(D):hs(D)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Fm(u,r))}return a}function hf(n){return void 0!==n}function cA(n,e){return 0!=(n.flags&(e?16:32))}function Ke(n,e=""){const t=z(),r=Je(),i=n+20,s=r.firstCreatePass?Xa(r,i,1,e,null):r.data[i],o=t[i]=function rv(n,e){return Pt(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Zh(r,t,o,s),Mi(s,!1)}function Xv(n){return ff("",n,""),Xv}function ff(n,e,t){const r=z(),i=function iu(n,e,t,r){return jn(n,La(),t)?e+Se(t)+r:Ae}(r,n,e,t);return i!==Ae&&fs(r,Qn(),i),ff}const Oo=void 0;var m$=["en",[["a","p"],["AM","PM"],Oo],[["AM","PM"],Oo,Oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oo,"{1} 'at' {0}",Oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g$(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let gu={};function kA(n){return n in gu||(gu[n]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[n]),gu[n]}var ie=(()=>((ie=ie||{})[ie.LocaleId=0]="LocaleId",ie[ie.DayPeriodsFormat=1]="DayPeriodsFormat",ie[ie.DayPeriodsStandalone=2]="DayPeriodsStandalone",ie[ie.DaysFormat=3]="DaysFormat",ie[ie.DaysStandalone=4]="DaysStandalone",ie[ie.MonthsFormat=5]="MonthsFormat",ie[ie.MonthsStandalone=6]="MonthsStandalone",ie[ie.Eras=7]="Eras",ie[ie.FirstDayOfWeek=8]="FirstDayOfWeek",ie[ie.WeekendRange=9]="WeekendRange",ie[ie.DateFormat=10]="DateFormat",ie[ie.TimeFormat=11]="TimeFormat",ie[ie.DateTimeFormat=12]="DateTimeFormat",ie[ie.NumberSymbols=13]="NumberSymbols",ie[ie.NumberFormats=14]="NumberFormats",ie[ie.CurrencyCode=15]="CurrencyCode",ie[ie.CurrencySymbol=16]="CurrencySymbol",ie[ie.CurrencyName=17]="CurrencyName",ie[ie.Currencies=18]="Currencies",ie[ie.Directionality=19]="Directionality",ie[ie.PluralCase=20]="PluralCase",ie[ie.ExtraData=21]="ExtraData",ie))();const pf="en-US";let OA=pf;function ey(n,e,t,r,i){if(n=Re(n),Array.isArray(n))for(let s=0;s<n.length;s++)ey(n[s],e,t,r,i);else{const s=Je(),o=z();let a=tu(n)?n:Re(n.provide),u=tS(n);const l=en(),d=1048575&l.providerIndexes,f=l.directiveStart,g=l.providerIndexes>>20;if(tu(n)||!n.multi){const _=new kl(u,i,K),D=ny(a,e,i?d:d+g,f);-1===D?(Hh(Rl(l,o),s,a),ty(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)):(t[D]=_,o[D]=_)}else{const _=ny(a,e,d+g,f),D=ny(a,e,d,d+g),x=_>=0&&t[_],P=D>=0&&t[D];if(i&&!P||!i&&!x){Hh(Rl(l,o),s,a);const H=function gq(n,e,t,r,i){const s=new kl(n,t,K);return s.multi=[],s.index=e,s.componentProviders=0,nx(s,i,r&&!t),s}(i?pq:fq,t.length,i,r,u);!i&&P&&(t[D].providerFactory=H),ty(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(H),o.push(H)}else ty(s,n,_>-1?_:D,nx(t[i?D:_],u,!i&&r));!i&&r&&P&&t[D].componentProviders++}}}function ty(n,e,t,r){const i=tu(e),s=function Vj(n){return!!n.useClass}(e);if(i||s){const u=(s?Re(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[r,u]):l[d+1].push(r,u)}else l.push(t,u)}}}function nx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ny(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function fq(n,e,t,r){return ry(this.multi,[])}function pq(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Nl(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),ry(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],ry(i,s);return s}function ry(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function At(n,e=[]){return t=>{t.providersResolver=(r,i)=>function hq(n,e,t){const r=Je();if(r.firstCreatePass){const i=di(n);ey(t,r.data,r.blueprint,i,!0),ey(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class rx{}class yq{resolveComponentFactory(e){throw function vq(n){const e=Error(`No component factory found for ${ot(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let vu=(()=>{class n{}return n.NULL=new yq,n})();function _q(){return yu(en(),z())}function yu(n,e){return new Ir($r(n,e))}let Ir=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=_q,n})();function wq(n){return n instanceof Ir?n.nativeElement:n}class sx{}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bq(){const n=z(),t=Er(en().index,n);return function Eq(n){return n[11]}(xi(t)?t:n)}(),n})(),Cq=(()=>{class n{}return n.\u0275prov=We({token:n,providedIn:"root",factory:()=>null}),n})();class uc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Dq=new uc("13.1.3"),iy={};function _f(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Wt(s)),ci(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&_f(u[1],u,l,r)}const o=t.type;if(8&o)_f(n,e,t.child,r);else if(32&o){const a=ev(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=cT(e,t);if(Array.isArray(a))r.push(...a);else{const u=Kl(e[16]);_f(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class lc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _f(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ci(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(sv(e,r),qh(t,r))}this._attachedToViewContainer=!1}tT(this._lView[1],this._lView)}onDestroy(e){LT(this._lView[1],this._lView,null,e)}markForCheck(){Av(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Sj(n,e,t){Oh(!0);try{Mv(n,e,t)}finally{Oh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CU(n,e){Ql(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Xe(902,"");this._appRef=e}}class Iq extends lc{constructor(e){super(e),this._view=e}detectChanges(){WT(this._view)}checkNoChanges(){!function Aj(n){Oh(!0);try{WT(n)}finally{Oh(!1)}}(this._view)}get context(){return null}}class ox extends vu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Fn(e);return new sy(t,this.ngModule)}}function ax(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const Sq=new $e("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zI});class sy extends rx{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $U(n){return n.map(HU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ax(this.componentDef.inputs)}get outputs(){return ax(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function Aq(n,e){return{get:(t,r,i)=>{const s=n.get(t,iy,i);return s!==iy||r===iy?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(sx,WD),a=s.get(Cq,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function PT(n,e,t){if(Pt(n))return n.selectRootElement(e,t===Si.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):iv(o.createRenderer(null,this.componentDef),l,function Tq(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,g=function fS(n,e){return{components:[],scheduler:n||zI,clean:xj,playerHandler:e||null,flags:0}}(),_=sf(0,null,null,1,0,null,null,null,null,null),D=Yl(null,_,g,f,null,null,o,u,a,s);let x,P;Rh(D);try{const H=function dS(n,e,t,r,i,s){const o=t[1];t[20]=n;const u=Xa(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(af(u,l,!0),null!==n&&(Vh(i,n,l),null!==u.classes&&cv(i,n,u.classes),null!==u.styles&&fT(i,n,u.styles)));const d=r.createRenderer(n,e),f=Yl(t,RT(e),null,e.onPush?64:16,t[20],u,r,d,s||null,null);return o.firstCreatePass&&(Hh(Rl(u,t),o,e.type),jT(o,u),HT(u,t.length,1)),of(t,f),t[20]=f}(d,this.componentDef,D,o,u);if(d)if(r)Vh(u,d,["ng-version",Dq.full]);else{const{attrs:F,classes:J}=function qU(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);F&&Vh(u,d,F),J&&J.length>0&&cv(u,d,J.join(" "))}if(P=wm(_,20),void 0!==t){const F=P.projection=[];for(let J=0;J<this.ngContentSelectors.length;J++){const oe=t[J];F.push(null!=oe?Array.from(oe):null)}}x=function hS(n,e,t,r,i){const s=t[1],o=function dj(n,e,t){const r=en();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),$T(n,r,e,Ja(n,e,1,null),t));const i=Nl(e,n,r.directiveStart,r);Bn(i,e);const s=$r(r,e);return s&&Bn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=en();e.contentQueries(1,o,u.directiveStart)}const a=en();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Us(a.index),BT(t[1],a,0,a.directiveStart,a.directiveEnd,e),UT(e,o)),o}(H,this.componentDef,D,g,[Qj]),Xl(_,D,null)}finally{Nh()}return new Mq(this.componentType,x,yu(P,D),D,P)}}class Mq extends class mq{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Iq(i),this.componentType=e}get injector(){return new Ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class gs{}class ux{}const _u=new Map;class dx extends gs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ox(this);const r=Ur(e);this._bootstrapComponents=Ni(r.bootstrap),this._r3Injector=eS(e,t,[{provide:gs,useValue:this},{provide:vu,useValue:this.componentFactoryResolver}],ot(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Un.THROW_IF_NOT_FOUND,r=xe.Default){return e===Un||e===gs||e===Ov?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oy extends ux{constructor(e){super(),this.moduleType=e,null!==Ur(e)&&function Oq(n){const e=new Set;!function t(r){const i=Ur(r,!0),s=i.id;null!==s&&(function lx(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${ot(e)} vs ${ot(e.name)}`)}(s,_u.get(s),r),_u.set(s,r));const o=Ni(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new dx(this.moduleType,e)}}function hx(n,e,t,r,i,s){const o=e+t;return jn(n,o,i)?function Li(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function cc(n,e){const t=n[e];return t===Ae?void 0:t}(n,o+1)}function yx(n,e,t){const r=n+20,i=z(),s=Pa(i,r);return function dc(n,e){return n[1].data[e].pure}(i,r)?hx(i,function Kn(){const n=Ce.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function ay(n){return e=>{setTimeout(n,void 0,e)}}const Vt=class Kq extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,u=t||(()=>null),l=r;if(e&&"object"==typeof e){const f=e;a=null===(i=f.next)||void 0===i?void 0:i.bind(f),u=null===(s=f.error)||void 0===s?void 0:s.bind(f),l=null===(o=f.complete)||void 0===o?void 0:o.bind(f)}this.__isAsync&&(u=ay(u),a&&(a=ay(a)),l&&(l=ay(l)));const d=super.subscribe({next:a,error:u,complete:l});return e instanceof ze&&e.add(d),d}};function Qq(){return this._results[nu()]()}class uy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=nu(),r=uy.prototype;r[t]||(r[t]=Qq)}get changes(){return this._changes||(this._changes=new Vt)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=qr(e);(this._changesDetected=!function t2(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jq,n})();const Yq=ms,Xq=class extends Yq{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Yl(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),Xl(t,r,e),new lc(r)}};function Jq(){return wf(en(),z())}function wf(n,e){return 4&n.type?new Xq(e,n,yu(n,e)):null}let vi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zq,n})();function Zq(){return Ex(en(),z())}const eW=vi,_x=class extends eW{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new Ba(this._hostTNode,this._hostLView)}get parentInjector(){const e=jh(this._hostTNode,this._hostLView);if(aI(e)){const t=Va(e,this._hostLView),r=Fa(e);return new Ba(t[1].data[r+8],t)}return new Ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wx(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Fl(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const f=t||{};a=f.index,r=f.injector,i=f.projectableNodes,s=f.ngModuleRef}const u=o?e:new sy(Fn(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule&&l){const f=l.get(gs,null);f&&(s=f)}const d=u.create(l,i,void 0,s);return this.insert(d.hostView,a),d}insert(e,t){const r=e._lView,i=r[1];if(function bB(n){return ci(n[3])}(r)){const d=this.indexOf(e);if(-1!==d)this.detach(d);else{const f=r[3],g=new _x(f,f[6],f[3]);g.detach(g.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function IU(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],vI(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function TU(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=uv(s,o),u=r[11],l=Jh(u,o[7]);return null!==l&&function bU(n,e,t,r,i,s){r[0]=i,r[6]=e,Ql(n,r,t,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),vI(ly(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wx(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);r&&(qh(ly(this._lContainer),t),tT(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=sv(this._lContainer,t);return r&&null!=qh(ly(this._lContainer),t)?new lc(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function wx(n){return n[8]}function ly(n){return n[8]||(n[8]=[])}function Ex(n,e){let t;const r=e[n.index];if(ci(r))t=r;else{let i;if(8&n.type)i=Wt(r);else{const s=e[11];i=s.createComment("");const o=$r(n,e);Mo(s,Jh(s,o),i,function MU(n,e){return Pt(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=qT(r,e,i,n),of(e,t)}return new _x(t,n,e)}class cy{constructor(e){this.queryList=e,this.matches=null}clone(){return new cy(this.queryList)}setDirty(){this.queryList.setDirty()}}class dy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new dy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Tx(e,t).matches&&this.queries[t].setDirty()}}class bx{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class hy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new hy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class fy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new fy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,rW(t,s)),this.matchTNodeWithReadOption(e,t,$h(t,e,s,!1,!1))}else r===ms?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$h(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ir||i===vi||i===ms&&4&t.type)this.addMatch(t.index,-2);else{const s=$h(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function rW(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function sW(n,e,t,r){return-1===t?function iW(n,e){return 11&n.type?yu(n,e):4&n.type?wf(n,e):null}(e,n):-2===t?function oW(n,e,t){return t===Ir?yu(e,n):t===ms?wf(e,n):t===vi?Ex(e,n):void 0}(n,e,r):Nl(n,n[1],t,e)}function Cx(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:sW(e,s[l],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function py(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Cx(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const l=s[a+1],d=e[-u];for(let f=10;f<d.length;f++){const g=d[f];g[17]===g[3]&&py(g[1],g,l,r)}if(null!==d[9]){const f=d[9];for(let g=0;g<f.length;g++){const _=f[g];py(_[1],_,l,r)}}}}}return r}function gy(n){const e=z(),t=Je(),r=JD();Sm(r+1);const i=Tx(t,r);if(n.dirty&&GD(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?py(t,e,r,[]):Cx(t,e,i,r);n.reset(s,wq),n.notifyOnChanges()}return!0}return!1}function my(n,e,t,r){const i=Je();if(i.firstCreatePass){const s=en();(function Ix(n,e,t){null===n.queries&&(n.queries=new hy),n.queries.track(new fy(e,t))})(i,new bx(e,t,r),s.index),function lW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function Dx(n,e,t){const r=new uy(4==(4&t));LT(n,e,r,r.destroy),null===e[19]&&(e[19]=new dy),e[19].queries.push(new cy(r))}(i,z(),t)}function vy(){return function uW(n,e){return n[19].queries[e].queryList}(z(),JD())}function Tx(n,e){return n.queries.getByIndex(e)}function Cf(...n){}const Df=new $e("Application Initializer");let Eu=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Cf,this.reject=Cf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(nc(s))t.push(s);else if(zv(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ye(Df,8))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const fc=new $e("AppId"),AW={provide:fc,useFactory:function SW(){return`${Cy()}${Cy()}${Cy()}`},deps:[]};function Cy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $x=new $e("Platform Initializer"),Dy=new $e("Platform ID"),qx=new $e("appBootstrapListener");let Wx=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const Ws=new $e("LocaleId"),Gx=new $e("DefaultCurrencyCode");class xW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let If=(()=>{class n{compileModuleSync(t){return new oy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ni(Ur(t).declarations).reduce((o,a)=>{const u=Fn(a);return u&&o.push(new sy(u)),o},[]);return new xW(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const kW=(()=>Promise.resolve(0))();function Iy(n){"undefined"==typeof Zone?kW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class on{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function OW(){let n=at.requestAnimationFrame,e=at.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function PW(n){const e=()=>{!function NW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(at,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sy(n),n.isCheckStableRunning=!0,Ty(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return zx(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Kx(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return zx(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Kx(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Sy(n),Ty(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!on.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(on.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,RW,Cf,Cf);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const RW={};function Ty(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Kx(n){n._nesting--,Ty(n)}class LW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let Ay=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{on.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ye(on))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})(),Qx=(()=>{class n{constructor(){this._applications=new Map,xy.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return xy.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();class FW{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let yi,xy=new FW;const Yx=new $e("AllowMultipleToken");class Xx{constructor(e,t){this.name=e,this.token=t}}function Jx(n,e,t=[]){const r=`Platform: ${e}`,i=new $e(r);return(s=[])=>{let o=Zx();if(!o||o.injector.get(Yx,!1))if(n)n(t.concat(s).concat({provide:i,useValue:!0}));else{const a=t.concat(s).concat({provide:i,useValue:!0},{provide:Rv,useValue:"platform"});!function jW(n){if(yi&&!yi.destroyed&&!yi.injector.get(Yx,!1))throw new Xe(400,"");yi=n.get(eM);const e=n.get($x,null);e&&e.forEach(t=>t())}(Un.create({providers:a,name:r}))}return function HW(n){const e=Zx();if(!e)throw new Xe(401,"");return e}()}}function Zx(){return yi&&!yi.destroyed?yi:null}let eM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function $W(n,e){let t;return t="noop"===n?new LW:("zone.js"===n?void 0:n)||new on({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:on,useValue:a}];return a.run(()=>{const l=Un.create({providers:u,parent:this.injector,name:t.moduleType.name}),d=t.create(l),f=d.injector.get(Ka,null);if(!f)throw new Xe(402,"");return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:_=>{f.handleError(_)}});d.onDestroy(()=>{My(this._modules,d),g.unsubscribe()})}),function qW(n,e,t){try{const r=t();return nc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(f,a,()=>{const g=d.injector.get(Eu);return g.runInitializers(),g.donePromise.then(()=>(function E$(n){yr(n,"Expected localeId to be defined"),"string"==typeof n&&(OA=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Ws,pf)||pf),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,r=[]){const i=tM({},r);return function BW(n,e,t){const r=new oy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(pc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Xe(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ye(Un))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();function tM(n,e){return Array.isArray(e)?e.reduce(tM,n):Object.assign(Object.assign({},n),e)}let pc=(()=>{class n{constructor(t,r,i,s,o){this._zone=t,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new q(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),u=new q(l=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{on.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{on.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),f.unsubscribe()}});this.isStable=function qV(...n){const e=Il(n),t=function FV(n,e){return"number"==typeof rm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Ot(r[0]):Dl(t)(pn(r,e)):as}(a,u.pipe(function WV(n={}){const{connector:e=(()=>new nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o=null,a=null,u=null,l=0,d=!1,f=!1;const g=()=>{null==a||a.unsubscribe(),a=null},_=()=>{g(),o=u=null,d=f=!1},D=()=>{const x=o;_(),null==x||x.unsubscribe()};return rt((x,P)=>{l++,!f&&!d&&g();const H=u=null!=u?u:e();P.add(()=>{l--,0===l&&!f&&!d&&(a=im(D,i))}),H.subscribe(P),o||(o=new c({next:F=>H.next(F),error:F=>{f=!0,g(),a=im(_,t,F),H.error(F)},complete:()=>{d=!0,g(),a=im(_,r),H.complete()}}),pn(x).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new Xe(405,"");let i;i=t instanceof rx?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function UW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(gs),a=i.create(Un.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(Ay,null),d=l&&a.injector.get(Qx);return l&&d&&d.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),My(this.components,a),d&&d.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Xe(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;My(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qx,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(ye(on),ye(Un),ye(Ka),ye(vu),ye(Eu))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();function My(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let rM=!0,ky=(()=>{class n{}return n.__NG_ELEMENT_ID__=zW,n})();function zW(n){return function KW(n,e,t){if(Sh(n)&&!t){const r=Er(n.index,e);return new lc(r,r)}return 47&n.type?new lc(e[16],e):null}(en(),z(),16==(16&n))}class cM{constructor(){}supports(e){return Zl(e)}create(e){return new e3(e)}}const ZW=(n,e)=>e;class e3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ZW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<hM(r,i,s)?t:r,a=hM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,d=u-i;if(l!=d){for(let g=0;g<l;g++){const _=g<s.length?s[g]:s[g]=0,D=_+g;d<=D&&D<l&&(s[g]=_+1)}s[o.previousIndex]=d-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Zl(e))throw new Xe(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function sH(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[nu()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new t3(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class t3{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class dM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new n3,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class fM{constructor(){}supports(e){return e instanceof Map||Bv(e)}create(){return new r3}}class r3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Bv(e)))throw new Xe(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new i3(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class i3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pM(){return new gc([new cM])}let gc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pM()),deps:[[n,new Wa,new Oi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Xe(901,"")}}return n.\u0275prov=We({token:n,providedIn:"root",factory:pM}),n})();function gM(){return new bu([new fM])}let bu=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gM()),deps:[[n,new Wa,new Oi]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(r)return r;throw new Xe(901,"")}}return n.\u0275prov=We({token:n,providedIn:"root",factory:gM}),n})();const s3=[new fM],a3=new gc([new cM]),u3=new bu(s3),l3=Jx(null,"core",[{provide:Dy,useValue:"unknown"},{provide:eM,deps:[Un]},{provide:Qx,deps:[]},{provide:Wx,deps:[]}]),p3=[{provide:pc,useClass:pc,deps:[on,Un,Ka,vu,Eu]},{provide:Sq,deps:[on],useFactory:function g3(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Eu,useClass:Eu,deps:[[new Oi,Df]]},{provide:If,useClass:If,deps:[]},AW,{provide:gc,useFactory:function c3(){return a3},deps:[]},{provide:bu,useFactory:function d3(){return u3},deps:[]},{provide:Ws,useFactory:function h3(n){return n||function f3(){return"undefined"!=typeof $localize&&$localize.locale||pf}()},deps:[[new Hl(Ws),new Oi,new Wa]]},{provide:Gx,useValue:"USD"}];let m3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ye(pc))},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({providers:p3}),n})(),Sf=null;function Ui(){return Sf}const Gr=new $e("DocumentToken");let No=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:function(){return function w3(){return ye(mM)}()},providedIn:"platform"}),n})();const E3=new $e("Location Initialized");let mM=(()=>{class n extends No{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ui().getBaseHref(this._doc)}onPopState(t){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){vM()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){vM()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ye(Gr))},n.\u0275prov=We({token:n,factory:function(){return function b3(){return new mM(ye(Gr))}()},providedIn:"platform"}),n})();function vM(){return!!window.history.pushState}function Ly(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function yM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function vs(n){return n&&"?"!==n[0]?"?"+n:n}let Cu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:function(){return function C3(n){const e=ye(Gr).location;return new _M(ye(No),e&&e.origin||"")}()},providedIn:"root"}),n})();const Fy=new $e("appBaseHref");let _M=(()=>{class n extends Cu{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ly(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+vs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(ye(No),ye(Fy,8))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})(),D3=(()=>{class n extends Cu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ly(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+vs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(ye(No),ye(Fy,8))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})(),Vy=(()=>{class n{constructor(t,r){this._subject=new Vt,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=yM(wM(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vs(r))}normalize(t){return n.stripTrailingSlash(function T3(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,wM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vs(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vs(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=vs,n.joinWithSlash=Ly,n.stripTrailingSlash=yM,n.\u0275fac=function(t){return new(t||n)(ye(Cu),ye(No))},n.\u0275prov=We({token:n,factory:function(){return function I3(){return new Vy(ye(Cu),ye(No))}()},providedIn:"root"}),n})();function wM(n){return n.replace(/\/index.html$/,"")}var Kt=(()=>((Kt=Kt||{})[Kt.Zero=0]="Zero",Kt[Kt.One=1]="One",Kt[Kt.Two=2]="Two",Kt[Kt.Few=3]="Few",Kt[Kt.Many=4]="Many",Kt[Kt.Other=5]="Other",Kt))();const R3=function MA(n){return function Xn(n){const e=function v$(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=kA(e);if(t)return t;const r=e.split("-")[0];if(t=kA(r),t)return t;if("en"===r)return m$;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[ie.PluralCase]};class Ff{}let uG=(()=>{class n extends Ff{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(R3(r||this.locale)(t)){case Kt.Zero:return"zero";case Kt.One:return"one";case Kt.Two:return"two";case Kt.Few:return"few";case Kt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(ye(Ws))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();class hG{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xM=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new hG(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),MM(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{MM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(K(vi),K(ms),K(gc))},n.\u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function MM(n,e){n.context.$implicit=e.item}let kM=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(K(vi),K(ms))},n.\u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class fG{constructor(){this.$implicit=null,this.ngIf=null}}function OM(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ot(e)}'.`)}let UG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({providers:[{provide:Ff,useClass:uG}]}),n})();let qG=(()=>{class n{}return n.\u0275prov=We({token:n,providedIn:"root",factory:()=>new WG(ye(Gr),window)}),n})();class WG{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function GG(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=LM(this.window.history)||LM(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function LM(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xy extends class KG extends class _3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function y3(n){Sf||(Sf=n)}(new Xy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function QG(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}();return null==t?null:function YG(n){Vf=Vf||document.createElement("a"),Vf.setAttribute("href",n);const e=Vf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lG(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Vf,yc=null;const FM=new $e("TRANSITION_ID"),JG=[{provide:Df,useFactory:function XG(n,e,t){return()=>{t.get(Eu).donePromise.then(()=>{const r=Ui(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[FM,Gr,Un],multi:!0}];class Jy{static init(){!function VW(n){xy=n}(new Jy)}addToWindow(e){at.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},at.getAllAngularTestabilities=()=>e.getAllTestabilities(),at.getAllAngularRootElements=()=>e.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(r=>{const i=at.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ui().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ZG=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const Bf=new $e("EventManagerPlugins");let Uf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ye(Bf),ye(on))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();class VM{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ui().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let BM=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})(),_c=(()=>{class n extends BM{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(UM),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(UM))}}return n.\u0275fac=function(t){return new(t||n)(ye(Gr))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();function UM(n){Ui().remove(n)}const Zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},e_=/%COMP%/g;function jf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jf(n,i,t):(i=i.replace(e_,n),t.push(i))}return t}function $M(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let t_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new n_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Si.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new sz(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Si.ShadowDom:return new oz(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=jf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ye(Uf),ye(_c),ye(fc))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();class n_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Zy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Zy[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Zy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cr.DashCase|Cr.Important)?e.style.setProperty(t,r,i&Cr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$M(r)):this.eventManager.addEventListener(e,t,$M(r))}}class sz extends n_{constructor(e,t,r,i){super(e),this.component=r;const s=jf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function nz(n){return"_ngcontent-%COMP%".replace(e_,n)}(i+"-"+r.id),this.hostAttr=function rz(n){return"_nghost-%COMP%".replace(e_,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class oz extends n_{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=jf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let az=(()=>{class n extends VM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ye(Gr))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const WM=["alt","control","meta","shift"],lz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GM={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dz=(()=>{class n extends VM{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ui().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(WM.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function hz(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&GM.hasOwnProperty(e)&&(e=GM[e]))}return lz[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WM.forEach(s=>{s!=i&&cz[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ye(Gr))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const mz=Jx(l3,"browser",[{provide:Dy,useValue:"browser"},{provide:$x,useValue:function fz(){Xy.makeCurrent(),Jy.init()},multi:!0},{provide:Gr,useFactory:function gz(){return function yB(n){ym=n}(document),document},deps:[]}]),vz=[{provide:Rv,useValue:"root"},{provide:Ka,useFactory:function pz(){return new Ka},deps:[]},{provide:Bf,useClass:az,multi:!0,deps:[Gr,on,Dy]},{provide:Bf,useClass:dz,multi:!0,deps:[Gr]},{provide:t_,useClass:t_,deps:[Uf,_c,fc]},{provide:sx,useExisting:t_},{provide:BM,useExisting:_c},{provide:_c,useClass:_c,deps:[Gr]},{provide:Ay,useClass:Ay,deps:[on]},{provide:Uf,useClass:Uf,deps:[Bf,on]},{provide:class zG{},useClass:ZG,deps:[]}];let yz=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:fc,useValue:t.appId},{provide:FM,useExisting:fc},JG]}}}return n.\u0275fac=function(t){return new(t||n)(ye(n,12))},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({providers:vz,imports:[UG,m3]}),n})();"undefined"!=typeof window&&window;const{isArray:xz}=Array,{getPrototypeOf:Mz,prototype:kz,keys:Oz}=Object;function QM(n){if(1===n.length){const e=n[0];if(xz(e))return{args:e,keys:null};if(function Rz(n){return n&&"object"==typeof n&&Mz(n)===kz}(e)){const t=Oz(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Nz}=Array;function YM(n){return je(e=>function Pz(n,e){return Nz(e)?n(...e):n(e)}(n,e))}function XM(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let JM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(K(ps),K(Ir))},n.\u0275dir=Ee({type:n}),n})(),Po=(()=>{class n extends JM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cr(n)))(r||n)}}(),n.\u0275dir=Ee({type:n,features:[ht]}),n})();const ji=new $e("NgValueAccessor"),Vz={provide:ji,useExisting:pt(()=>Du),multi:!0},Uz=new $e("CompositionEventMode");let Du=(()=>{class n extends JM{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Bz(){const n=Ui()?Ui().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(K(ps),K(Ir),K(Uz,8))},n.\u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&zt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[At([Vz]),ht]}),n})();function zs(n){return null==n||0===n.length}function ek(n){return null!=n&&"number"==typeof n.length}const Hn=new $e("NgValidators"),Ks=new $e("NgAsyncValidators"),jz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wc{static min(e){return function tk(n){return e=>{if(zs(e.value)||zs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function nk(n){return e=>{if(zs(e.value)||zs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return rk(e)}static requiredTrue(e){return function ik(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function sk(n){return zs(n.value)||jz.test(n.value)?null:{email:!0}}(e)}static minLength(e){return ok(e)}static maxLength(e){return function ak(n){return e=>ek(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return uk(e)}static nullValidator(e){return null}static compose(e){return pk(e)}static composeAsync(e){return gk(e)}}function rk(n){return zs(n.value)?{required:!0}:null}function ok(n){return e=>zs(e.value)||!ek(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function uk(n){if(!n)return Ec;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ec(n){return null}function lk(n){return null!=n}function ck(n){const e=nc(n)?pn(n):n;return zv(e),e}function dk(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function hk(n,e){return e.map(t=>t(n))}function fk(n){return n.map(e=>function Hz(n){return!n.validate}(e)?e:t=>e.validate(t))}function pk(n){if(!n)return null;const e=n.filter(lk);return 0==e.length?null:function(t){return dk(hk(t,e))}}function i_(n){return null!=n?pk(fk(n)):null}function gk(n){if(!n)return null;const e=n.filter(lk);return 0==e.length?null:function(t){return function Lz(...n){const e=ID(n),{args:t,keys:r}=QM(n),i=new q(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let d=0;d<o;d++){let f=!1;Ot(t[d]).subscribe(new Oe(s,g=>{f||(f=!0,l--),a[d]=g},()=>u--,void 0,()=>{(!u||!f)&&(l||s.next(r?XM(r,a):a),s.complete())}))}});return e?i.pipe(YM(e)):i}(hk(t,e).map(ck)).pipe(je(dk))}}function s_(n){return null!=n?gk(fk(n)):null}function mk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vk(n){return n._rawValidators}function yk(n){return n._rawAsyncValidators}function o_(n){return n?Array.isArray(n)?n:[n]:[]}function Hf(n,e){return Array.isArray(n)?n.includes(e):n===e}function _k(n,e){const t=o_(e);return o_(n).forEach(i=>{Hf(t,i)||t.push(i)}),t}function wk(n,e){return o_(e).filter(t=>!Hf(n,t))}class Ek{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=i_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=s_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qs extends Ek{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn extends Ek{get formDirective(){return null}get path(){return null}}class bk{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let $f=(()=>{class n extends bk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(K(Qs,2))},n.\u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&df("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ht]}),n})(),qf=(()=>{class n extends bk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(K(Zn,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&df("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ht]}),n})();function bc(n,e){l_(n,e),e.valueAccessor.writeValue(n.value),function Yz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dk(n,e)})}(n,e),function Jz(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Xz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Qz(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Kf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function l_(n,e){const t=vk(n);null!==e.validator?n.setValidators(mk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=yk(n);null!==e.asyncValidator?n.setAsyncValidators(mk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Kf(e._rawValidators,i),Kf(e._rawAsyncValidators,i)}function Qf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=vk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=yk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Kf(e._rawValidators,r),Kf(e._rawAsyncValidators,r),t}function Dk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ik(n,e){l_(n,e)}function c_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Tk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function d_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Du?t=s:function t8(n){return Object.getPrototypeOf(n.constructor)===Po}(s)?r=s:i=s}),i||r||t||null}function Yf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Cc="VALID",Xf="INVALID",Iu="PENDING",Dc="DISABLED";function f_(n){return(g_(n)?n.validators:n)||null}function Sk(n){return Array.isArray(n)?i_(n):n||null}function p_(n,e){return(g_(e)?e.asyncValidators:n)||null}function Ak(n){return Array.isArray(n)?s_(n):n||null}function g_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const xk=n=>n instanceof Ic,m_=n=>n instanceof Tc;function Mk(n){return xk(n)?n.value:n.getRawValue()}function kk(n,e){const t=m_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new Xe(1e3,"");if(!r[e])throw new Xe(1001,"")}function Ok(n,e){m_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new Xe(1002,"")})}class v_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Sk(this._rawValidators),this._composedAsyncValidatorFn=Ak(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cc}get invalid(){return this.status===Xf}get pending(){return this.status==Iu}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Sk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ak(e)}addValidators(e){this.setValidators(_k(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_k(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wk(e,this._rawAsyncValidators))}hasValidator(e){return Hf(this._rawValidators,e)}hasAsyncValidator(e){return Hf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Iu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cc||this.status===Iu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Iu,this._hasOwnPendingAsyncValidator=!0;const t=ck(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function n8(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=m_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof i8)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?Xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Iu)?Iu:this._anyControlsHaveStatus(Xf)?Xf:Cc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){g_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ic extends v_{constructor(e=null,t,r){super(f_(t),p_(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Tc extends v_{constructor(e,t,r){super(f_(t),p_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ok(this,e),Object.keys(e).forEach(r=>{kk(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Mk(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class i8 extends v_{constructor(e,t,r){super(f_(t),p_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ok(this,e),e.forEach((r,i)=>{kk(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Mk(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const s8={provide:Zn,useExisting:pt(()=>Jf)},Sc=(()=>Promise.resolve(null))();let Jf=(()=>{class n extends Zn{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Vt,this.form=new Tc({},i_(t),s_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Sc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bc(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Sc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Yf(this._directives,t)})}addFormGroup(t){Sc.then(()=>{const r=this._findContainer(t.path),i=new Tc({});Ik(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Sc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Sc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Tk(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(K(Hn,10),K(Ks,10))},n.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&zt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[At([s8]),ht]}),n})();const a8={provide:Qs,useExisting:pt(()=>y_)},Pk=(()=>Promise.resolve(null))();let y_=(()=>{class n extends Qs{constructor(t,r,i,s){super(),this.control=new Ic,this._registered=!1,this.update=new Vt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=d_(0,s)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),c_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Gf(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Pk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(K(Zn,9),K(Hn,10),K(Ks,10),K(ji,10))},n.\u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[At([a8]),ht,wr]}),n})(),Zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({}),n})();const __=new $e("NgModelWithFormControlWarning"),h8={provide:Qs,useExisting:pt(()=>ep)};let ep=(()=>{class n extends Qs{constructor(t,r,i,s){super(),this._ngModelWarningConfig=s,this.update=new Vt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=d_(0,i)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&zf(r,this,!1),bc(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}c_(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&zf(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(K(Hn,10),K(Ks,10),K(ji,10),K(__,8))},n.\u0275dir=Ee({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[At([h8]),ht,wr]}),n})();const f8={provide:Zn,useExisting:pt(()=>Ac)};let Ac=(()=>{class n extends Zn{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Vt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){zf(t.control||null,t,!1),Yf(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Tk(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(zf(r||null,t),xk(i)&&(bc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Ik(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Zz(n,e){return Qf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l_(this.form,this),this._oldForm&&Qf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(K(Hn,10),K(Ks,10))},n.\u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&zt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[At([f8]),ht,wr]}),n})();let xc=(()=>{class n{constructor(){this._validator=Ec}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ec,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ee({type:n,features:[wr]}),n})();const I8={provide:Hn,useExisting:pt(()=>tp),multi:!0};let tp=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?rk(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Fi("required",r.required?"":null)},inputs:{required:"required"},features:[At([I8])]}),n})();const A8={provide:Hn,useExisting:pt(()=>D_),multi:!0};let D_=(()=>{class n extends xc{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function qk(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>ok(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cr(n)))(r||n)}}(),n.\u0275dir=Ee({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Fi("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[At([A8]),ht]}),n})();const M8={provide:Hn,useExisting:pt(()=>I_),multi:!0};let I_=(()=>{class n{constructor(){this._validator=Ec}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=uk(this.pattern)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ee({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Fi("pattern",r.pattern?r.pattern:null)},inputs:{pattern:"pattern"},features:[At([M8]),wr]}),n})(),Xk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({imports:[[Fk]]}),n})(),k8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({imports:[Xk]}),n})(),O8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:__,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({imports:[Xk]}),n})();function Le(...n){return pn(n,Il(n))}class Ei extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Jk(n,e,t){n?Vr(t,n,e):e()}const np=lt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function T_(...n){return function P8(){return Dl(1)}()(pn(n,Il(n)))}function Zk(n){return new q(e=>{Ot(n()).subscribe(e)})}function eO(){return rt((n,e)=>{let t=null;n._refCount++;const r=new Oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class L8 extends q{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,st(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;const t=this.getSubject();e.add(this.source.subscribe(new Oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return eO()(this)}}function Lo(n,e){return rt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(new Oe(r,u=>{null==i||i.unsubscribe();let l=0;const d=s++;Ot(n(u,d)).subscribe(i=new Oe(r,f=>r.next(e?e(u,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function V8(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(new Oe(o,d=>{const f=l++;u=a?n(u,d,f):(a=!0,d),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function tO(n,e){return rt(V8(n,e,arguments.length>=2,!0))}function Tu(n,e){return rt((t,r)=>{let i=0;t.subscribe(new Oe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ys(n){return rt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(new Oe(t,void 0,void 0,o=>{s=Ot(n(o,Ys(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Mc(n,e){return Te(e)?qt(n,e,1):qt(n,1)}function S_(n){return n<=0?()=>as:rt((e,t)=>{let r=[];e.subscribe(new Oe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nO(n=B8){return rt((e,t)=>{let r=!1;e.subscribe(new Oe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B8(){return new np}function rO(n){return rt((e,t)=>{let r=!1;e.subscribe(new Oe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Su(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tu((i,s)=>n(i,s,r)):B,wh(1),t?rO(e):nO(()=>new np))}function Tr(n,e,t){const r=Te(n)||e||t?{next:n,error:e,complete:t}:n;return r?rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new Oe(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):B}class _s{constructor(e,t){this.id=e,this.url=t}}class A_ extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iO extends _s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class H8 extends _s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $8 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q8 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8 extends _s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class G8 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z8 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sO{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oO{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class K8{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q8{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y8{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X8{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qe="primary";class J8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Au(n){return new J8(n)}const uO="ngNavigationCancelingError";function x_(n){const e=Error("NavigationCancelingError: "+n);return e[uO]=!0,e}function e4(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lO(n[i],e[i]))return!1;return!0}function lO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function cO(n){return Array.prototype.concat.apply([],n)}function dO(n){return n.length>0?n[n.length-1]:null}function Sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function $i(n){return zv(n)?n:nc(n)?pn(Promise.resolve(n)):Le(n)}const r4={exact:function pO(n,e,t){if(!Vo(n.segments,e.segments)||!rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pO(n.children[r],e.children[r],t))return!1;return!0},subset:gO},hO={exact:function i4(n,e){return Hi(n,e)},subset:function s4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lO(n[t],e[t]))},ignored:()=>!0};function fO(n,e,t){return r4[t.paths](n.root,e.root,t.matrixParams)&&hO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gO(n,e,t){return mO(n,e,e.segments,t)}function mO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Vo(i,t)||e.hasChildren()||!rp(i,t,r))}if(n.segments.length===t.length){if(!Vo(n.segments,t)||!rp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Vo(n.segments,i)&&rp(n.segments,i,r)&&n.children[qe])&&mO(n.children[qe],e,s,r)}}function rp(n,e,t){return e.every((r,i)=>hO[t](n[i].parameters,r.parameters))}class Fo{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return u4.serialize(this)}}class Qe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ip(this)}}class Oc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return EO(this)}}function Vo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class vO{}class yO{parse(e){const t=new v4(e);return new Fo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Rc(e.root,!0)}`,r=function d4(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${sp(t)}=${sp(i)}`).join("&"):`${sp(t)}=${sp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function l4(n){return encodeURI(n)}(e.fragment)}`:""}`}}const u4=new yO;function ip(n){return n.segments.map(e=>EO(e)).join("/")}function Rc(n,e){if(!n.hasChildren())return ip(n);if(e){const t=n.children[qe]?Rc(n.children[qe],!1):"",r=[];return Sn(n.children,(i,s)=>{s!==qe&&r.push(`${s}:${Rc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function a4(n,e){let t=[];return Sn(n.children,(r,i)=>{i===qe&&(t=t.concat(e(r,i)))}),Sn(n.children,(r,i)=>{i!==qe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===qe?[Rc(n.children[qe],!1)]:[`${i}:${Rc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qe]?`${ip(n)}/${t[0]}`:`${ip(n)}/(${t.join("//")})`}}function _O(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sp(n){return _O(n).replace(/%3B/gi,";")}function M_(n){return _O(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function op(n){return decodeURIComponent(n)}function wO(n){return op(n.replace(/\+/g,"%20"))}function EO(n){return`${M_(n.path)}${function c4(n){return Object.keys(n).map(e=>`;${M_(e)}=${M_(n[e])}`).join("")}(n.parameters)}`}const h4=/^[^\/()?;=#]+/;function ap(n){const e=n.match(h4);return e?e[0]:""}const f4=/^[^=?&#]+/,g4=/^[^&#]+/;class v4{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[qe]=new Qe(e,t)),r}parseSegment(){const e=ap(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Oc(op(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ap(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ap(this.remaining);i&&(r=i,this.capture(r))}e[op(t)]=op(r)}parseQueryParam(e){const t=function p4(n){const e=n.match(f4);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function m4(n){const e=n.match(g4);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=wO(t),s=wO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ap(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=qe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[qe]:new Qe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class bO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=k_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=k_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=O_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return O_(e,this._root).map(t=>t.value)}}function k_(n,e){if(n===e.value)return e;for(const t of e.children){const r=k_(n,t);if(r)return r}return null}function O_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=O_(n,t);if(r.length)return r.unshift(e),r}return[]}class ws{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class CO extends bO{constructor(e,t){super(e),this.snapshot=t,R_(this,e)}toString(){return this.snapshot.toString()}}function DO(n,e){const t=function y4(n,e){const o=new up([],{},{},"",{},qe,e,null,n.root,-1,{});return new TO("",new ws(o,[]))}(n,e),r=new Ei([new Oc("",{})]),i=new Ei({}),s=new Ei({}),o=new Ei({}),a=new Ei(""),u=new Mu(r,i,o,a,s,qe,e,t.root);return u.snapshot=t.root,new CO(new ws(u,[]),t)}class Mu{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(e=>Au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(e=>Au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function _4(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class up{constructor(e,t,r,i,s,o,a,u,l,d,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=d,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TO extends bO{constructor(e,t){super(t),this.url=e,R_(this,t)}toString(){return SO(this._root)}}function R_(n,e){e.value._routerState=n,e.children.forEach(t=>R_(n,t))}function SO(n){const e=n.children.length>0?` { ${n.children.map(SO).join(", ")} } `:"";return`${n.value}${e}`}function N_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hi(e.params,t.params)||n.params.next(t.params),function t4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function P_(n,e){const t=Hi(n.params,e.params)&&function o4(n,e){return Vo(n,e)&&n.every((t,r)=>Hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||P_(n.parent,e.parent))}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function E4(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}(n,e,t);return new ws(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Nc(n,a)),o}}const r=function b4(n){return new Mu(new Ei(n.url),new Ei(n.params),new Ei(n.queryParams),new Ei(n.fragment),new Ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Nc(n,s));return new ws(r,i)}}function lp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Pc(n){return"object"==typeof n&&null!=n&&n.outlets}function L_(n,e,t,r,i){let s={};return r&&Sn(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new Fo(t.root===n?e:AO(t.root,n,e),s,i)}function AO(n,e,t){const r={};return Sn(n.children,(i,s)=>{r[s]=i===e?t:AO(i,e,t)}),new Qe(n.segments,r)}class xO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&lp(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Pc);if(i&&i!==dO(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class F_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function MO(n,e,t){if(n||(n=new Qe([],{})),0===n.segments.length&&n.hasChildren())return cp(n,e,t);const r=function A4(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Pc(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!OO(u,l,o))return s;r+=2}else{if(!OO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Qe(n.segments.slice(0,r.pathIndex),{});return s.children[qe]=new Qe(n.segments.slice(r.pathIndex),n.children),cp(s,0,i)}return r.match&&0===i.length?new Qe(n.segments,{}):r.match&&!n.hasChildren()?V_(n,e,t):r.match?cp(n,0,i):V_(n,e,t)}function cp(n,e,t){if(0===t.length)return new Qe(n.segments,{});{const r=function S4(n){return Pc(n[0])?n[0].outlets:{[qe]:n}}(t),i={};return Sn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=MO(n.children[o],e,s))}),Sn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Qe(n.segments,i)}}function V_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Pc(s)){const u=x4(s.outlets);return new Qe(r,u)}if(0===i&&lp(t[0])){r.push(new Oc(n.segments[e].path,kO(t[0]))),i++;continue}const o=Pc(s)?s.outlets[qe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&lp(a)?(r.push(new Oc(o,kO(a))),i+=2):(r.push(new Oc(o,{})),i++)}return new Qe(r,{})}function x4(n){const e={};return Sn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=V_(new Qe([],{}),0,t))}),e}function kO(n){const e={};return Sn(n,(t,r)=>e[r]=`${t}`),e}function OO(n,e,t){return n==t.path&&Hi(e,t.parameters)}class k4{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),N_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=xu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Sn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=xu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=xu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new X8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Q8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(N_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),N_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function O4(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class B_{constructor(e,t){this.routes=e,this.module=t}}function Xs(n){return"function"==typeof n}function Bo(n){return n instanceof Fo}const Lc=Symbol("INITIAL_VALUE");function Fc(){return Lo(n=>function R8(...n){const e=Il(n),t=ID(n),{args:r,keys:i}=QM(n);if(0===r.length)return pn([],e);const s=new q(function N8(n,e,t=B){return r=>{Jk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)Jk(e,()=>{const l=pn(n[u],e);let d=!1;l.subscribe(new Oe(r,f=>{s[u]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>XM(i,o):B));return t?s.pipe(YM(t)):s}(n.map(e=>e.pipe(wh(1),function F8(...n){const e=Il(n);return rt((t,r)=>{(e?T_(n,t,e):T_(n,t)).subscribe(r)})}(Lc)))).pipe(tO((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Lc?i:(s===Lc&&(r=!0),r||!1!==s&&o!==t.length-1&&!Bo(s)?i:s),e)},Lc),Tu(e=>e!==Lc),je(e=>Bo(e)?e:!0===e),wh(1)))}class V4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vc,this.attachRef=null}}class Vc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new V4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let U_=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.name=s||qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new B4(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(K(Vc),K(vi),K(vu),Pl("name"),K(ky))},n.\u0275dir=Ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class B4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Mu?this.route:e===Vc?this.childContexts:this.parent.get(e,t)}}let RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ai({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&rn(0,"router-outlet")},directives:[U_],encapsulation:2}),n})();function NO(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];U4(r,j4(e,r))}}function U4(n,e){n.children&&NO(n.children,e)}function j4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function j_(n){const e=n.children&&n.children.map(j_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qe&&(t.component=RO),t}function Qr(n){return n.outlet||qe}function PO(n,e){const t=n.filter(r=>Qr(r)===e);return t.push(...n.filter(r=>Qr(r)!==e)),t}const LO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},LO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||e4)(t,n,e);if(!s)return Object.assign({},LO);const o={};Sn(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function hp(n,e,t,r,i="corrected"){if(t.length>0&&function q4(n,e,t){return t.some(r=>fp(n,e,r)&&Qr(r)!==qe)}(n,t,r)){const o=new Qe(e,function $4(n,e,t,r){const i={};i[qe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Qr(s)!==qe){const o=new Qe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Qr(s)]=o}return i}(n,e,r,new Qe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function W4(n,e,t){return t.some(r=>fp(n,e,r))}(n,t,r)){const o=new Qe(n.segments,function H4(n,e,t,r,i,s){const o={};for(const a of r)if(fp(n,t,a)&&!i[Qr(a)]){const u=new Qe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Qr(a)]=u}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Qe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function fp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FO(n,e,t,r){return!!(Qr(n)===r||r!==qe&&fp(e,t,n))&&("**"===n.path||dp(e,n,t).matched)}function VO(n,e,t){return 0===e.length&&!n.children[t]}class Bc{constructor(e){this.segmentGroup=e||null}}class BO{constructor(e){this.urlTree=e}}function pp(n){return new q(e=>e.error(new Bc(n)))}function UO(n){return new q(e=>e.error(new BO(n)))}function G4(n){return new q(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Q4{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(gs)}apply(){const e=hp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,qe).pipe(je(s=>this.createUrlTree(H_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ys(s=>{if(s instanceof BO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Bc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,qe).pipe(je(i=>this.createUrlTree(H_(i),e.queryParams,e.fragment))).pipe(Ys(i=>{throw i instanceof Bc?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Qe([],{[qe]:e}):e;return new Fo(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(je(s=>new Qe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return pn(i).pipe(Mc(s=>{const o=r.children[s],a=PO(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(je(u=>({segment:u,outlet:s})))}),tO((s,o)=>(s[o.outlet]=o.segment,s),{}),function U8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Tu((i,s)=>n(i,s,r)):B,S_(1),t?rO(e):nO(()=>new np))}())}expandSegment(e,t,r,i,s,o){return pn(r).pipe(Mc(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Ys(l=>{if(l instanceof Bc)return Le(null);throw l}))),Su(a=>!!a),Ys((a,u)=>{if(a instanceof np||"EmptyError"===a.name){if(VO(t,i,s))return Le(new Qe([],{}));throw new Bc(t)}throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return FO(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):pp(t):pp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UO(s):this.lineralizeSegments(r,s).pipe(qt(o=>{const a=new Qe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:l,positionalParamSegments:d}=dp(t,i,s);if(!a)return pp(t);const f=this.applyRedirectCommands(u,i.redirectTo,d);return i.redirectTo.startsWith("/")?UO(f):this.lineralizeSegments(i,f).pipe(qt(g=>this.expandSegment(e,t,r,g.concat(s.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Le(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(je(g=>(r._loadedConfig=g,new Qe(i,{})))):Le(new Qe(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=dp(t,r,i);if(!o)return pp(t);const l=i.slice(u);return this.getChildConfig(e,r,i).pipe(qt(f=>{const g=f.module,_=f.routes,{segmentGroup:D,slicedSegments:x}=hp(t,a,l,_),P=new Qe(D.segments,D.children);if(0===x.length&&P.hasChildren())return this.expandChildren(g,_,P).pipe(je(oe=>new Qe(a,oe)));if(0===_.length&&0===x.length)return Le(new Qe(a,{}));const H=Qr(r)===s;return this.expandSegment(g,P,_,x,H?qe:s,!0).pipe(je(J=>new Qe(a.concat(J.segments),J.children)))}))}getChildConfig(e,t,r){return t.children?Le(new B_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Le(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(qt(i=>i?this.configLoader.load(e.injector,t).pipe(je(s=>(t._loadedConfig=s,s))):function z4(n){return new q(e=>e.error(x_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Le(new B_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Le(i.map(o=>{const a=e.get(o);let u;if(function N4(n){return n&&Xs(n.canLoad)}(a))u=a.canLoad(t,r);else{if(!Xs(a))throw new Error("Invalid CanLoad guard");u=a(t,r)}return $i(u)})).pipe(Fc(),Tr(o=>{if(!Bo(o))return;const a=x_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),je(o=>!0===o)):Le(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Le(r);if(i.numberOfChildren>1||!i.children[qe])return G4(e.redirectTo);i=i.children[qe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Fo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Sn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Sn(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new Qe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function H_(n){const e={};for(const r of Object.keys(n.children)){const s=H_(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Y4(n){if(1===n.numberOfChildren&&n.children[qe]){const e=n.children[qe];return new Qe(n.segments.concat(e.segments),e.children)}return n}(new Qe(n.segments,e))}class jO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gp{constructor(e,t){this.component=e,this.route=t}}function J4(n,e,t){const r=n._root;return Uc(r,e?e._root:null,t,[r.value])}function mp(n,e,t){const r=function e5(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Uc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=xu(e);return n.children.forEach(o=>{(function t5(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function n5(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vo(n.url,e.url)||!Hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!P_(n,e)||!Hi(n.queryParams,e.queryParams);default:return!P_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Uc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gp(a.outlet.component,o))}else o&&jc(e,a,i),i.canActivateChecks.push(new jO(r)),Uc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Sn(s,(o,a)=>jc(o,t.getContext(a),i)),i}function jc(n,e,t){const r=xu(n),i=n.value;Sn(r,(s,o)=>{jc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new gp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class d5{}function HO(n){return new q(e=>e.error(n))}class f5{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=hp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,qe);if(null===t)return null;const r=new up([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ws(r,t),s=new TO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=IO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=PO(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=$O(r);return function p5(n){n.sort((e,t)=>e.value.outlet===qe?-1:t.value.outlet===qe?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return VO(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!FO(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const _=r.length>0?dO(r).parameters:{};s=new up(r,_,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GO(e),Qr(e),e.component,e,qO(t),WO(t)+r.length,zO(e))}else{const _=dp(t,e,r);if(!_.matched)return null;o=_.consumedSegments,a=r.slice(_.lastChild),s=new up(o,_.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GO(e),Qr(e),e.component,e,qO(t),WO(t)+o.length,zO(e))}const u=function g5(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:d}=hp(t,o,a,u.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===d.length&&l.hasChildren()){const _=this.processChildren(u,l);return null===_?null:[new ws(s,_)]}if(0===u.length&&0===d.length)return[new ws(s,[])];const f=Qr(e)===i,g=this.processSegment(u,l,d,f?qe:i);return null===g?null:[new ws(s,g)]}}function m5(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $O(n){const e=[],t=new Set;for(const r of n){if(!m5(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$O(r.children);e.push(new ws(r.value,i))}return e.filter(r=>!t.has(r))}function qO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WO(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function GO(n){return n.data||{}}function zO(n){return n.resolve||{}}function $_(n){return Lo(e=>{const t=n(e);return t?pn(t).pipe(je(()=>e)):Le(e)})}class D5 extends class C5{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const q_=new $e("ROUTES");class KO{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(je(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new B_(cO(o.injector.get(q_,void 0,xe.Self|xe.Optional)).map(j_),o)}),Ys(s=>{throw t._loader$=void 0,s}));return t._loader$=new L8(i,()=>new nt).pipe(eO()),t._loader$}loadModuleFactory(e){return $i(e()).pipe(qt(t=>t instanceof ux?Le(t):pn(this.compiler.compileModuleAsync(t))))}}class T5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function S5(n){throw n}function A5(n,e,t){return e.parse("/")}function QO(n,e){return Le(null)}const x5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},M5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nt,this.errorHandler=S5,this.malformedUriErrorHandler=A5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:QO,afterPreactivation:QO},this.urlHandlingStrategy=new T5,this.routeReuseStrategy=new D5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(gs),this.console=o.get(Wx);const f=o.get(on);this.isNgZoneEnabled=f instanceof on&&on.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function n4(){return new Fo(new Qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new KO(o,a,g=>this.triggerEvent(new sO(g)),g=>this.triggerEvent(new oO(g))),this.routerState=DO(this.currentUrlTree,this.rootComponentType),this.transitions=new Ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Tu(i=>0!==i.id),je(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Lo(i=>{let s=!1,o=!1;return Le(i).pipe(Tr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Lo(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return vp(a.source)&&(this.browserUrlTree=a.extractedUrl),Le(a).pipe(Lo(f=>{const g=this.transitions.getValue();return r.next(new A_(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions.getValue()?as:Promise.resolve(f)}),function X4(n,e,t,r){return Lo(i=>function K4(n,e,t,r,i){return new Q4(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(je(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tr(f=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:f.urlAfterRedirects})}),function v5(n,e,t,r,i){return qt(s=>function h5(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new f5(n,e,t,r,i,s).recognize();return null===o?HO(new d5):Le(o)}catch(o){return HO(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(je(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),Tr(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(_,f)}this.browserUrlTree=f.urlAfterRedirects}const g=new $8(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);r.next(g)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:g,extractedUrl:_,source:D,restoredState:x,extras:P}=a,H=new A_(g,this.serializeUrl(_),D,x);r.next(H);const F=DO(_,this.rootComponentType).snapshot;return Le(Object.assign(Object.assign({},a),{targetSnapshot:F,urlAfterRedirects:_,extras:Object.assign(Object.assign({},P),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),as}),$_(a=>{const{targetSnapshot:u,id:l,extractedUrl:d,rawUrl:f,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:d,rawUrlTree:f,skipLocationChange:!!g,replaceUrl:!!_})}),Tr(a=>{const u=new q8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),je(a=>Object.assign(Object.assign({},a),{guards:J4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function r5(n,e){return qt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Le(Object.assign(Object.assign({},t),{guardsResult:!0})):function i5(n,e,t,r){return pn(n).pipe(qt(i=>function c5(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Le(s.map(a=>{const u=mp(a,e,i);let l;if(function F4(n){return n&&Xs(n.canDeactivate)}(u))l=$i(u.canDeactivate(n,e,t,r));else{if(!Xs(u))throw new Error("Invalid CanDeactivate guard");l=$i(u(n,e,t,r))}return l.pipe(Su())})).pipe(Fc()):Le(!0)}(i.component,i.route,t,e,r)),Su(i=>!0!==i,!0))}(o,r,i,n).pipe(qt(a=>a&&function R4(n){return"boolean"==typeof n}(a)?function s5(n,e,t,r){return pn(e).pipe(Mc(i=>T_(function a5(n,e){return null!==n&&e&&e(new K8(n)),Le(!0)}(i.route.parent,r),function o5(n,e){return null!==n&&e&&e(new Y8(n)),Le(!0)}(i.route,r),function l5(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Z4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Zk(()=>Le(o.guards.map(u=>{const l=mp(u,o.node,t);let d;if(function L4(n){return n&&Xs(n.canActivateChild)}(l))d=$i(l.canActivateChild(r,n));else{if(!Xs(l))throw new Error("Invalid CanActivateChild guard");d=$i(l(r,n))}return d.pipe(Su())})).pipe(Fc())));return Le(s).pipe(Fc())}(n,i.path,t),function u5(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Le(!0);const i=r.map(s=>Zk(()=>{const o=mp(s,e,t);let a;if(function P4(n){return n&&Xs(n.canActivate)}(o))a=$i(o.canActivate(e,n));else{if(!Xs(o))throw new Error("Invalid CanActivate guard");a=$i(o(e,n))}return a.pipe(Su())}));return Le(i).pipe(Fc())}(n,i.route,t))),Su(i=>!0!==i,!0))}(r,s,n,e):Le(a)),je(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Tr(a=>{if(Bo(a.guardsResult)){const l=x_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new W8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Tu(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),$_(a=>{if(a.guards.canActivateChecks.length)return Le(a).pipe(Tr(u=>{const l=new G8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),Lo(u=>{let l=!1;return Le(u).pipe(function y5(n,e){return qt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Le(t);let s=0;return pn(i).pipe(Mc(o=>function _5(n,e,t,r){return function w5(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Le({});const s={};return pn(i).pipe(qt(o=>function E5(n,e,t,r){const i=mp(n,e,r);return $i(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(Tr(a=>{s[o]=a}))),S_(1),qt(()=>Object.keys(s).length===i.length?Le(s):as))}(n._resolve,n,e,r).pipe(je(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),IO(n,t).resolve),null)))}(o.route,r,n,e)),Tr(()=>s++),S_(1),qt(o=>s===i.length?Le(t):as))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Tr({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Tr(u=>{const l=new z8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),$_(a=>{const{targetSnapshot:u,id:l,extractedUrl:d,rawUrl:f,extras:{skipLocationChange:g,replaceUrl:_}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:d,rawUrlTree:f,skipLocationChange:!!g,replaceUrl:!!_})}),je(a=>{const u=function w4(n,e,t){const r=Nc(n,e._root,t?t._root:void 0);return new CO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),Tr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>je(r=>(new k4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Tr({next(){s=!0},complete(){s=!0}}),function j8(n){return rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ys(a=>{if(o=!0,function Z8(n){return n&&n[uO]}(a)){const u=Bo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new iO(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vp(i.source)};this.scheduleNavigation(d,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new H8(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return as}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){NO(t),this.config=t.map(j_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,d=u?this.currentUrlTree.fragment:o;let f=null;switch(a){case"merge":f=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}return null!==f&&(f=this.removeEmptyProps(f)),function C4(n,e,t,r,i){if(0===t.length)return L_(e.root,e.root,e,r,i);const s=function D4(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Sn(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new xO(t,e,r)}(t);if(s.toRoot())return L_(e.root,new Qe([],{}),e,r,i);const o=function I4(n,e,t){if(n.isAbsolute)return new F_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new F_(s,s===e.root,0)}const r=lp(n.commands[0])?0:1;return function T4(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new F_(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?cp(o.segmentGroup,o.index,s.commands):MO(o.segmentGroup,o.index,s.commands);return L_(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,f,null!=d?d:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function k5(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},x5):!1===r?Object.assign({},M5):r,Bo(t))return fO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return fO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new kc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,u,l;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,f=vp(r)&&d&&!vp(d.source),g=d.rawUrl.toString()===t.toString(),_=d.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(f&&g&&_)return Promise.resolve(!0);let x,P,H;o?(x=o.resolve,P=o.reject,H=o.promise):H=new Promise((oe,fe)=>{x=oe,P=fe});const F=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),J=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):J=0,this.setTransition({id:F,targetPageId:J,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:x,reject:P,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new iO(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){qv()},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();function vp(n){return"imperative"!==n}let W_=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new nt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ku(this.skipLocationChange),replaceUrl:ku(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ku(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(K(er),K(Mu),Pl("tabindex"),K(ps),K(Ir))},n.\u0275dir=Ee({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&zt("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[wr]}),n})(),yp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new nt,this.subscription=t.events.subscribe(s=>{s instanceof kc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ku(this.skipLocationChange),replaceUrl:ku(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ku(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(K(er),K(Mu),K(Cu))},n.\u0275dir=Ee({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&zt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Fi("target",r.target)("href",r.href,Km)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[wr]}),n})();function ku(n){return""===n||!!n}let YO=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Vt,this.routerEventsSubscription=t.events.subscribe(u=>{u instanceof kc&&this.update()})}ngAfterContentInit(){Le(this.links.changes,this.linksWithHrefs.changes,Le(null)).pipe(Dl()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=pn(r).pipe(Dl()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function O5(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(K(er),K(Ir),K(ps),K(ky),K(W_,8),K(yp,8))},n.\u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(my(i,W_,5),my(i,yp,5)),2&t){let s;gy(s=vy())&&(r.links=s),gy(s=vy())&&(r.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[wr]}),n})();class XO{}class JO{preload(e,t){return Le(null)}}let ZO=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new KO(i,r,u=>t.triggerEvent(new sO(u)),u=>t.triggerEvent(new oO(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Tu(t=>t instanceof kc),Mc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(gs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return pn(i).pipe(Dl(),je(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Le(r._loadedConfig):this.loader.load(t.injector,r)).pipe(qt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(ye(er),ye(If),ye(Un),ye(XO))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})(),G_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof A_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new aO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){qv()},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();const Uo=new $e("ROUTER_CONFIGURATION"),e1=new $e("ROUTER_FORROOT_GUARD"),N5=[Vy,{provide:vO,useClass:yO},{provide:er,useFactory:function B5(n,e,t,r,i,s,o={},a,u){const l=new er(null,n,e,t,r,i,cO(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function U5(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(d=>{var f,g;null===(f=console.group)||void 0===f||f.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(g=console.groupEnd)||void 0===g||g.call(console)}),l},deps:[vO,Vc,Vy,Un,If,q_,Uo,[class I5{},new Oi],[class b5{},new Oi]]},Vc,{provide:Mu,useFactory:function j5(n){return n.routerState.root},deps:[er]},ZO,JO,class R5{preload(e,t){return t().pipe(Ys(()=>Le(null)))}},{provide:Uo,useValue:{enableTracing:!1}}];function P5(){return new Xx("Router",er)}let t1=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[N5,n1(t),{provide:e1,useFactory:V5,deps:[[er,new Oi,new Wa]]},{provide:Uo,useValue:r||{}},{provide:Cu,useFactory:F5,deps:[No,[new Hl(Fy),new Oi],Uo]},{provide:G_,useFactory:L5,deps:[er,qG,Uo]},{provide:XO,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:JO},{provide:Xx,multi:!0,useFactory:P5},[z_,{provide:Df,multi:!0,useFactory:H5,deps:[z_]},{provide:r1,useFactory:$5,deps:[z_]},{provide:qx,multi:!0,useExisting:r1}]]}}static forChild(t){return{ngModule:n,providers:[n1(t)]}}}return n.\u0275fac=function(t){return new(t||n)(ye(e1,8),ye(er,8))},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({}),n})();function L5(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new G_(n,e,t)}function F5(n,e,t={}){return t.useHash?new D3(n,e):new _M(n,e)}function V5(n){return"guarded"}function n1(n){return[{provide:e2,multi:!0,useValue:n},{provide:q_,multi:!0,useValue:n}]}let z_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nt}appInitializer(){return this.injector.get(E3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(er),o=this.injector.get(Uo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Le(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Uo),i=this.injector.get(ZO),s=this.injector.get(G_),o=this.injector.get(er),a=this.injector.get(pc);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(ye(Un))},n.\u0275prov=We({token:n,factory:n.\u0275fac}),n})();function H5(n){return n.appInitializer.bind(n)}function $5(n){return n.bootstrapListener.bind(n)}const r1=new $e("Router Initializer"),i1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},s1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let g=(15&a)<<2|l>>6,_=63&l;u||(_=64,o||(g=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[g],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==f)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==f&&r.push(l<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_p=function(n){return function(n){const e=i1(n);return s1.encodeByteArray(e,!0)}(n).replace(/\./g,"")};function Hc(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Q5(t)||(n[t]=Hc(n[t],e[t]));return n}function Q5(n){return"__proto__"!==n}class o1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function bt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a1(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Y_(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}function X_(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function wp(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function J_(){const n=bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $c(){return"object"==typeof indexedDB}class Sr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function r6(n,e){return n.replace(i6,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Sr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const i6=/\{\$([^}]+)}/g;function l1(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Z_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(c1(s)&&c1(o)){if(!Z_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function c1(n){return null!==n&&"object"==typeof n}function Ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function qc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d1(n,e){const t=new o6(n,e);return t.subscribe.bind(t)}class o6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function a6(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=ew),void 0===i.error&&(i.error=ew),void 0===i.complete&&(i.complete=ew);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ew(){}function ge(n){return n&&n._delegate?n._delegate:n}function h1(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function b(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){h1(s,r,i,o,a,"next",u)}function a(u){h1(s,r,i,o,a,"throw",u)}o(void 0)})}}class qi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ho="[DEFAULT]";class f6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new o1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function g6(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return b(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ho?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new f6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const nw=[];var Ze=(()=>{return(n=Ze||(Ze={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ze;var n})();const f1={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},v6=Ze.INFO,y6={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},_6=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=y6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class bp{constructor(e){this.name=e,this._logLevel=v6,this._logHandler=_6,this._userLogHandler=null,nw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?f1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}let p1,g1;const m1=new WeakMap,rw=new WeakMap,v1=new WeakMap,iw=new WeakMap,sw=new WeakMap;let ow={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return rw.get(n);if("objectStoreNames"===e)return n.objectStoreNames||v1.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function x6(n){return"function"==typeof n?function A6(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function D6(){return g1||(g1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(aw(this),e),Js(m1.get(this))}:function(...e){return Js(n.apply(aw(this),e))}:function(e,...t){const r=n.call(aw(this),e,...t);return v1.set(r,e.sort?e.sort():[e]),Js(r)}}(n):(n instanceof IDBTransaction&&function T6(n){if(rw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});rw.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function C6(){return p1||(p1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ow):n)}function Js(n){if(n instanceof IDBRequest)return function I6(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Js(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&m1.set(t,n)}).catch(()=>{}),sw.set(e,n),e}(n);if(iw.has(n))return iw.get(n);const e=x6(n);return e!==n&&(iw.set(n,e),sw.set(e,n)),e}const aw=n=>sw.get(n),k6=["get","getKey","getAll","getAllKeys","count"],O6=["put","add","delete","clear"],uw=new Map;function y1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(uw.get(e))return uw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=O6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!k6.includes(t))return;const s=function(){var o=b(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return uw.set(e,s),s}!function S6(n){ow=n(ow)}(n=>NV(RV({},n),{get:(e,t,r)=>y1(e,t)||n.get(e,t,r),has:(e,t)=>!!y1(e,t)||n.has(e,t)}));class R6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function N6(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const lw="@firebase/app",cw=new bp("@firebase/app"),$o="[DEFAULT]",oK={[lw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zs=new Map,Wc=new Map;function Cp(n,e){try{n.container.addComponent(e)}catch(t){cw.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function w1(n,e){n.container.addOrOverwriteComponent(e)}function eo(n){const e=n.name;if(Wc.has(e))return cw.debug(`There were multiple attempts to register component ${e}.`),!1;Wc.set(e,n);for(const t of Zs.values())Cp(t,n);return!0}function E1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function aK(n,e,t=$o){E1(n,e).clearInstance(t)}function uK(){Wc.clear()}const to=new jo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class cK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const qo="9.9.1";function b1(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:$o,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw to.create("bad-app-name",{appName:String(r)});const i=Zs.get(r);if(i){if(Z_(n,i.options)&&Z_(t,i.config))return i;throw to.create("duplicate-app",{appName:r})}const s=new m6(r);for(const a of Wc.values())s.addComponent(a);const o=new cK(n,t,s);return Zs.set(r,o),o}function dK(n=$o){const e=Zs.get(n);if(!e)throw to.create("no-app",{appName:n});return e}function hK(){return Array.from(Zs.values())}function C1(n){return dw.apply(this,arguments)}function dw(){return(dw=b(function*(n){const e=n.name;Zs.has(e)&&(Zs.delete(e),yield Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)})).apply(this,arguments)}function Wi(n,e,t){var r;let i=null!==(r=oK[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void cw.warn(a.join(" "))}eo(new qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function D1(n,e){if(null!==n&&"function"!=typeof n)throw to.create("invalid-log-argument");!function E6(n,e){for(const t of nw){let r=null;e&&e.level&&(r=f1[e.level]),t.userLogHandler=null===n?null:(i,s,...o)=>{const a=o.map(u=>{if(null==u)return null;if("string"==typeof u)return u;if("number"==typeof u||"boolean"==typeof u)return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch(l){return null}}).filter(u=>u).join(" ");s>=(null!=r?r:i.logLevel)&&n({level:Ze[s].toLowerCase(),message:a,args:o,type:i.name})}}}(n,e)}function I1(n){!function w6(n){nw.forEach(e=>{e.setLogLevel(n)})}(n)}const Gc="firebase-heartbeat-store";let hw=null;function T1(){return hw||(hw=function M6(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Js(o.result),u.oldVersion,u.newVersion,Js(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Gc)}}).catch(n=>{throw to.create("storage-open",{originalErrorMessage:n.message})})),hw}function fw(){return(fw=b(function*(n){var e;try{return(yield T1()).transaction(Gc).objectStore(Gc).get(A1(n))}catch(t){throw to.create("storage-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function S1(n,e){return pw.apply(this,arguments)}function pw(){return(pw=b(function*(n,e){var t;try{const i=(yield T1()).transaction(Gc,"readwrite");return yield i.objectStore(Gc).put(e,A1(n)),i.done}catch(r){throw to.create("storage-set",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function A1(n){return`${n.name}!${n.options.appId}`}class yK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return b(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=x1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return b(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=x1(),{heartbeatsToSend:r,unsentEntries:i}=function _K(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),M1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),M1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=_p(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function x1(){return(new Date).toISOString().substring(0,10)}class wK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(function*(){return!!$c()&&function t6(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return b(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function gK(n){return fw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return b(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return S1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return b(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return S1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function M1(n){return _p(JSON.stringify({version:2,heartbeats:n})).length}!function EK(n){eo(new qi("platform-logger",e=>new R6(e),"PRIVATE")),eo(new qi("heartbeat",e=>new yK(e),"PRIVATE")),Wi(lw,"0.7.29",n),Wi(lw,"0.7.29","esm2017"),Wi("fire-js","")}("");class bK{constructor(e,t){this._delegate=e,this.firebase=t,Cp(e,new qi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),C1(this._delegate)))}_getService(e,t=$o){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=$o){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Cp(this._delegate,e)}_addOrOverwriteComponent(e){w1(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const k1=new jo("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),IK=function O1(){const n=function DK(n){const e={},t={__esModule:!0,initializeApp:function s(l,d={}){const f=b1(l,d);if(l1(e,f.name))return e[f.name];const g=new n(f,t);return e[f.name]=g,g},app:i,registerVersion:Wi,setLogLevel:I1,onLog:D1,apps:null,SDK_VERSION:qo,INTERNAL:{registerComponent:function a(l){const d=l.name,f=d.replace("-compat","");if(eo(l)&&"PUBLIC"===l.type){const g=(_=i())=>{if("function"!=typeof _[f])throw k1.create("invalid-app-argument",{appName:d});return _[f]()};void 0!==l.serviceProps&&Hc(g,l.serviceProps),t[f]=g,n.prototype[f]=function(..._){return this._getService.bind(this,d).apply(this,l.multipleInstances?_:[])}}return"PUBLIC"===l.type?t[f]:null},removeApp:function r(l){delete e[l]},useAsService:function u(l,d){return"serverAuth"===d?null:d},modularAPIs:es}};function i(l){if(!l1(e,l=l||$o))throw k1.create("no-app",{appName:l});return e[l]}return t.default=t,Object.defineProperty(t,"apps",{get:function o(){return Object.keys(e).map(l=>e[l])}}),i.App=n,t}(bK);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:O1,extendNamespace:function e(t){Hc(n,t)},createSubscribe:d1,ErrorFactory:jo,deepExtend:Hc}),n}(),R1=new bp("@firebase/app-compat");if(function X5(){return"object"==typeof self&&self.self===self}()&&void 0!==self.firebase){R1.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&R1.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const bi=IK;!function AK(n){Wi("@firebase/app-compat","0.1.30",n)}(),bi.registerVersion("firebase","9.9.1","app-compat");var le,kK="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Es={},gw=gw||{},Ie=kK||self;function Dp(){}function mw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vw="closure_uid_"+(1e9*Math.random()>>>0),RK=0;function NK(n,e,t){return n.call.apply(n.bind,arguments)}function PK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function An(n,e,t){return(An=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NK:PK).apply(null,arguments)}function Ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function no(){this.s=this.s,this.o=this.o}var FK={};no.prototype.s=!1,no.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function OK(n){return Object.prototype.hasOwnProperty.call(n,vw)&&n[vw]||(n[vw]=++RK)}(this);delete FK[n]}},no.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const N1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},P1=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in i&&e.call(t,i[s],s,n)};function L1(n){return Array.prototype.concat.apply([],arguments)}function yw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Tp(n){return/^[\s\xa0]*$/.test(n)}var nr,F1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function tr(n,e){return-1!=n.indexOf(e)}function _w(n,e){return n<e?-1:n>e?1:0}e:{var V1=Ie.navigator;if(V1){var B1=V1.userAgent;if(B1){nr=B1;break e}}nr=""}function ww(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function U1(n){const e={};for(const t in n)e[t]=n[t];return e}var j1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<j1.length;s++)t=j1[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ew(n){return Ew[" "](n),n}Ew[" "]=Dp;var Sp,n,UK=tr(nr,"Opera"),Nu=tr(nr,"Trident")||tr(nr,"MSIE"),$1=tr(nr,"Edge"),bw=$1||Nu,q1=tr(nr,"Gecko")&&!(tr(nr.toLowerCase(),"webkit")&&!tr(nr,"Edge"))&&!(tr(nr,"Trident")||tr(nr,"MSIE"))&&!tr(nr,"Edge"),jK=tr(nr.toLowerCase(),"webkit")&&!tr(nr,"Edge");function W1(){var n=Ie.document;return n?n.documentMode:void 0}e:{var Cw="",Dw=(n=nr,q1?/rv:([^\);]+)(\)|;)/.exec(n):$1?/Edge\/([\d\.]+)/.exec(n):Nu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jK?/WebKit\/(\S+)/.exec(n):UK?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Dw&&(Cw=Dw?Dw[1]:""),Nu){var Iw=W1();if(null!=Iw&&Iw>parseFloat(Cw)){Sp=String(Iw);break e}}Sp=Cw}var HK={};var qK=Ie.document&&Nu&&(W1()||parseInt(Sp,10))||void 0,WK=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ie.addEventListener("test",Dp,e),Ie.removeEventListener("test",Dp,e)}catch(t){}return n}();function $n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Kc(n,e){if($n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(q1){e:{try{Ew(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kc.Z.h.call(this)}}$n.prototype.h=function(){this.defaultPrevented=!0},xn(Kc,$n);var GK={2:"touch",3:"pen",4:"mouse"};Kc.prototype.h=function(){Kc.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),zK=0;function KK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++zK,this.ca=this.fa=!1}function Ap(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function xp(n){this.src=n,this.g={},this.h=0}function Sw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=N1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ap(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Aw(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return i}return-1}xp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=Aw(n,e,r,i);return-1<o?(e=n[o],t||(e.fa=!1)):((e=new KK(e,this.src,s,!!r,i)).fa=t,n.push(e)),e};var xw="closure_lm_"+(1e6*Math.random()|0),Mw={};function z1(n,e,t,r,i){if(r&&r.once)return Q1(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)z1(n,e[s],t,r,i);return null}return t=Nw(t),n&&n[Qc]?n.N(e,t,zc(r)?!!r.capture:!!r,i):K1(n,e,t,!1,r,i)}function K1(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=zc(i)?!!i.capture:!!i,a=Ow(n);if(a||(n[xw]=a=new xp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function QK(){var e=YK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)WK||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(X1(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Q1(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Q1(n,e[s],t,r,i);return null}return t=Nw(t),n&&n[Qc]?n.O(e,t,zc(r)?!!r.capture:!!r,i):K1(n,e,t,!0,r,i)}function Y1(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Y1(n,e[s],t,r,i);else r=zc(r)?!!r.capture:!!r,t=Nw(t),n&&n[Qc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Aw(s=n.g[e],t,r,i))&&(Ap(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Ow(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Aw(e,t,r,i)),(t=-1<n?e[n]:null)&&kw(t))}function kw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Qc])Sw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(X1(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ow(e))?(Sw(t,n),0==t.h&&(t.src=null,e[xw]=null)):Ap(n)}}}function X1(n){return n in Mw?Mw[n]:Mw[n]="on"+n}function YK(n,e){if(n.ca)n=!0;else{e=new Kc(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kw(n),n=t.call(r,e)}return n}function Ow(n){return(n=n[xw])instanceof xp?n:null}var Rw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nw(n){return"function"==typeof n?n:(n[Rw]||(n[Rw]=function(e){return n.handleEvent(e)}),n[Rw])}function vn(){no.call(this),this.i=new xp(this),this.P=this,this.I=null}function Mn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $n(e,n);else if(e instanceof $n)e.target=e.target||n;else{var i=e;H1(e=new $n(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Mp(o,r,!0,e)&&i}if(i=Mp(o=e.g=n,r,!0,e)&&i,i=Mp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Mp(o=e.g=t[s],r,!1,e)&&i}function Mp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==t){var a=o.listener,u=o.ia||o.src;o.fa&&Sw(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}xn(vn,no),vn.prototype[Qc]=!0,vn.prototype.removeEventListener=function(n,e,t,r){Y1(this,n,e,t,r)},vn.prototype.M=function(){if(vn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ap(t[r]);delete n.g[e],n.h--}}this.I=null},vn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pw=Ie.JSON.stringify;function XK(){var n=Z1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Fw,J1=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZK,n=>n.reset());class ZK{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function e7(n){Ie.setTimeout(()=>{throw n},0)}function Lw(n,e){Fw||function t7(){var n=Ie.Promise.resolve(void 0);Fw=function(){n.then(n7)}}(),Vw||(Fw(),Vw=!0),Z1.add(n,e)}var Vw=!1,Z1=new class JK{constructor(){this.h=this.g=null}add(e,t){const r=J1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function n7(){for(var n;n=XK();){try{n.h.call(n.g)}catch(t){e7(t)}var e=J1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vw=!1}function kp(n,e){vn.call(this),this.h=n||1,this.g=e||Ie,this.j=An(this.kb,this),this.l=Date.now()}function Bw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Uw(n,e,t){if("function"==typeof n)t&&(n=An(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=An(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ie.setTimeout(n,e||0)}function eR(n){n.g=Uw(()=>{n.g=null,n.i&&(n.i=!1,eR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xn(kp,vn),(le=kp.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mn(this,"tick"),this.da&&(Bw(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){kp.Z.M.call(this),Bw(this),delete this.g};class r7 extends no{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:eR(this)}M(){super.M(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yc(n){no.call(this),this.h=n,this.g={}}xn(Yc,no);var tR=[];function nR(n,e,t,r){Array.isArray(t)||(t&&(tR[0]=t.toString()),t=tR);for(var i=0;i<t.length;i++){var s=z1(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function rR(n){ww(n.g,function(e,t){this.g.hasOwnProperty(t)&&kw(e)},n),n.g={}}function Op(){this.g=!0}function Pu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function a7(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Pw(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Yc.prototype.M=function(){Yc.Z.M.call(this),rR(this)},Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Op.prototype.Aa=function(){this.g=!1},Op.prototype.info=function(){};var Wo={},iR=null;function Rp(){return iR=iR||new vn}function sR(n){$n.call(this,Wo.Ma,n)}function Xc(n){const e=Rp();Mn(e,new sR(e,n))}function oR(n,e){$n.call(this,Wo.STAT_EVENT,n),this.stat=e}function rr(n){const e=Rp();Mn(e,new oR(e,n))}function aR(n,e){$n.call(this,Wo.Na,n),this.size=e}function Jc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){n()},e)}Wo.Ma="serverreachability",xn(sR,$n),Wo.STAT_EVENT="statevent",xn(oR,$n),Wo.Na="timingevent",xn(aR,$n);var Np={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jw(){}function cR(){}jw.prototype.h=null;var qw,Zc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hw(){$n.call(this,"d")}function $w(){$n.call(this,"c")}function Pp(){}function ed(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Yc(this),this.P=u7,this.W=new kp(n=bw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dR}function dR(){this.i=null,this.g="",this.h=!1}xn(Hw,$n),xn($w,$n),xn(Pp,jw),Pp.prototype.g=function(){return new XMLHttpRequest},Pp.prototype.i=function(){return{}},qw=new Pp;var u7=45e3,Ww={},Lp={};function Gw(n,e,t){n.K=1,n.v=jp(bs(e)),n.s=t,n.U=!0,hR(n,null)}function hR(n,e){n.F=Date.now(),td(n),n.A=bs(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ER(t.h,"t",r),n.C=0,t=n.l.H,n.h=new dR,n.g=qR(n.l,t?e:null,!n.s),0<n.O&&(n.L=new r7(An(n.Ia,n,n.g),n.O)),nR(n.V,n.g,"readystatechange",n.gb),e=n.H?U1(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xc(1),function i7(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var d=l[0];l=l[1];var f=d.split("_");o=2<=f.length&&"type"==f[1]?o+(d+"=")+l+"&":o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.X,n.s)}function fR(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function pR(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=l7(n,t),i==Lp){4==e&&(n.o=4,rr(14),r=!1),Pu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ww){n.o=4,rr(15),Pu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pu(n.j,n.m,i,null),zw(n,i)}fR(n)&&i!=Lp&&i!=Ww&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,rr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),iE(e),e.L=!0,rr(11))):(Pu(n.j,n.m,t,"[Invalid Chunked Response]"),Go(n),nd(n))}function l7(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Lp:(t=Number(e.substring(t,r)),isNaN(t)?Ww:(r+=1)+t>e.length?Lp:(e=e.substr(r,t),n.C=r+t,e))}function td(n){n.Y=Date.now()+n.P,gR(n,n.P)}function gR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jc(An(n.eb,n),e)}function Fp(n){n.B&&(Ie.clearTimeout(n.B),n.B=null)}function nd(n){0==n.l.G||n.I||UR(n.l,n)}function Go(n){Fp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Bw(n.W),rR(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Yw(t.i,n)))if(t.I=n.N,!n.J&&Yw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Jc(An(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;zp(t),Wp(t)}rE(t),rr(18)}if(1>=DR(t.i)&&t.ka){try{t.ka()}catch(l){}t.ka=void 0}}else Qo(t,11)}else if((n.J||t.g==n)&&zp(t),!Tp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.U=l[0],l=l[1],2==t.G)if("c"==l[0]){t.J=l[1],t.la=l[2];const d=l[3];null!=d&&(t.ma=d,t.h.info("VER="+t.ma));const f=l[4];null!=f&&(t.za=f,t.h.info("SVER="+t.za));const g=l[5];null!=g&&"number"==typeof g&&0<g&&(t.K=r=1.5*g,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const _=n.g;if(_){const D=_.g?_.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var s=r.i;!s.g&&(tr(D,"spdy")||tr(D,"quic")||tr(D,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Xw(s,s.h),s.h=null))}if(r.D){const x=_.g?_.g.getResponseHeader("X-HTTP-Session-Id"):null;x&&(r.sa=x,xt(r.F,r.D,x))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var o=n;if((r=t).oa=$R(r,r.H?r.la:null,r.W),o.J){IR(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Fp(a),td(a)),r.g=o}else VR(r);0<t.l.length&&Gp(t)}else"stop"!=l[0]&&"close"!=l[0]||Qo(t,7);else 3==t.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Qo(t,7):tE(t):"noop"!=l[0]&&t.j&&t.j.wa(l),t.A=0)}Xc(4)}catch(l){}}function Kw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mw(n)||"string"==typeof n)P1(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(mw(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function c7(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(mw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}}function Lu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Lu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Qw(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];zo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)zo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function zo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(le=ed.prototype).setTimeout=function(n){this.P=n},le.gb=function(n){n=n.target;const e=this.L;e&&3==Cs(n)?e.l():this.Ia(n)},le.Ia=function(n){try{if(n==this.g)e:{const d=Cs(this.g);var e=this.g.Da();const f=this.g.ba();if(!(3>d)&&(3!=d||bw||this.g&&(this.h.h||this.g.ga()||RR(this.g)))){this.I||4!=d||7==e||Xc(8==e||0>=f?3:2),Fp(this);var t=this.g.ba();this.N=t;t:if(fR(this)){var r=RR(this.g);n="";var i=r.length,s=4==Cs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Go(this),nd(this);var o="";break t}this.h.i=new Ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==t,function s7(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,d,t),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tp(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,rr(12),Go(this),nd(this);break e}Pu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zw(this,t)}this.U?(pR(this,d,o),bw&&this.i&&3==d&&(nR(this.V,this.W,"tick",this.fb),this.W.start())):(Pu(this.j,this.m,o,null),zw(this,o)),4==d&&Go(this),this.i&&!this.I&&(4==d?UR(this.l,this):(this.i=!1,td(this)))}else 400==t&&0<o.indexOf("Unknown SID")?(this.o=3,rr(12)):(this.o=0,rr(13)),Go(this),nd(this)}}}catch(d){}},le.fb=function(){if(this.g){var n=Cs(this.g),e=this.g.ga();this.C<e.length&&(Fp(this),pR(this,n,e),this.i&&4!=n&&td(this))}},le.cancel=function(){this.I=!0,Go(this)},le.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function o7(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xc(3),rr(17)),Go(this),this.o=2,nd(this)):gR(this,this.Y-n)},(le=Lu.prototype).R=function(){Qw(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},le.T=function(){return Qw(this),this.g.concat()},le.get=function(n,e){return zo(this.h,n)?this.h[n]:e},le.set=function(n,e){zo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},le.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],s=this.get(i);n.call(e,s,i,this)}};var mR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ko(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ko){this.g=void 0!==e?e:n.g,Vp(this,n.j),this.s=n.s,Bp(this,n.i),Up(this,n.m),this.l=n.l,e=n.h;var t=new sd;t.i=e.i,e.g&&(t.g=new Lu(e.g),t.h=e.h),vR(this,t),this.o=n.o}else n&&(t=String(n).match(mR))?(this.g=!!e,Vp(this,t[1]||"",!0),this.s=rd(t[2]||""),Bp(this,t[3]||"",!0),Up(this,t[4]),this.l=rd(t[5]||"",!0),vR(this,t[6]||"",!0),this.o=rd(t[7]||"")):(this.g=!!e,this.h=new sd(null,this.g))}function bs(n){return new Ko(n)}function Vp(n,e,t){n.j=t?rd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bp(n,e,t){n.i=t?rd(e,!0):e}function Up(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vR(n,e,t){e instanceof sd?(n.h=e,function _7(n,e){e&&!n.j&&(ro(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(_R(this,r),ER(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=id(e,v7)),n.h=new sd(e,n.g))}function xt(n,e,t){n.h.set(e,t)}function jp(n){return xt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function id(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,p7),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function p7(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ko.prototype.toString=function(){var n=[],e=this.j;e&&n.push(id(e,yR,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(id(e,yR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(id(t,"/"==t.charAt(0)?m7:g7,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",id(t,y7)),n.join("")};var yR=/[#\/\?@]/g,g7=/[#\?:]/g,m7=/[#\?]/g,v7=/[#\?@]/g,y7=/#/g;function sd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ro(n){n.g||(n.g=new Lu,n.h=0,n.i&&function d7(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _R(n,e){ro(n),e=Fu(n,e),zo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,zo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Qw(n)))}function wR(n,e){return ro(n),e=Fu(n,e),zo(n.g.h,e)}function ER(n,e,t){_R(n,e),0<t.length&&(n.i=null,n.g.set(Fu(n,e),yw(t)),n.h+=t.length)}function Fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bR(n){this.l=n||E7,n=Ie.PerformanceNavigationTiming?0<(n=Ie.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ie.g&&Ie.g.Ea&&Ie.g.Ea()&&Ie.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(le=sd.prototype).add=function(n,e){ro(this),this.i=null,n=Fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},le.forEach=function(n,e){ro(this),this.g.forEach(function(t,r){P1(t,function(i){n.call(e,i,r,this)},this)},this)},le.T=function(){ro(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],s=0;s<i.length;s++)t.push(e[r]);return t},le.R=function(n){ro(this);var e=[];if("string"==typeof n)wR(this,n)&&(e=L1(e,this.g.get(Fu(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=L1(e,n[t])}return e},le.set=function(n,e){return ro(this),this.i=null,wR(this,n=Fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},le.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),n.push(o)}}return this.i=n.join("&")};var E7=10;function CR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DR(n){return n.h?1:n.g?n.g.size:0}function Yw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Xw(n,e){n.g?n.g.add(e):n.h=e}function IR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yw(n.i)}function Jw(){}function b7(){this.g=new Jw}function C7(n,e,t){const r=t||"";try{Kw(n,function(i,s){let o=i;zc(i)&&(o=Pw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Hp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function od(n){this.l=n.$b||null,this.j=n.ib||!1}function $p(n,e){vn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Zw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bR.prototype.cancel=function(){if(this.i=TR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jw.prototype.stringify=function(n){return Ie.JSON.stringify(n,void 0)},Jw.prototype.parse=function(n){return Ie.JSON.parse(n,void 0)},xn(od,jw),od.prototype.g=function(){return new $p(this.l,this.j)},od.prototype.i=function(n){return function(){return n}}({}),xn($p,vn);var Zw=0;function SR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ad(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ud(n)}function ud(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(le=$p.prototype).open=function(n,e){if(this.readyState!=Zw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ud(this)},le.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ie).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ad(this)),this.readyState=Zw},le.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ud(this)),this.g&&(this.readyState=3,ud(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ie.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ad(this):ud(this),3==this.readyState&&SR(this)}},le.Ua=function(n){this.g&&(this.response=this.responseText=n,ad(this))},le.Ta=function(n){this.g&&(this.response=n,ad(this))},le.ha=function(){this.g&&ad(this)},le.setRequestHeader=function(n,e){this.v.append(n,e)},le.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var I7=Ie.JSON.parse;function Yt(n){vn.call(this),this.headers=new Lu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=AR,this.K=this.L=!1}xn(Yt,vn);var AR="",T7=/^https?$/i,S7=["POST","PUT"];function x7(n){return"content-type"==n.toLowerCase()}function xR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MR(n),qp(n)}function MR(n){n.D||(n.D=!0,Mn(n,"complete"),Mn(n,"error"))}function kR(n){if(n.h&&void 0!==gw&&(!n.C[1]||4!=Cs(n)||2!=n.ba()))if(n.v&&4==Cs(n))Uw(n.Fa,0,n);else if(Mn(n,"readystatechange"),4==Cs(n)){n.h=!1;try{const a=n.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===a){var i=String(n.H).match(mR)[1]||null;if(!i&&Ie.self&&Ie.self.location){var s=Ie.self.location.protocol;i=s.substr(0,s.length-1)}r=!T7.test(i?i.toLowerCase():"")}t=r}if(t)Mn(n,"complete"),Mn(n,"success");else{n.m=6;try{var o=2<Cs(n)?n.g.statusText:""}catch(u){o=""}n.j=o+" ["+n.ba()+"]",MR(n)}}finally{qp(n)}}}function qp(n,e){if(n.g){OR(n);const t=n.g,r=n.C[0]?Dp:null;n.g=null,n.C=null,e||Mn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function OR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ie.clearTimeout(n.A),n.A=null)}function Cs(n){return n.g?n.g.readyState:0}function RR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case AR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function eE(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function M7(n){let e="";return ww(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xt(n,e,t))}function ld(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NR(n){this.za=0,this.l=[],this.h=new Op,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ld("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ld("baseRetryDelayMs",5e3,n),this.$a=ld("retryDelaySeedMs",1e4,n),this.Ya=ld("forwardChannelMaxRetries",2,n),this.ra=ld("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new bR(n&&n.concurrentRequestLimit),this.Ca=new b7,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function tE(n){if(PR(n),3==n.G){var e=n.V++,t=bs(n.F);xt(t,"SID",n.J),xt(t,"RID",e),xt(t,"TYPE","terminate"),cd(n,t),(e=new ed(n,n.h,e,void 0)).K=2,e.v=jp(bs(t)),t=!1,Ie.navigator&&Ie.navigator.sendBeacon&&(t=Ie.navigator.sendBeacon(e.v.toString(),"")),!t&&Ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=qR(e.l,null),e.g.ea(e.v)),e.F=Date.now(),td(e)}HR(n)}function Wp(n){n.g&&(iE(n),n.g.cancel(),n.g=null)}function PR(n){Wp(n),n.u&&(Ie.clearTimeout(n.u),n.u=null),zp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ie.clearTimeout(n.m),n.m=null)}function nE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Gp(n)}function Gp(n){CR(n.i)||n.m||(n.m=!0,Lw(n.Ha,n),n.C=0)}function LR(n,e){var t;t=e?e.m:n.V++;const r=bs(n.F);xt(r,"SID",n.J),xt(r,"RID",t),xt(r,"AID",n.U),cd(n,r),n.o&&n.s&&eE(r,n.o,n.s),t=new ed(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=FR(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Xw(n.i,t),Gw(t,r,e)}function cd(n,e){n.j&&Kw({},function(t,r){xt(e,r,t)})}function FR(n,e,t){t=Math.min(n.l.length,t);var r=n.j?An(n.j.Oa,n.j,n):null;e:{var i=n.l;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].h;const d=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{C7(d,o,"req"+l+"_")}catch(f){r&&r(d)}}if(a){r=o.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function VR(n){n.g||n.u||(n.Y=1,Lw(n.Ga,n),n.A=0)}function rE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Jc(An(n.Ga,n),jR(n,n.A)),n.A++,0))}function iE(n){null!=n.B&&(Ie.clearTimeout(n.B),n.B=null)}function BR(n){n.g=new ed(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=bs(n.oa);xt(e,"RID","rpc"),xt(e,"SID",n.J),xt(e,"CI",n.N?"0":"1"),xt(e,"AID",n.U),cd(n,e),xt(e,"TYPE","xmlhttp"),n.o&&n.s&&eE(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=jp(bs(e)),t.s=null,t.U=!0,hR(t,n)}function zp(n){null!=n.v&&(Ie.clearTimeout(n.v),n.v=null)}function UR(n,e){var t=null;if(n.g==e){zp(n),iE(n),n.g=null;var r=2}else{if(!Yw(n.i,e))return;t=e.D,IR(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Mn(r=Rp(),new aR(r,t,e,i)),Gp(n)}else VR(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function k7(n,e){return!(DR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Jc(An(n.Ha,n,e),jR(n,n.C)),n.C++,0)))}(n,e)||2==r&&rE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Qo(n,5);break;case 4:Qo(n,10);break;case 3:Qo(n,6);break;default:Qo(n,2)}}function jR(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Qo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=An(n.jb,n);t||(t=new Ko("//www.google.com/images/cleardot.gif"),Ie.location&&"http"==Ie.location.protocol||Vp(t,"https"),jp(t)),function D7(n,e){const t=new Op;if(Ie.Image){const r=new Image;r.onload=Ip(Hp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ip(Hp,t,r,"TestLoadImage: error",!1,e),r.onabort=Ip(Hp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ip(Hp,t,r,"TestLoadImage: timeout",!1,e),Ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else rr(2);n.G=0,n.j&&n.j.va(e),HR(n),PR(n)}function HR(n){n.G=0,n.I=-1,n.j&&((0!=TR(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yw(n.l),n.l.length=0),n.j.ua())}function $R(n,e,t){let r=function h7(n){return n instanceof Ko?bs(n):new Ko(n,void 0)}(t);if(""!=r.i)e&&Bp(r,e+"."+r.i),Up(r,r.m);else{const i=Ie.location;r=function f7(n,e,t,r){var i=new Ko(null,void 0);return n&&Vp(i,n),e&&Bp(i,e),t&&Up(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&ww(n.aa,function(i,s){xt(r,s,i)}),t=n.sa,(e=n.D)&&t&&xt(r,e,t),xt(r,"VER",n.ma),cd(n,r),r}function qR(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yt(t&&n.Ba&&!n.qa?new od({ib:!0}):n.qa)).L=n.H,e}function WR(){}function Kp(){if(Nu&&!(10<=Number(qK)))throw Error("Environmental error: no available transport.")}function Ar(n,e){vn.call(this),this.g=new NR(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Tp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vu(this)}function GR(n){Hw.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function zR(){$w.call(this),this.status=1}function Vu(n){this.g=n}(le=Yt.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qw.g(),this.C=function lR(n){return n.h||(n.h=n.i())}(this.u?this.u:qw),this.g.onreadystatechange=An(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void xR(this,s)}n=t||"";const i=new Lu(this.headers);r&&Kw(r,function(s,o){i.set(o,s)}),r=function VK(n){e:{var e=x7;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ie.FormData&&n instanceof Ie.FormData,!(0<=N1(S7,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OR(this),0<this.B&&((this.K=function A7(n){return Nu&&function $K(){return function BK(n){var e=HK;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=F1(String(Sp)).split("."),t=F1("9").split("."),r=Math.max(e.length,t.length);for(let o=0;0==n&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;n=_w(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||_w(0==i[2].length,0==s[2].length)||_w(i[2],s[2]),i=i[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=An(this.pa,this)):this.A=Uw(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){xR(this,s)}},le.pa=function(){void 0!==gw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},le.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mn(this,"complete"),Mn(this,"abort"),qp(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qp(this,!0)),Yt.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?kR(this):this.cb())},le.cb=function(){kR(this)},le.ba=function(){try{return 2<Cs(this)?this.g.status:-1}catch(n){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},le.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),I7(e)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=NR.prototype).ma=8,le.G=1,le.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},le.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ed(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=U1(s),H1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FR(this,i,e),xt(t=bs(this.F),"RID",n),xt(t,"CVER",22),this.D&&xt(t,"X-HTTP-Session-Id",this.D),cd(this,t),this.o&&s&&eE(t,this.o,s),Xw(this.i,i),this.Ra&&xt(t,"TYPE","init"),this.ja?(xt(t,"$req",e),xt(t,"SID","null"),i.$=!0,Gw(i,t,null)):Gw(i,t,e),this.G=2}}else 3==this.G&&(n?LR(this,n):0==this.l.length||CR(this.i)||LR(this))},le.Ga=function(){if(this.u=null,BR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Jc(An(this.bb,this),n)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rr(10),Wp(this),BR(this))},le.ab=function(){null!=this.v&&(this.v=null,Wp(this),rE(this),rr(19))},le.jb=function(n){n?(this.h.info("Successfully pinged google.com"),rr(2)):(this.h.info("Failed to ping google.com"),rr(1))},(le=WR.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},Kp.prototype.g=function(n,e){return new Ar(n,e)},xn(Ar,vn),Ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Lw(An(n.hb,n,e))),rr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=$R(n,null,n.W),Gp(n)},Ar.prototype.close=function(){tE(this.g)},Ar.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,nE(this.g,e)}else this.v?((e={}).__data__=Pw(n),nE(this.g,e)):nE(this.g,n)},Ar.prototype.M=function(){this.g.j=null,delete this.j,tE(this.g),delete this.g,Ar.Z.M.call(this)},xn(GR,Hw),xn(zR,$w),xn(Vu,WR),Vu.prototype.xa=function(){Mn(this.g,"a")},Vu.prototype.wa=function(n){Mn(this.g,new GR(n))},Vu.prototype.va=function(n){Mn(this.g,new zR(n))},Vu.prototype.ua=function(){Mn(this.g,"b")},Kp.prototype.createWebChannel=Kp.prototype.g,Ar.prototype.send=Ar.prototype.u,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,uR.COMPLETE="complete",cR.EventType=Zc,Zc.OPEN="a",Zc.CLOSE="b",Zc.ERROR="c",Zc.MESSAGE="d",vn.prototype.listen=vn.prototype.N,Yt.prototype.listenOnce=Yt.prototype.O,Yt.prototype.getLastError=Yt.prototype.La,Yt.prototype.getLastErrorCode=Yt.prototype.Da,Yt.prototype.getStatus=Yt.prototype.ba,Yt.prototype.getResponseJson=Yt.prototype.Qa,Yt.prototype.getResponseText=Yt.prototype.ga,Yt.prototype.send=Yt.prototype.ea;var O7=Es.createWebChannelTransport=function(){return new Kp},R7=Es.getStatEventTarget=function(){return Rp()},sE=Es.ErrorCode=Np,N7=Es.EventType=uR,P7=Es.Event=Wo,KR=Es.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},L7=Es.FetchXmlHttpFactory=od,Qp=Es.WebChannel=cR,F7=Es.XhrIo=Yt;const QR="@firebase/firestore";class yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Bu="9.9.1";const io=new bp("@firebase/firestore");function oE(){return io.logLevel}function X(n,...e){if(io.logLevel<=Ze.DEBUG){const t=e.map(aE);io.debug(`Firestore (${Bu}): ${n}`,...t)}}function Xt(n,...e){if(io.logLevel<=Ze.ERROR){const t=e.map(aE);io.error(`Firestore (${Bu}): ${n}`,...t)}}function dd(n,...e){if(io.logLevel<=Ze.WARN){const t=e.map(aE);io.warn(`Firestore (${Bu}): ${n}`,...t)}}function aE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function de(n="Unexpected state"){const e=`FIRESTORE (${Bu}) INTERNAL ASSERTION FAILED: `+n;throw Xt(e),new Error(e)}function be(n,e){n||de()}function ne(n,e){return n}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _n{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class j7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class H7{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _n,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(b(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _n)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be("string"==typeof r.accessToken),new YR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(null===e||"string"==typeof e),new yn(e)}}class $7{constructor(e,t,r){this.type="FirstParty",this.user=yn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class q7{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new $7(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W7{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be("string"==typeof t.token),this.p=t.token,new XR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function G7(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JR{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=G7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function Uu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ZR(n){return n+"\0"}class Mt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Mt(0,0))}static max(){return new we(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hd{constructor(e,t,r){void 0===t?t=0:t>e.length&&de(),void 0===r?r=e.length-t:r>e.length-t&&de(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===hd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class et extends hd{construct(e,t,r){return new et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new et(t)}static emptyPath(){return new et([])}}const z7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends hd{construct(e,t,r){return new $t(e,t,r)}static isValidIdentifier(e){return z7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(et.fromString(e))}static fromName(e){return new te(et.fromString(e).popFirst(5))}static empty(){return new te(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new et(e.slice()))}}class Yp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function uE(n){return n.fields.find(e=>2===e.kind)}function Yo(n){return n.fields.filter(e=>2!==e.kind)}Yp.UNKNOWN_ID=-1;class Xp{constructor(e,t){this.fieldPath=e,this.kind=t}}class fd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fd(0,xr.min())}}function eN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=we.fromTimestamp(1e9===r?new Mt(t+1,0):new Mt(t,r));return new xr(i,te.empty(),e)}function tN(n){return new xr(n.readTime,n.key,-1)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(we.min(),te.empty(),-1)}static max(){return new xr(we.max(),te.empty(),-1)}}function lE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=te.comparator(n.documentKey,e.documentKey),0!==t?t:Me(n.largestBatchId,e.largestBatchId))}const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function so(n){return cE.apply(this,arguments)}function cE(){return cE=b(function*(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==nN)throw n;X("LocalStore","Unexpectedly lost primary lease")}),cE.apply(this,arguments)}class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof V?t:V.resolve(t)}catch(t){return V.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):V.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):V.reject(t)}static resolve(e){return new V((t,r)=>{t(e)})}static reject(e){return new V((t,r)=>{r(e)})}static waitFor(e){return new V((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=V.resolve(!1);for(const r of e)t=t.next(i=>i?V.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;t(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new V((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Jp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new _n,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new pd(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=dE(r.target.error);this.T.reject(new pd(e,i))}}static open(e,t,r,i){try{return new Jp(t,e.transaction(i,r))}catch(s){throw new pd(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Q7(t)}}class Ci{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Ci.v(bt())&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return X("SimpleDb","Removing database:",e),Xo(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!$c())return!1;if(Ci.S())return!0;const e=bt(),t=Ci.v(e),r=0<t&&t<10,i=Ci.D(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return b(function*(){return t.db||(X("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new pd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new G(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new G(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new pd(e,a))},s.onupgradeneeded=o=>{X("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.P.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{X("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return b(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.k(e);const u=Jp.open(s.db,e,o?"readonly":"readwrite",r),l=i(u).next(d=>(u.R(),d)).catch(d=>(u.abort(d),V.reject(d))).toPromise();return l.catch(()=>{}),yield u.A,l}catch(u){const l=u,d="FirebaseError"!==l.name&&a<3;if(X("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),s.close(),!d)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class K7{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Xo(this.$.delete())}}class pd extends G{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oo(n){return"IndexedDbTransactionError"===n.name}class Q7{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(X("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xo(r)}add(e){return X("SimpleDb","ADD",this.store.name,e,e),Xo(this.store.add(e))}get(e){return Xo(this.store.get(e)).next(t=>(void 0===t&&(t=null),X("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return X("SimpleDb","DELETE",this.store.name,e),Xo(this.store.delete(e))}count(){return X("SimpleDb","COUNT",this.store.name),Xo(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new V((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}W(e,t){X("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new V((r,i)=>{t.onerror=s=>{const o=dE(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new K7(a),l=t(a.primaryKey,a.value,u);if(l instanceof V){const d=l.catch(f=>(u.done(),V.reject(f)));r.push(d)}u.isDone?i():null===u.U?a.continue():a.continue(u.U)}}).next(()=>V.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xo(n){return new V((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=dE(r.target.error);t(i)}})}let iN=!1;function dE(n){const e=Ci.v(bt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new G("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iN||(iN=!0,setTimeout(()=>{throw r},0)),r}}return n}class Y7{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;X("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,b(function*(){t.task=null;try{X("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){oo(r)?X("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield so(r)}yield t.Z(1)}))}}class X7{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return b(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,s=!0;return V.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return X("IndexBackiller",`Processing collection: ${o}`),this.nt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.st(i,s)).next(a=>(X("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}st(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=tN(s);lE(o,r)>0&&(r=o)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function sN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}hr.ot=-1;class Bt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zp(this.root,e,this.comparator,!0)}}class Zp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:kn.RED,this.left=null!=i?i:kn.EMPTY,this.right=null!=s?s:kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new kn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1,kn.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(n,e,t,r,i){return this}insert(n,e,t){return new kn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ut{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aN(this.data.getIterator())}getIteratorFrom(e){return new aN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class aN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ju(n){return n.hasNext()?n.getNext():void 0}class Mr{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new ut($t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new un(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Z7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(n){if(be(!!n),"string"==typeof n){let e=0;const t=Z7.exec(n);if(be(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(n.seconds),nanos:Ut(n.nanos)}}function Ut(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Zo(n){return"string"==typeof n?un.fromBase64String(n):un.fromUint8Array(n)}function hE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uN(n){const e=n.mapValue.fields.__previous_value__;return hE(e)?uN(e):e}function gd(n){const e=ao(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class eQ{constructor(e,t,r,i,s,o,a,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Ds{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ds&&e.projectId===this.projectId&&e.database===this.database}}function md(n){return null==n}function vd(n){return 0===n&&1/n==-1/0}function lN(n){return"number"==typeof n&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eg={nullValue:"NULL_VALUE"};function ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hE(n)?4:fN(n)?9007199254740991:10:de()}function Gi(n,e){if(n===e)return!0;const t=ea(n);if(t!==ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gd(n).isEqual(gd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ao(r.timestampValue),o=ao(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Zo(n.bytesValue).isEqual(Zo(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ut(r.geoPointValue.latitude)===Ut(i.geoPointValue.latitude)&&Ut(r.geoPointValue.longitude)===Ut(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ut(r.integerValue)===Ut(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ut(r.doubleValue),o=Ut(i.doubleValue);return s===o?vd(s)===vd(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Uu(n.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(sN(s)!==sN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Gi(s[a],o[a])))return!1;return!0}(n,e);default:return de()}var i}function yd(n,e){return void 0!==(n.values||[]).find(t=>Gi(t,e))}function lo(n,e){if(n===e)return 0;const t=ea(n),r=ea(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ut(i.integerValue||i.doubleValue),a=Ut(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return cN(n.timestampValue,e.timestampValue);case 4:return cN(gd(n),gd(e));case 5:return Me(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Zo(i),a=Zo(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=Me(o[u],a[u]);if(0!==l)return l}return Me(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Me(Ut(i.latitude),Ut(s.latitude));return 0!==o?o:Me(Ut(i.longitude),Ut(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=lo(o[u],a[u]);if(l)return l}return Me(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===uo.mapValue&&s===uo.mapValue)return 0;if(i===uo.mapValue)return 1;if(s===uo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let d=0;d<a.length&&d<l.length;++d){const f=Me(a[d],l[d]);if(0!==f)return f;const g=lo(o[a[d]],u[l[d]]);if(0!==g)return g}return Me(a.length,l.length)}(n.mapValue,e.mapValue);default:throw de()}}function cN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Me(n,e);const t=ao(n),r=ao(e),i=Me(t.seconds,r.seconds);return 0!==i?i:Me(t.nanos,r.nanos)}function Hu(n){return fE(n)}function fE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ao(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Zo(n.bytesValue).toBase64():"referenceValue"in n?te.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=fE(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${fE(r.fields[a])}`;return s+"}"}(n.mapValue):de();var e}function ta(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pE(n){return!!n&&"integerValue"in n}function _d(n){return!!n&&"arrayValue"in n}function dN(n){return!!n&&"nullValue"in n}function hN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tg(n){return!!n&&"mapValue"in n}function wd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tQ(n){return"nullValue"in n?eg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ta(Ds.empty(),te.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:de()}function nQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ta(Ds.empty(),te.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uo:de()}function pN(n,e){const t=lo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function gN(n,e){const t=lo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=wd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());tg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Jo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new On(wd(this.value))}}function mN(n){const e=[];return Jo(n.fields,(t,r)=>{const i=new $t([t]);if(tg(r)){const s=mN(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mr(e)}class vt{constructor(e,t,r,i,s,o){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new vt(e,0,we.min(),we.min(),On.empty(),0)}static newFoundDocument(e,t,r){return new vt(e,1,t,we.min(),r,0)}static newNoDocument(e,t){return new vt(e,2,t,we.min(),On.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,we.min(),On.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rQ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function vN(n,e=null,t=[],r=[],i=null,s=null,o=null){return new rQ(n,e,t,r,i,s,o)}function na(n){const e=ne(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Hu(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hu(r)).join(",")),e.ut=t}return e.ut}function Ed(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!hQ(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Gi(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bN(n.startAt,e.startAt)&&bN(n.endAt,e.endAt)}function ng(n){return te.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function rg(n,e){return n.filters.filter(t=>t instanceof Rn&&t.field.isEqual(e))}function yN(n,e,t){let r=eg,i=!0;for(const s of rg(n,e)){let o=eg,a=!0;switch(s.op){case"<":case"<=":o=tQ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=eg}pN({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];pN({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function _N(n,e,t){let r=uo,i=!0;for(const s of rg(n,e)){let o=uo,a=!0;switch(s.op){case">=":case">":o=nQ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=uo}gN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];gN({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Rn extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new sQ(e,t,r):"array-contains"===t?new uQ(e,r):"in"===t?new lQ(e,r):"not-in"===t?new cQ(e,r):"array-contains-any"===t?new dQ(e,r):new Rn(e,t,r)}static ct(e,t,r){return"in"===t?new oQ(e,r):new aQ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(lo(t,this.value)):null!==t&&ea(this.value)===ea(t)&&this.at(lo(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return de()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sQ extends Rn{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){const t=te.comparator(e.key,this.key);return this.at(t)}}class oQ extends Rn{constructor(e,t){super(e,"in",t),this.keys=wN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aQ extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=wN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function wN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}class uQ extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _d(t)&&yd(t.arrayValue,this.value)}}class lQ extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yd(this.value.arrayValue,t)}}class cQ extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yd(this.value.arrayValue,t)}}class dQ extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_d(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yd(this.value.arrayValue,r))}}class co{constructor(e,t){this.position=e,this.inclusive=t}}class $u{constructor(e,t="asc"){this.field=e,this.dir=t}}function hQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function EN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?te.comparator(te.fromName(o.referenceValue),t.key):lo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function bN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gi(n.position[t],e.position[t]))return!1;return!0}class Is{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function CN(n,e,t,r,i,s,o,a){return new Is(n,e,t,r,i,s,o,a)}function qu(n){return new Is(n)}function gE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function mE(n){for(const e of n.filters)if(e.ht())return e.field;return null}function vE(n){return null!==n.collectionGroup}function Wu(n){const e=ne(n);if(null===e.lt){e.lt=[];const t=mE(e),r=gE(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new $u(t)),e.lt.push(new $u($t.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new $u($t.keyField(),s))}}}return e.lt}function Yr(n){const e=ne(n);if(!e.ft)if("F"===e.limitType)e.ft=vN(e.path,e.collectionGroup,Wu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Wu(e))t.push(new $u(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new co(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new co(e.startAt.position,e.startAt.inclusive):null;e.ft=vN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function DN(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bd(n,e){return Ed(Yr(n),Yr(e))&&n.limitType===e.limitType}function IN(n){return`${na(Yr(n))}|lt:${n.limitType}`}function yE(n){return`Query(target=${function iQ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Hu(r.value)}`;var r}).join(", ")}]`),md(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Hu(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Hu(t)).join(",")),`Target(${e})`}(Yr(n))}; limitType=${n.limitType})`}function _E(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):te.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=EN(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Wu(t),r)||t.endAt&&!function(i,s,o){const a=EN(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Wu(t),r)));var t,r}function TN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SN(n){return(e,t)=>{let r=!1;for(const i of Wu(n)){const s=pQ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function pQ(n,e,t){const r=n.field.isKeyField()?te.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?lo(a,u):de()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}function AN(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function xN(n){return{integerValue:""+n}}function MN(n,e){return lN(e)?xN(e):AN(n,e)}class ig{constructor(){this._=void 0}}function gQ(n,e,t){return n instanceof Gu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ra?ON(n,e):n instanceof ia?RN(n,e):function(r,i){const s=kN(r,i),o=NN(s)+NN(r._t);return pE(s)&&pE(r._t)?xN(o):AN(r.wt,o)}(n,e)}function mQ(n,e,t){return n instanceof ra?ON(n,e):n instanceof ia?RN(n,e):t}function kN(n,e){return n instanceof zu?pE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Gu extends ig{}class ra extends ig{constructor(e){super(),this.elements=e}}function ON(n,e){const t=PN(e);for(const r of n.elements)t.some(i=>Gi(i,r))||t.push(r);return{arrayValue:{values:t}}}class ia extends ig{constructor(e){super(),this.elements=e}}function RN(n,e){let t=PN(e);for(const r of n.elements)t=t.filter(i=>!Gi(i,r));return{arrayValue:{values:t}}}class zu extends ig{constructor(e,t){super(),this.wt=e,this._t=t}}function NN(n){return Ut(n.integerValue||n.doubleValue)}function PN(n){return _d(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.field=e,this.transform=t}}class yQ{constructor(e,t){this.version=e,this.transformResults=t}}class Nt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nt}static exists(e){return new Nt(void 0,e)}static updateTime(e){return new Nt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class og{}function LN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Qu(n.key,Nt.none()):new Ku(n.key,n.data,Nt.none());{const t=n.data,r=On.empty();let i=new ut($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ts(n.key,r,new Mr(i.toArray()),Nt.none())}}function _Q(n,e,t){n instanceof Ku?function(r,i,s){const o=r.value.clone(),a=BN(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Ts?function(r,i,s){if(!sg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=BN(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(VN(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dd(n,e,t,r){return n instanceof Ku?function(i,s,o,a){if(!sg(i.precondition,s))return o;const u=i.value.clone(),l=UN(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ts?function(i,s,o,a){if(!sg(i.precondition,s))return o;const u=UN(i.fieldTransforms,a,s),l=s.data;return l.setAll(VN(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(n,e,t,r):(o=t,sg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function wQ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kN(r.transform,i||null);null!=s&&(null===t&&(t=On.empty()),t.set(r.field,s))}return t||null}function FN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Uu(t,r,(i,s)=>function vQ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ra&&r instanceof ra||t instanceof ia&&r instanceof ia?Uu(t.elements,r.elements,Gi):t instanceof zu&&r instanceof zu?Gi(t._t,r._t):t instanceof Gu&&r instanceof Gu);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ku extends og{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ts extends og{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BN(n,e,t){const r=new Map;be(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,mQ(o,a,t[i]))}return r}function UN(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,gQ(s,o,e))}return r}class Qu extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wE extends og{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EQ{constructor(e){this.count=e}}var Jt,tt;function jN(n){switch(n){default:return de();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function HN(n){if(void 0===n)return Xt("GRPC error has no .code"),U.UNKNOWN;switch(n){case Jt.OK:return U.OK;case Jt.CANCELLED:return U.CANCELLED;case Jt.UNKNOWN:return U.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return U.INTERNAL;case Jt.UNAVAILABLE:return U.UNAVAILABLE;case Jt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Jt.NOT_FOUND:return U.NOT_FOUND;case Jt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Jt.ABORTED:return U.ABORTED;case Jt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Jt.DATA_LOSS:return U.DATA_LOSS;default:return de()}}(tt=Jt||(Jt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";class ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return oN(this.inner)}size(){return this.innerSize}}const bQ=new Bt(te.comparator);function fr(){return bQ}const $N=new Bt(te.comparator);function Id(...n){let e=$N;for(const t of n)e=e.insert(t.key,t);return e}function qN(n){let e=$N;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zi(){return Td()}function WN(){return Td()}function Td(){return new ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const CQ=new Bt(te.comparator),DQ=new ut(te.comparator);function Fe(...n){let e=DQ;for(const t of n)e=e.add(t);return e}const IQ=new ut(Me);function ag(){return IQ}class Sd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sd(we.min(),r,ag(),fr(),Fe())}}class Ad{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ad(un.EMPTY_BYTE_STRING,t,Fe(),Fe(),Fe())}}class ug{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class GN{constructor(e,t){this.targetId=e,this.It=t}}class zN{constructor(e,t,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class KN{constructor(){this.Tt=0,this.Et=YN(),this.At=un.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Fe(),t=Fe(),r=Fe();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:de()}}),new Ad(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=YN()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class TQ{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=fr(),this.Bt=QN(),this.Lt=new ut(Me)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:de()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const s=i.target;if(ng(s))if(0===r){const o=new te(s.path);this.Kt(t,o,vt.newNoDocument(o,we.min()))}else be(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&ng(a.target)){const u=new te(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,vt.newNoDocument(u,e))}s.vt&&(t.set(o,s.St()),s.Dt())}});let r=Fe();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ht(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Sd(e,t,this.Lt,this.$t,r);return this.$t=fr(),this.Bt=QN(),this.Lt=new ut(Me),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new KN,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new ut(Me),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||X("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new KN),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function QN(){return new Bt(te.comparator)}function YN(){return new Bt(te.comparator)}const SQ={asc:"ASCENDING",desc:"DESCENDING"},AQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class xQ{constructor(e,t){this.databaseId=e,this.dt=t}}function xd(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XN(n,e){return n.dt?e.toBase64():e.toUint8Array()}function MQ(n,e){return xd(n,e.toTimestamp())}function wn(n){return be(!!n),we.fromTimestamp(function(e){const t=ao(e);return new Mt(t.seconds,t.nanos)}(n))}function EE(n,e){return(t=n,new et(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function JN(n){const e=et.fromString(n);return be(aP(e)),e}function Md(n,e){return EE(n.databaseId,e.path)}function Ki(n,e){const t=JN(e);if(t.get(1)!==n.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(eP(t))}function bE(n,e){return EE(n.databaseId,e)}function ZN(n){const e=JN(n);return 4===e.length?et.emptyPath():eP(e)}function kd(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eP(n){return be(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tP(n,e,t){return{name:Md(n,e),fields:t.value.mapValue.fields}}function nP(n,e,t){const r=Ki(n,e.name),i=wn(e.updateTime),s=new On({mapValue:{fields:e.fields}}),o=vt.newFoundDocument(r,i,s);return t&&o.setHasCommittedMutations(),t?o.setHasCommittedMutations():o}function Od(n,e){let t;if(e instanceof Ku)t={update:tP(n,e.key,e.value)};else if(e instanceof Qu)t={delete:Md(n,e.key)};else if(e instanceof Ts)t={update:tP(n,e.key,e.data),updateMask:BQ(e.fieldMask)};else{if(!(e instanceof wE))return de();t={verify:Md(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ra)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ia)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof zu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw de()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:MQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:de()),t;var i}function CE(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Nt.updateTime(wn(i.updateTime)):void 0!==i.exists?Nt.exists(i.exists):Nt.none():Nt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;"setToServerValue"in o?(be("REQUEST_TIME"===o.setToServerValue),a=new Gu):"appendMissingElements"in o?a=new ra(o.appendMissingElements.values||[]):"removeAllFromArray"in o?a=new ia(o.removeAllFromArray.values||[]):"increment"in o?a=new zu(s,o.increment):de();const u=$t.fromServerFormat(o.fieldPath);return new Cd(u,a)}(n,i)):[];var i;if(e.update){const i=Ki(n,e.update.name),s=new On({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Mr((e.updateMask.fieldPaths||[]).map(l=>$t.fromServerFormat(l)));return new Ts(i,s,o,t,r)}return new Ku(i,s,t,r)}if(e.delete){const i=Ki(n,e.delete);return new Qu(i,t)}if(e.verify){const i=Ki(n,e.verify);return new wE(i,t)}return de()}function rP(n,e){return{documents:[bE(n,e.path)]}}function iP(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(d=>function(f){if("=="===f.op){if(hN(f.value))return{unaryFilter:{field:Yu(f.field),op:"IS_NAN"}};if(dN(f.value))return{unaryFilter:{field:Yu(f.field),op:"IS_NULL"}}}else if("!="===f.op){if(hN(f.value))return{unaryFilter:{field:Yu(f.field),op:"IS_NOT_NAN"}};if(dN(f.value))return{unaryFilter:{field:Yu(f.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yu(f.field),op:LQ(f.op),value:f.value}}}(d));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:Yu((d=l).field),direction:PQ(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=(l=e.limit,n.dt||md(l)?l:{value:l});var l,a,u;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),t}function sP(n){let e=ZN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){be(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=oP(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(d=>{return new $u(Xu((f=d).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction));var f}));let a=null;t.limit&&(a=function(d){let f;return f="object"==typeof d?d.value:d,md(f)?null:f}(t.limit));let u=null;var d;t.startAt&&(u=new co((d=t.startAt).values||[],!!d.before));let l=null;return t.endAt&&(l=function(d){return new co(d.values||[],!d.before)}(t.endAt)),CN(e,i,o,s,a,"F",u,l)}function oP(n){return n?void 0!==n.unaryFilter?[VQ(n)]:void 0!==n.fieldFilter?[FQ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>oP(e)).reduce((e,t)=>e.concat(t)):de():[]}function PQ(n){return SQ[n]}function LQ(n){return AQ[n]}function Yu(n){return{fieldPath:n.canonicalString()}}function Xu(n){return $t.fromServerFormat(n.fieldPath)}function FQ(n){return Rn.create(Xu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}function VQ(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Xu(n.unaryFilter.field);return Rn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xu(n.unaryFilter.field);return Rn.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xu(n.unaryFilter.field);return Rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xu(n.unaryFilter.field);return Rn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return de()}}function BQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ir(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=uP(e)),e=UQ(n.get(t),e);return uP(e)}function UQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function uP(n){return n+"\x01\x01"}function Qi(n){const e=n.length;if(be(e>=2),2===e)return be("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),et.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&de(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:de()}s=o+2}return new et(r)}const lP=["userId","batchId"];function lg(n,e){return[n,ir(e)]}function cP(n,e,t){return[n,ir(e),t]}const jQ={},HQ=["prefixPath","collectionGroup","readTime","documentId"],$Q=["prefixPath","collectionGroup","documentId"],qQ=["collectionGroup","readTime","prefixPath","documentId"],WQ=["canonicalId","targetId"],GQ=["targetId","path"],zQ=["path","targetId"],KQ=["collectionId","parent"],QQ=["indexId","uid"],YQ=["uid","sequenceNumber"],XQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],JQ=["indexId","uid","orderedDocumentKey"],ZQ=["userId","collectionPath","documentId"],e9=["userId","collectionPath","largestBatchId"],t9=["userId","collectionGroup","largestBatchId"],dP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n9=[...dP,"documentOverlays"],hP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fP=hP,r9=[...fP,"indexConfiguration","indexState","indexEntries"];class DE extends rN{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function En(n,e){const t=ne(n);return Ci.N(t.ee,e)}class IE{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_Q(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=WN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=LN(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(t,r)=>FN(t,r))&&Uu(this.baseMutations,e.baseMutations,(t,r)=>FN(t,r))}}class TE{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length);let i=CQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new TE(e,t,r,i)}}class SE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fo{constructor(e,t,r,i,s=we.min(),o=we.min(),a=un.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pP{constructor(e){this.ne=e}}function gP(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Md(i=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:xd(i,s.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sa(e.version)};else{if(!e.isUnknownDocument())return de();r.unknownDocument={path:t.path.toArray(),version:sa(e.version)}}var i,s;return r}function cg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sa(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oa(n){const e=new Mt(n.seconds,n.nanoseconds);return we.fromTimestamp(e)}function aa(n,e){const t=(e.baseMutations||[]).map(s=>CE(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(o.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(s=>CE(n.ne,s)),i=Mt.fromMillis(e.localWriteTimeMs);return new IE(e.batchId,i,t,r)}function Rd(n){const e=oa(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?oa(n.lastLimboFreeSnapshotVersion):we.min();let r;var i;return void 0!==n.query.documents?(be(1===(i=n.query).documents.length),r=Yr(qu(ZN(i.documents[0])))):r=Yr(sP(n.query)),new fo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,un.fromBase64String(n.resumeToken))}function mP(n,e){const t=sa(e.snapshotVersion),r=sa(e.lastLimboFreeSnapshotVersion);let i;i=ng(e.target)?rP(n.ne,e.target):iP(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:na(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function AE(n){const e=sP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?DN(e,e.limit,"L"):e}function xE(n,e){return new SE(e.largestBatchId,CE(n.ne,e.overlayMutation))}function vP(n,e){const t=e.path.lastSegment();return[n,ir(e.path.popLast()),t]}function yP(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sa(r.readTime),documentKey:ir(r.documentKey.path),largestBatchId:r.largestBatchId}}class s9{getBundleMetadata(e,t){return _P(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:oa(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return _P(e).put({bundleId:(r=t).id,createTime:sa(wn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return wP(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:AE(i.bundledQuery),readTime:oa(i.readTime)};var i})}saveNamedQuery(e,t){return wP(e).put({name:(r=t).name,readTime:sa(wn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function _P(n){return En(n,"bundles")}function wP(n){return En(n,"namedQueries")}class dg{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new dg(e,t.uid||"")}getOverlay(e,t){return Nd(e).get(vP(this.userId,t)).next(r=>r?xE(this.wt,r):null)}getOverlays(e,t){const r=zi();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new SE(t,o);i.push(this.ie(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(ir(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Nd(e).W("collectionPathOverlayIndex",a))}),V.waitFor(s)}getOverlaysForCollection(e,t,r){const i=zi(),s=ir(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Nd(e).K("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const l=xE(this.wt,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=zi();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Nd(e).J({index:"collectionGroupOverlayIndex",range:a},(u,l,d)=>{const f=xE(this.wt,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ie(e,t){return Nd(e).put(function(r,i,s){const[o,a,u]=vP(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Od(r.ne,s.mutation)}}(this.wt,this.userId,t))}}function Nd(n){return En(n,"documentOverlays")}class ua{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ut(e.integerValue));else if("doubleValue"in e){const r=Ut(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),vd(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Zo(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?fN(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):de()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),te.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function o9(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function EP(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=o9(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}ua.ye=new ua;class a9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=EP(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=EP(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class u9{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class l9{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Pd{constructor(){this.Me=new a9,this.Fe=new u9(this.Me),this.$e=new l9(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class la{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new la(this.indexId,this.documentKey,this.arrayValue,r)}}function ca(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=bP(n.arrayValue,e.arrayValue),0!==t?t:(t=bP(n.directionalValue,e.directionalValue),0!==t?t:te.comparator(n.documentKey,e.documentKey)))}function bP(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class c9{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=uE(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Yo(e);let i=0,s=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const o=r[i];if(!this.je(this.Ke,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class d9{constructor(){this.ze=new ME}addToCollectionParentIndex(e,t){return this.ze.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(xr.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}}class ME{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(et.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(et.comparator)).toArray()}}const hg=new Uint8Array(0);class h9{constructor(e,t){this.user=e,this.databaseId=t,this.He=new ME,this.Je=new ho(r=>na(r),(r,i)=>Ed(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:r,parent:ir(i)};return CP(e).put(s)}return V.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ZR(t),""],!1,!0);return CP(e).K(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Qi(o.parent))}return r})}addFieldIndex(e,t){const r=fg(e),i={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var o;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Fd(e);return s.next(a=>{o.put(yP(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=fg(e),i=Fd(e),s=Ld(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ld(e);let i=!0;const s=new Map;return V.forEach(this.Ye(t),o=>this.Xe(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Fe();const a=[];return V.forEach(s,(u,l)=>{var d;X("IndexedDbIndexManager",`Using index ${d=u,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(J=>`${J.fieldPath}:${J.kind}`).join(",")}`} to execute ${na(t)}`);const f=function(J,oe){const fe=uE(oe);if(void 0===fe)return null;for(const Be of rg(J,fe.fieldPath))switch(Be.op){case"array-contains-any":return Be.value.arrayValue.values||[];case"array-contains":return[Be.value]}return null}(l,u),g=function(J,oe){const fe=new Map;for(const Be of Yo(oe))for(const Dt of rg(J,Be.fieldPath))switch(Dt.op){case"==":case"in":fe.set(Be.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return fe.set(Be.fieldPath.canonicalString(),Dt.value),Array.from(fe.values())}return null}(l,u),_=function(J,oe){const fe=[];let Be=!0;for(const Dt of Yo(oe)){const Ii=0===Dt.kind?yN(J,Dt.fieldPath,J.startAt):_N(J,Dt.fieldPath,J.startAt);fe.push(Ii.value),Be&&(Be=Ii.inclusive)}return new co(fe,Be)}(l,u),D=function(J,oe){const fe=[];let Be=!0;for(const Dt of Yo(oe)){const Ii=0===Dt.kind?_N(J,Dt.fieldPath,J.endAt):yN(J,Dt.fieldPath,J.endAt);fe.push(Ii.value),Be&&(Be=Ii.inclusive)}return new co(fe,Be)}(l,u),x=this.Ze(u,l,_),P=this.Ze(u,l,D),H=this.tn(u,l,g),F=this.en(u.indexId,f,x,_.inclusive,P,D.inclusive,H);return V.forEach(F,J=>r.j(J,t.limit).next(oe=>{oe.forEach(fe=>{const Be=te.fromSegments(fe.documentKey);o.has(Be)||(o=o.add(Be),a.push(Be))})}))}).next(()=>a)}return V.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),l=u/(null!=t?t.length:1),d=[];for(let f=0;f<u;++f){const g=t?this.nn(t[f/l]):hg,_=this.sn(e,g,r[f%l],i),D=this.rn(e,g,s[f%l],o),x=a.map(P=>this.sn(e,g,P,!0));d.push(...this.createRange(_,D,x))}return d}sn(e,t,r,i){const s=new la(e,te.empty(),t,r);return i?s:s.Le()}rn(e,t,r,i){const s=new la(e,te.empty(),t,r);return i?s.Le():s}Xe(e,t){const r=new c9(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Ge(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;return V.forEach(this.Ye(t),i=>this.Xe(e,i).next(s=>{s?0!==r&&s.fields.length<function(o){let a=new ut($t.comparator),u=!1;for(const l of o.filters){const d=l;d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?u=!0:a=a.add(d.field))}for(const l of o.orderBy)l.field.isKeyField()||(a=a.add(l.field));return a.size+(u?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new Pd;for(const i of Yo(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Be(i.kind);ua.ye.re(s,o)}return r.Oe()}nn(e){const t=new Pd;return ua.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new Pd;return ua.ye.re(ta(this.databaseId,t),r.Be(function(i){const s=Yo(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new Pd);let s=0;for(const o of Yo(e)){const a=r[s++];for(const u of i)if(this.cn(t,o.fieldPath)&&_d(a))i=this.an(i,o,a);else{const l=u.Be(o.kind);ua.ye.re(a,l)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Pd;u.seed(a.Oe()),ua.ye.re(o,u.Be(t.kind)),s.push(u)}return s}cn(e,t){return!!e.filters.find(r=>r instanceof Rn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=fg(e),i=Fd(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(s=>{const o=[];return V.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(l,d){const f=d?new fd(d.sequenceNumber,new xr(oa(d.readTime),new te(Qi(d.documentKey)),d.largestBatchId)):fd.empty(),g=l.fields.map(([_,D])=>new Xp($t.fromServerFormat(_),D));return new Yp(l.indexId,l.collectionGroup,g,f)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Me(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=fg(e),s=Fd(e);return this.ln(e).next(o=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>V.forEach(a,u=>s.put(yP(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return V.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,u=>this.fn(e,i,u).next(l=>{const d=this.dn(s,u);return l.isEqual(d)?V.resolve():this._n(e,s,u,l,d)}))))})}wn(e,t,r,i){return Ld(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return Ld(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=Ld(e);let s=new ut(ca);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(o,a)=>{s=s.add(new la(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}dn(e,t){let r=new ut(ca);const i=this.on(t,e);if(null==i)return r;const s=uE(t);if(null!=s){const o=e.data.field(s.fieldPath);if(_d(o))for(const a of o.arrayValue.values||[])r=r.add(new la(t.indexId,e.key,this.nn(a),i))}else r=r.add(new la(t.indexId,e.key,hg,i));return r}_n(e,t,r,i,s){X("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(a,u,l,d,f){const g=a.getIterator(),_=u.getIterator();let D=ju(g),x=ju(_);for(;D||x;){let P=!1,H=!1;if(D&&x){const F=l(D,x);F<0?H=!0:F>0&&(P=!0)}else null!=D?H=!0:P=!0;P?(d(x),x=ju(_)):H?(f(D),D=ju(g)):(D=ju(g),x=ju(_))}}(i,s,ca,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.mn(e,t,r,a))}),V.waitFor(o)}ln(e){let t=1;return Fd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>ca(o,a)).filter((o,a,u)=>!a||0!==ca(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=ca(o,e),u=ca(o,t);if(0===a)i[0]=e.Le();else if(a>0&&u<0)i.push(o),i.push(o.Le());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,hg,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,hg,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DP)}getMinOffset(e,t){return V.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||de())).next(DP)}}function CP(n){return En(n,"collectionParents")}function Ld(n){return En(n,"indexEntries")}function fg(n){return En(n,"indexConfiguration")}function Fd(n){return En(n,"indexState")}function DP(n){be(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;lE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}const IP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TP(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(u.next(()=>{be(1===a)}));const l=[];for(const d of t.mutations){const f=cP(e,d.key.path,t.batchId);s.push(i.delete(f)),l.push(d.key)}return V.waitFor(s).next(()=>l)}function pg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw de();e=n.noDocument}return JSON.stringify(e).length}pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);class gg{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){be(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new gg(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return po(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Ju(e),o=po(e);return o.add({}).next(a=>{be("number"==typeof a);const u=new IE(a,t,r,i),l=function(g,_,D){const x=D.baseMutations.map(H=>Od(g.ne,H)),P=D.mutations.map(H=>Od(g.ne,H));return{userId:_,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:x,mutations:P}}(this.wt,this.userId,u),d=[];let f=new ut((g,_)=>Me(g.canonicalString(),_.canonicalString()));for(const g of i){const _=cP(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(l)),d.push(s.put(_,jQ))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.gn[a]=u.keys()}),V.waitFor(d).next(()=>u)})}lookupMutationBatch(e,t){return po(e).get(t).next(r=>r?(be(r.userId===this.userId),aa(this.wt,r)):null)}yn(e,t){return this.gn[t]?V.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return po(e).J({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(be(a.batchId>=r),s=aa(this.wt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return po(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return po(e).K("userMutationsIndex",t).next(r=>r.map(i=>aa(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=lg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Ju(e).J({range:i},(o,a,u)=>{const[l,d,f]=o,g=Qi(d);if(l===this.userId&&t.path.isEqual(g))return po(e).get(f).next(_=>{if(!_)throw de();be(_.userId===this.userId),s.push(aa(this.wt,_))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(Me);const i=[];return t.forEach(s=>{const o=lg(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Ju(e).J({range:a},(l,d,f)=>{const[g,_,D]=l,x=Qi(_);g===this.userId&&s.path.isEqual(x)?r=r.add(D):f.done()});i.push(u)}),V.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=lg(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ut(Me);return Ju(e).J({range:o},(u,l,d)=>{const[f,g,_]=u,D=Qi(g);f===this.userId&&r.isPrefixOf(D)?D.length===i&&(a=a.add(_)):d.done()}).next(()=>this.pn(e,a))}pn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(po(e).get(s).next(o=>{if(null===o)throw de();be(o.userId===this.userId),r.push(aa(this.wt,o))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TP(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return V.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ju(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Qi(s[1]);i.push(u)}else a.done()}).next(()=>{be(0===i.length)})})}containsKey(e,t){return SP(e,this.userId,t)}Tn(e){return AP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SP(n,e,t){const r=lg(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ju(n).J({range:s,H:!0},(a,u,l)=>{const[d,f,g]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function po(n){return En(n,"mutations")}function Ju(n){return En(n,"documentMutations")}function AP(n){return En(n,"mutationQueues")}class da{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new da(0)}static Rn(){return new da(-1)}}class f9{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new da(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>we.fromTimestamp(new Mt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zu(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(be(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Zu(e).J((o,a)=>{const u=Rd(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>V.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Zu(e).J((r,i)=>{const s=Rd(i);t(s)})}bn(e){return xP(e).get("targetGlobalKey").next(t=>(be(null!==t),t))}Pn(e,t){return xP(e).put("targetGlobalKey",t)}vn(e,t){return Zu(e).put(mP(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=na(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Zu(e).J({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const l=Rd(a);Ed(t,l.target)&&(s=l,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=go(e);return t.forEach(o=>{const a=ir(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(i)}removeMatchingKeys(e,t,r){const i=go(e);return V.forEach(t,s=>{const o=ir(s.path);return V.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=go(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=go(e);let s=Fe();return i.J({range:r,H:!0},(o,a,u)=>{const l=Qi(o[1]),d=new te(l);s=s.add(d)}).next(()=>s)}containsKey(e,t){const r=ir(t.path),i=IDBKeyRange.bound([r],[ZR(r)],!1,!0);let s=0;return go(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],u,l)=>{0!==o&&(s++,l.done())}).next(()=>s>0)}te(e,t){return Zu(e).get(t).next(r=>r?Rd(r):null)}}function Zu(n){return En(n,"targets")}function xP(n){return En(n,"targetGlobal")}function go(n){return En(n,"targetDocuments")}function MP([n,e],[t,r]){const i=Me(n,t);return 0===i?Me(e,r):i}class p9{constructor(e){this.Sn=e,this.buffer=new ut(MP),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g9{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,b(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){oo(r)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield so(r)}yield t.kn(3e5)}))}}class m9{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return V.resolve(hr.ot);const r=new p9(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(IP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IP):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,s,o,a,u,l;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),oE()<=Ze.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${f} documents in `+(l-u)+`ms\nTotal Duration: ${l-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}class v9{constructor(e,t){this.db=e,this.garbageCollector=new m9(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return mg(e,r)}removeReference(e,t,r){return mg(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return mg(e,t)}Un(e,t){return function(r,i){let s=!1;return AP(r).Y(o=>SP(r,o,i).next(a=>(a&&(s=!0),V.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Ln(e,(o,a)=>{if(a<=t){const u=this.Un(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,we.min()),go(e).delete([0,ir(o.path)])))});i.push(u)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return mg(e,t)}Ln(e,t){const r=go(e);let i,s=hr.ot;return r.J({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:l})=>{0===o?(s!==hr.ot&&t(new te(Qi(i)),s),s=l,i=u):s=hr.ot}).next(()=>{s!==hr.ot&&t(new te(Qi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mg(n,e){return go(n).put((r=n.currentSequenceNumber,{targetId:0,path:ir(e.path),sequenceNumber:r}));var r}class kP{constructor(){this.changes=new ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y9{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ha(e).put(r)}removeEntry(e,t,r){return ha(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],cg(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(t))},(i,s)=>{r=this.Kn(t,s)}).next(()=>r)}Gn(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vd(t))},(i,s)=>{r={document:this.Kn(t,s),size:pg(s)}}).next(()=>r)}getEntries(e,t){let r=fr();return this.Qn(e,t,(i,s)=>{const o=this.Kn(i,s);r=r.insert(i,o)}).next(()=>r)}jn(e,t){let r=fr(),i=new Bt(te.comparator);return this.Qn(e,t,(s,o)=>{const a=this.Kn(s,o);r=r.insert(s,a),i=i.insert(s,pg(o))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return V.resolve();let i=new ut(PP);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(Vd(i.first()),Vd(i.last())),o=i.getIterator();let a=o.getNext();return ha(e).J({index:"documentKeyIndex",range:s},(u,l,d)=>{const f=te.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&PP(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.q(Vd(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),cg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ha(e).K(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=fr();for(const u of o){const l=this.Kn(te.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(l.key,l)}return a})}getAllFromCollectionGroup(e,t,r,i){let s=fr();const o=NP(t,r),a=NP(t,xr.max());return ha(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,l,d)=>{const f=this.Kn(te.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new _9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RP(e).get("remoteDocumentGlobalKey").next(t=>(be(!!t),t))}qn(e,t){return RP(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function i9(n,e){let t;if(e.document)t=nP(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=oa(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de();{const r=te.fromSegments(e.unknownDocument.path),i=oa(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Mt(r[0],r[1]);return we.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(we.min()))return r}return vt.newInvalidDocument(e)}}function OP(n){return new y9(n)}class _9 extends kP{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new ho(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((s,o)=>Me(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=gP(this.zn.wt,o);i=i.add(s.path.popLast()),r+=pg(u)-a.size,t.push(this.zn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=gP(this.zn.wt,o.convertToNoDocument(we.min()));t.push(this.zn.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,r)),V.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((s,o)=>{this.Hn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function RP(n){return En(n,"remoteDocumentGlobal")}function ha(n){return En(n,"remoteDocumentsV14")}function Vd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NP(n,e){const t=e.documentKey.path.toArray();return[n,cg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function PP(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Me(t[s],r[s]),i)return i;return i=Me(t.length,r.length),i||(i=Me(t[t.length-2],r[r.length-2]),i||Me(t[t.length-1],r[r.length-1]))}class w9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Dd(r.mutation,i,Mr.empty(),Mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Id();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=fr();const o=Td(),a=Td();return t.forEach((u,l)=>{const d=r.get(l.key);i.has(l.key)&&(void 0===d||d.mutation instanceof Ts)?s=s.insert(l.key,l):void 0!==d&&(o.set(l.key,d.mutation.getFieldMask()),Dd(d.mutation,l,d.mutation.getFieldMask(),Mt.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,d)=>o.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new w9(d,null!==(f=o.get(l))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Td();let i=new Bt((o,a)=>o-a),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=t.get(u);if(null===l)return;let d=r.get(u)||Mr.empty();d=a.applyToLocalView(l,d),r.set(u,d);const f=(i.get(a.batchId)||Fe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,d=u.value,f=WN();d.forEach(g=>{if(!s.has(g)){const _=LN(t.get(g),r.get(g));null!==_&&f.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return te.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):V.resolve(zi());let a=-1,u=s;return o.next(l=>V.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?V.resolve():this.getBaseDocument(e,d,f).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Fe())).next(d=>({batchId:a,changes:qN(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let i=Id();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Id();return this.indexManager.getCollectionParents(e,i).next(o=>V.forEach(o,a=>{const u=(l=t,d=a.child(i),new Is(d,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,d;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const l=u.getKey();null===i.get(l)&&(i=i.insert(l,vt.newInvalidDocument(l)))});let o=Id();return i.forEach((a,u)=>{const l=s.get(a);void 0!==l&&Dd(l.mutation,u,Mr.empty(),Mt.now()),_E(t,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):V.resolve(vt.newInvalidDocument(t))}}class E9{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return V.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:wn(r.createTime)}),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:AE(r.bundledQuery),readTime:wn(r.readTime)}),V.resolve();var r}}class b9{constructor(){this.overlays=new Bt(te.comparator),this.Xn=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return V.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ie(e,t,s)}),V.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),s=t.length+1,o=new te(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Bt((l,d)=>l-d);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=s.get(l.largestBatchId);null===d&&(d=zi(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}const a=zi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return V.resolve(a)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SE(t,r));let s=this.Xn.get(t);void 0===s&&(s=Fe(),this.Xn.set(t,s)),this.Xn.set(t,s.add(r.key))}}class kE{constructor(){this.Zn=new ut(bn.ts),this.es=new ut(bn.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new bn(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new bn(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new te(new et([])),r=new bn(t,e),i=new bn(t,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new te(new et([])),r=new bn(t,e),i=new bn(t,e+1);let s=Fe();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new bn(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class bn{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return te.comparator(e.key,t.key)||Me(e.ls,t.ls)}static ns(e,t){return Me(e.ls,t.ls)||te.comparator(e.key,t.key)}}class C9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new ut(bn.ts)}checkEmpty(e){return V.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.fs;this.fs++;const o=new IE(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new bn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,t){return V.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bn(t,0),i=new bn(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(Me);return t.forEach(i=>{const s=new bn(i,0),o=new bn(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),V.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new bn(new te(s),0);let a=new ut(Me);return this.ds.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.ls)),!0)},o),V.resolve(this.gs(a))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){be(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return V.forEach(t.mutations,i=>{const s=new bn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new bn(t,0),i=this.ds.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return V.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class D9{constructor(e){this.ps=e,this.docs=new Bt(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=fr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),V.resolve(r)}getAllFromCollection(e,t,r){let i=fr();const s=new te(t.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!t.isPrefixOf(a.path))break;a.path.length>t.length+1||lE(tN(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,t,r,i){de()}Is(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new I9(this)}getSize(e){return V.resolve(this.size)}}class I9 extends kP{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class T9{constructor(e){this.persistence=e,this.Ts=new ho(t=>na(t),Ed),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Es=0,this.As=new kE,this.targetCount=0,this.Rs=da.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),V.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new da(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.vn(t),V.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),V.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.As.containsKey(t))}}class FP{constructor(e,t){this.bs={},this.overlays={},this.Ps=new hr(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new T9(this),this.indexManager=new d9,this.remoteDocumentCache=new D9(r=>this.referenceDelegate.Ss(r)),this.wt=new pP(t),this.Ds=new E9(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new C9(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);const i=new S9(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,t){return V.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class S9 extends rN{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.ks=new kE,this.Os=null}static Ms(e){return new vg(e)}get Fs(){if(this.Os)return this.Os;throw de()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),V.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Fs,r=>{const i=te.fromPath(r);return this.$s(e,i).next(s=>{s||t.removeEntry(i,we.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return V.or([()=>V.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class A9{constructor(e){this.wt=e}O(e,t,r,i){const s=new Jp("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lP,{unique:!0}),a.createObjectStore("documentMutations"),VP(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=V.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),VP(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",l)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(a,u){return u.store("mutations").K().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lP,{unique:!0});const d=u.store("mutations"),f=l.map(g=>d.put(g));return V.waitFor(f)})}(e,s))),o=o.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Bs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),r<7&&i>=7&&(o=o.next(()=>this.Us(s))),r<8&&i>=8&&(o=o.next(()=>this.qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ks(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(a){const u=a.createObjectStore("documentOverlays",{keyPath:ZQ});u.createIndex("collectionPathOverlayIndex",e9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",t9,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:HQ});u.createIndex("documentKeyIndex",$Q),u.createIndex("collectionGroupIndex",qQ)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Qs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:QQ}).createIndex("sequenceNumberIndex",YQ,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:XQ}).createIndex("documentKeyIndex",JQ,{unique:!1})}(e))),o}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=pg(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>V.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",o).next(a=>V.forEach(a,u=>{be(u.userId===s.userId);const l=aa(this.wt,u);return TP(e,s.userId,l).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const u=new et(o),l=[0,ir(u)];s.push(t.get(l).next(d=>d?V.resolve():t.put({targetId:0,path:ir(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>V.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:KQ});const r=t.store("collectionParents"),i=new ME,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:ir(u)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const u=new et(o);return s(u.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,u],l)=>{const d=Qi(a);return s(d.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const s=Rd(i),o=mP(this.wt,s);return t.put(o)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(l=o,l.document?new te(et.fromString(l.document.name).popFirst(5)):l.noDocument?te.fromSegments(l.noDocument.path):l.unknownDocument?te.fromSegments(l.unknownDocument.path):de()).path.toArray();var l;const d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(d))}).next(()=>V.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=OP(this.wt),s=new FP(vg.Ms,this.wt.ne);return r.K().next(o=>{const a=new Map;return o.forEach(u=>{var l;let d=null!==(l=a.get(u.userId))&&void 0!==l?l:Fe();aa(this.wt,u).keys().forEach(f=>d=d.add(f)),a.set(u.userId,d)}),V.forEach(a,(u,l)=>{const d=new yn(l),f=dg.se(this.wt,d),g=s.getIndexManager(d),_=gg.se(d,this.wt,g,s.referenceDelegate);return new LP(i,_,f,g).recalculateAndSaveOverlaysForDocumentKeys(new DE(t,hr.ot),u).next()})})}}function VP(n){n.createObjectStore("targetDocuments",{keyPath:GQ}).createIndex("documentTargetsIndex",zQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",WQ,{unique:!0}),n.createObjectStore("targetGlobal")}const OE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RE{constructor(e,t,r,i,s,o,a,u,l,d,f=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=s,this.window=o,this.document=a,this.Ws=l,this.zs=d,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=g=>Promise.resolve(),!RE.V())throw new G(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v9(this,i),this.ei=t+"main",this.wt=new pP(u),this.ni=new Ci(this.ei,this.Hs,new A9(this.wt)),this.Vs=new f9(this.referenceDelegate,this.wt),this.remoteDocumentCache=OP(this.wt),this.Ds=new s9,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===d&&Xt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new G(U.FAILED_PRECONDITION,OE);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new hr(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=b(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=b(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(b(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(oo(e))return X("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Bd(e).get("owner").next(t=>V.resolve(this.di(t)))}_i(e){return yg(e).delete(this.clientId)}wi(){var e=this;return b(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=En(r,"clientMetadata");return i.K().next(s=>{const o=e.gi(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return V.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?V.resolve(!0):Bd(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new G(U.FAILED_PRECONDITION,OE);return!1}}return!(!this.networkEnabled||!this.inForeground)||yg(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||o&&a)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&X("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return b(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new DE(t,hr.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>yg(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return gg.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h9(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return dg.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){X("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(o=this.Hs)?r9:14===o?fP:13===o?hP:12===o?n9:11===o?dP:void de();var o;let a;return this.ni.runTransaction(e,i,s,u=>(a=new DE(u,this.Ps?this.Ps.next():hr.ot),"readwrite-primary"===t?this.ai(a).next(l=>!!l||this.hi(a)).next(l=>{if(!l)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new G(U.FAILED_PRECONDITION,nN);return r(a)}).next(l=>this.fi(a).next(()=>l)):this.bi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}bi(e){return Bd(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new G(U.FAILED_PRECONDITION,OE)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bd(e).put("owner",t)}static V(){return Ci.V()}li(e){const t=Bd(e);return t.get("owner").next(r=>this.di(r)?(X("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):V.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Xt(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),function e6(){return!Y_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return X("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Bd(n){return En(n,"owner")}function yg(n){return En(n,"clientMetadata")}function NE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class PE{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Fe(),i=Fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PE(e,t.fromCache,r,i)}}class BP{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(s=>s||this.xi(e,t,i,r)).next(s=>s||this.Ni(e,t))}Ci(e,t){return V.resolve(null)}xi(e,t,r,i){return function fQ(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(we.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(t,s);return this.Oi(t,o,r,i)?this.Ni(e,t):(oE()<=Ze.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yE(t)),this.Mi(e,o,t,eN(i,-1)))})}ki(e,t){let r=new ut(SN(e));return t.forEach((i,s)=>{_E(e,s)&&(r=r.add(s))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,t){return oE()<=Ze.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",yE(t)),this.Di.getDocumentsMatchingQuery(e,t,xr.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class x9{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Bt(Me),this.Bi=new ho(s=>na(s),Ed),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LP(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function UP(n,e,t,r){return new x9(n,e,t,r)}function jP(n,e){return LE.apply(this,arguments)}function LE(){return LE=b(function*(n,e){const t=ne(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Fe();for(const l of i){o.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}for(const l of s){a.push(l.batchId);for(const d of l.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ki:l,removedBatchIds:o,addedBatchIds:a}))})})}),LE.apply(this,arguments)}function M9(n,e){const t=ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const d=u.batch,f=d.keys();let g=V.resolve();return f.forEach(_=>{g=g.next(()=>l.getEntry(a,_)).next(D=>{const x=u.docVersions.get(_);be(null!==x),D.version.compareTo(x)<0&&(d.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),l.addEntry(D)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Fe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function HP(n){const e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function k9(n,e){const t=ne(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(t.Vs.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Vs.addMatchingKeys(s,d.addedDocuments,f)));let _=g.withSequenceNumber(s.currentSequenceNumber);var D,x,P;e.targetMismatches.has(f)?_=_.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),x=_,P=d,(0===(D=g).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(t.Vs.updateTargetData(s,_))});let u=fr(),l=Fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push($P(s,o,e.documentUpdates).next(d=>{u=d.Gi,l=d.Qi})),!r.isEqual(we.min())){const d=t.Vs.getLastRemoteSnapshotVersion(s).next(f=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.$i=i,s))}function $P(n,e,t){let r=Fe(),i=Fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=fr();return t.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(we.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}function O9(n,e){const t=ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function el(n,e){const t=ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):t.Vs.allocateTargetId(r).next(o=>(i=new fo(e,o,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function tl(n,e,t){return FE.apply(this,arguments)}function FE(){return FE=b(function*(n,e,t){const r=ne(n),i=r.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!oo(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),FE.apply(this,arguments)}function _g(n,e,t){const r=ne(n);let i=we.min(),s=Fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const d=ne(a),f=d.Bi.get(l);return void 0!==f?V.resolve(d.$i.get(f)):d.Vs.getTargetData(u,l)}(r,o,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,t?i:we.min(),t?s:Fe())).next(a=>(GP(r,TN(e),a),{documents:a,ji:s})))}function qP(n,e){const t=ne(n),r=ne(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.te(s,e).next(o=>o?o.target:null))}function WP(n,e){const t=ne(n),r=t.Li.get(e)||we.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,eN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(GP(t,e,i),i))}function GP(n,e,t){let r=we.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Li.set(e,r)}function VE(){return VE=b(function*(n,e,t,r){const i=ne(n);let s=Fe(),o=fr();for(const l of t){const d=e.Wi(l.metadata.name);l.document&&(s=s.add(d));const f=e.zi(l);f.setReadTime(e.Hi(l.metadata.readTime)),o=o.insert(d,f)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),u=yield el(i,(l=r,Yr(qu(et.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",l=>$P(l,a,o).next(d=>(a.apply(l),d)).next(d=>i.Vs.removeMatchingKeysForTargetId(l,u.targetId).next(()=>i.Vs.addMatchingKeys(l,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(l,d.Gi,d.Qi)).next(()=>d.Gi)))}),VE.apply(this,arguments)}function N9(n,e){return BE.apply(this,arguments)}function BE(){return BE=b(function*(n,e,t=Fe()){const r=yield el(n,Yr(AE(e.bundledQuery))),i=ne(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=wn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ds.saveNamedQuery(s,e);const a=r.withResumeToken(un.EMPTY_BYTE_STRING,o);return i.$i=i.$i.insert(a.targetId,a),i.Vs.updateTargetData(s,a).next(()=>i.Vs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Vs.addMatchingKeys(s,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(s,e))})}),BE.apply(this,arguments)}function zP(n,e){return`firestore_clients_${n}_${e}`}function KP(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function UE(n,e){return`firestore_targets_${n}_${e}`}class wg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new G(i.error.code,i.error.message))),o?new wg(e,t,i.state,s):(Xt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new G(r.error.code,r.error.message))),s?new Ud(e,r.state,i):(Xt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ag();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=lN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Eg(e,s):(Xt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jE(t.clientId,t.onlineState):(Xt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class HE{constructor(){this.activeTargetIds=ag()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $E{constructor(e,t,r,i,s){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Bt(Me),this.started=!1,this.ir=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=zP(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new HE),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return b(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const s=e.getItem(zP(e.persistenceKey,i));if(s){const o=Eg.Ji(i,s);o&&(e.sr=e.sr.insert(o.clientId,o))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(UE(this.persistenceKey,e));if(r){const i=Ud.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return X("SharedClientState","READ",e,t),t}setItem(e,t){X("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(X("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(b(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(s){let o=hr.ot;if(null!=s)try{const a=JSON.parse(s);be("number"==typeof a),o=a}catch(a){Xt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(r.newValue);i!==hr.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new wg(this.currentUser,e,t,r),s=KP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Yi())}pr(e){const t=KP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=UE(this.persistenceKey,e),s=new Ud(e,t,r);this.setItem(i,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Eg.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return wg.Ji(new yn(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Ud.Ji(i,t)}wr(e){return jE.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return b(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);X("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),s=this.gr(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Mr(o,a).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=ag();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class QP{constructor(){this.Fr=new HE,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new HE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class P9{Br(e){}shutdown(){}}class YP{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const L9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class F9{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class V9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,s){const o=this.oo(e,t);X("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(X("RestConnection","Received: ",u),u),u=>{throw dd("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,t,r,i,s,o){return this.ro(e,t,r,i,s)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,t){return`${this.so}/v1/${t}:${L9[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((s,o)=>{const a=new F7;a.listenOnce(N7.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case sE.NO_ERROR:const l=a.getResponseJson();X("Connection","XHR received:",JSON.stringify(l)),s(l);break;case sE.TIMEOUT:X("Connection",'RPC "'+e+'" timed out'),o(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case sE.HTTP_ERROR:const d=a.getStatus();if(X("Connection",'RPC "'+e+'" failed with status:',d,"response text:",a.getResponseText()),d>0){const f=a.getResponseJson().error;if(f&&f.status&&f.message){const g=function(_){const D=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(D)>=0?D:U.UNKNOWN}(f.status);o(new G(g,f.message))}else o(new G(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new G(U.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{X("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(t,"POST",u,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O7(),o=R7(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new L7({})),this.uo(a.initMessageHeaders,t,r),a1()||wp()||function J5(){return bt().indexOf("Electron/")>=0}()||J_()||function Z5(){return bt().indexOf("MSAppHost/")>=0}()||X_()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");X("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let d=!1,f=!1;const g=new F9({jr:D=>{f?X("Connection","Not sending because WebChannel is closed:",D):(d||(X("Connection","Opening WebChannel transport."),l.open(),d=!0),X("Connection","WebChannel sending:",D),l.send(D))},Wr:()=>l.close()}),_=(D,x,P)=>{D.listen(x,H=>{try{P(H)}catch(F){setTimeout(()=>{throw F},0)}})};return _(l,Qp.EventType.OPEN,()=>{f||X("Connection","WebChannel transport opened.")}),_(l,Qp.EventType.CLOSE,()=>{f||(f=!0,X("Connection","WebChannel transport closed"),g.eo())}),_(l,Qp.EventType.ERROR,D=>{f||(f=!0,dd("Connection","WebChannel transport errored:",D),g.eo(new G(U.UNAVAILABLE,"The operation could not be completed")))}),_(l,Qp.EventType.MESSAGE,D=>{var x;if(!f){const P=D.data[0];be(!!P);const H=P,F=H.error||(null===(x=H[0])||void 0===x?void 0:x.error);if(F){X("Connection","WebChannel received error:",F);const J=F.status;let oe=function(Be){const Dt=Jt[Be];if(void 0!==Dt)return HN(Dt)}(J),fe=F.message;void 0===oe&&(oe=U.INTERNAL,fe="Unknown error status: "+J+" with message "+F.message),f=!0,g.eo(new G(oe,fe)),l.close()}else X("Connection","WebChannel received:",P),g.no(P)}}),_(o,P7.STAT_EVENT,D=>{D.stat===KR.PROXY?X("Connection","Detected buffering proxy"):D.stat===KR.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(()=>{g.Zr()},0),g}}function XP(){return"undefined"!=typeof window?window:null}function bg(){return"undefined"!=typeof document?document:null}function jd(n){return new xQ(n,!0)}class qE{constructor(e,t,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class JP{constructor(e,t,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new qE(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return b(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return b(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return b(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Xt(t.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===U.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(b(function*(){e.state=0,e.start()}))}qo(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B9 extends JP{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function OQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:de(),i=e.targetChange.targetIds||[],s=function(u,l){return u.dt?(be(void 0===l||"string"==typeof l),un.fromBase64String(l||"")):(be(void 0===l||l instanceof Uint8Array),un.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?U.UNKNOWN:HN(u.code);return new G(l,u.message||"")}(o);t=new zN(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ki(n,r.document.name),s=wn(r.document.updateTime),o=new On({mapValue:{fields:r.document.fields}}),a=vt.newFoundDocument(i,s,o);t=new ug(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ki(n,r.document),s=r.readTime?wn(r.readTime):we.min(),o=vt.newNoDocument(i,s);t=new ug([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ki(n,r.document);t=new ug([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return de();{const r=e.filter,s=new EQ(r.count||0);t=new GN(r.targetId,s)}}var u;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return we.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?wn(s.readTime):we.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=kd(this.wt),t.addTarget=function(i,s){let o;const a=s.target;return o=ng(a)?{documents:rP(i,a)}:{query:iP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=XN(i,s.resumeToken):s.snapshotVersion.compareTo(we.min())>0&&(o.readTime=xd(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function NQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return de()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=kd(this.wt),t.removeTarget=e,this.Mo(t)}}class U9 extends JP{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function RQ(n,e){return n&&n.length>0?(be(void 0!==e),n.map(t=>function(r,i){let s=wn(r.updateTime?r.updateTime:i);return s.isEqual(we.min())&&(s=wn(i)),new yQ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.Jo(r,t)}return be(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=kd(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Od(this.wt,r))};this.Mo(t)}}class j9 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(U.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class H9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Xt(t),this.su=!1):X("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class $9{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(b(function*(){var u;mo(o)&&(X("RemoteStore","Restarting streams for network reachability change."),yield(u=b(function*(l){const d=ne(l);d.lu.add(4),yield nl(d),d._u.set("Unknown"),d.lu.delete(4),yield Hd(d)}),function(l){return u.apply(this,arguments)})(o))}))}),this._u=new H9(r,i)}}function Hd(n){return WE.apply(this,arguments)}function WE(){return WE=b(function*(n){if(mo(n))for(const e of n.fu)yield e(!0)}),WE.apply(this,arguments)}function nl(n){return GE.apply(this,arguments)}function GE(){return GE=b(function*(n){for(const e of n.fu)yield e(!1)}),GE.apply(this,arguments)}function Cg(n,e){const t=ne(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),QE(t)?KE(t):il(t).Co()&&zE(t,e))}function $d(n,e){const t=ne(n),r=il(t);t.hu.delete(e),r.Co()&&ZP(t,e),0===t.hu.size&&(r.Co()?r.ko():mo(t)&&t._u.set("Unknown"))}function zE(n,e){n.wu.Nt(e.targetId),il(n).Qo(e)}function ZP(n,e){n.wu.Nt(e),il(n).jo(e)}function KE(n){n.wu=new TQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),il(n).start(),n._u.iu()}function QE(n){return mo(n)&&!il(n).Do()&&n.hu.size>0}function mo(n){return 0===ne(n).lu.size}function eL(n){n.wu=void 0}function q9(n){return YE.apply(this,arguments)}function YE(){return YE=b(function*(n){n.hu.forEach((e,t)=>{zE(n,e)})}),YE.apply(this,arguments)}function W9(n,e){return XE.apply(this,arguments)}function XE(){return XE=b(function*(n,e){eL(n),QE(n)?(n._u.uu(e),KE(n)):n._u.set("Unknown")}),XE.apply(this,arguments)}function G9(n,e,t){return JE.apply(this,arguments)}function JE(){return JE=b(function*(n,e,t){if(n._u.set("Online"),e instanceof zN&&2===e.state&&e.cause)try{yield(r=b(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Dg(n,r)}else if(e instanceof ug?n.wu.Ut(e):e instanceof GN?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(we.min()))try{const r=yield HP(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.hu.get(u);l&&i.hu.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),ZP(i,a);const l=new fo(u.target,a,1,u.sequenceNumber);zE(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){X("RemoteStore","Failed to raise snapshot:",r),yield Dg(n,r)}var r}),JE.apply(this,arguments)}function Dg(n,e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=b(function*(n,e,t){if(!oo(e))throw e;n.lu.add(1),yield nl(n),n._u.set("Offline"),t||(t=()=>HP(n.localStore)),n.asyncQueue.enqueueRetryable(b(function*(){X("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Hd(n)}))}),ZE.apply(this,arguments)}function tL(n,e){return e().catch(t=>Dg(n,t,e))}function rl(n){return eb.apply(this,arguments)}function eb(){return eb=b(function*(n){const e=ne(n),t=vo(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;z9(e);)try{const i=yield O9(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,K9(e,i)}catch(i){yield Dg(e,i)}nL(e)&&rL(e)}),eb.apply(this,arguments)}function z9(n){return mo(n)&&n.au.length<10}function K9(n,e){n.au.push(e);const t=vo(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function nL(n){return mo(n)&&!vo(n).Do()&&n.au.length>0}function rL(n){vo(n).start()}function Q9(n){return tb.apply(this,arguments)}function tb(){return tb=b(function*(n){vo(n).Xo()}),tb.apply(this,arguments)}function Y9(n){return nb.apply(this,arguments)}function nb(){return nb=b(function*(n){const e=vo(n);for(const t of n.au)e.Ho(t.mutations)}),nb.apply(this,arguments)}function X9(n,e,t){return rb.apply(this,arguments)}function rb(){return rb=b(function*(n,e,t){const r=n.au.shift(),i=TE.from(r,e,t);yield tL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield rl(n)}),rb.apply(this,arguments)}function J9(n,e){return ib.apply(this,arguments)}function ib(){return ib=b(function*(n,e){var t;e&&vo(n).zo&&(yield(t=b(function*(r,i){if(jN(s=i.code)&&s!==U.ABORTED){const o=r.au.shift();vo(r).No(),yield tL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield rl(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),nL(n)&&rL(n)}),ib.apply(this,arguments)}function iL(n,e){return sb.apply(this,arguments)}function sb(){return sb=b(function*(n,e){const t=ne(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=mo(t);t.lu.add(3),yield nl(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Hd(t)}),sb.apply(this,arguments)}function ob(n,e){return ab.apply(this,arguments)}function ab(){return ab=b(function*(n,e){const t=ne(n);e?(t.lu.delete(2),yield Hd(t)):e||(t.lu.add(2),yield nl(t),t._u.set("Unknown"))}),ab.apply(this,arguments)}function il(n){return n.mu||(n.mu=function(e,t,r){const i=ne(e);return i.tu(),new B9(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:q9.bind(null,n),Jr:W9.bind(null,n),Go:G9.bind(null,n)}),n.fu.push(function(){var e=b(function*(t){t?(n.mu.No(),QE(n)?KE(n):n._u.set("Unknown")):(yield n.mu.stop(),eL(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function vo(n){return n.gu||(n.gu=function(e,t,r){const i=ne(e);return i.tu(),new U9(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:Q9.bind(null,n),Jr:J9.bind(null,n),Yo:Y9.bind(null,n),Jo:X9.bind(null,n)}),n.fu.push(function(){var e=b(function*(t){t?(n.gu.No(),yield rl(n)):(yield n.gu.stop(),n.au.length>0&&(X("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class ub{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new ub(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sl(n,e){if(Xt("AsyncQueue",`${e}: ${n}`),oo(n))return new G(U.UNAVAILABLE,`${e}: ${n}`);throw n}class ol{constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=Id(),this.sortedSet=new Bt(this.comparator)}static emptySet(e){return new ol(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sL{constructor(){this.yu=new Bt(te.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):de():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class al{constructor(e,t,r,i,s,o,a,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,t,r,i){const s=[];return t.forEach(o=>{s.push({type:0,doc:o})}),new al(e,t,ol.emptySet(t),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Z9{constructor(){this.Iu=void 0,this.listeners=[]}}class eY{constructor(){this.queries=new ho(e=>IN(e),bd),this.onlineState="Unknown",this.Tu=new Set}}function lb(n,e){return cb.apply(this,arguments)}function cb(){return cb=b(function*(n,e){const t=ne(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Z9),i)try{s.Iu=yield t.onListen(r)}catch(o){const a=sl(o,`Initialization of query '${yE(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&fb(t)}),cb.apply(this,arguments)}function db(n,e){return hb.apply(this,arguments)}function hb(){return hb=b(function*(n,e){const t=ne(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),hb.apply(this,arguments)}function tY(n,e){const t=ne(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&fb(t)}function nY(n,e,t){const r=ne(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function fb(n){n.Tu.forEach(e=>{e.next()})}class pb{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class rY{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class oL{constructor(e){this.wt=e}Wi(e){return Ki(this.wt,e)}zi(e){return e.metadata.exists?nP(this.wt,e.document,!1):vt.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return wn(e)}}class iY{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aL(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=et.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new oL(this.wt);for(const i of e)if(i.metadata.queries){const s=r.Wi(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Fe()).add(s);t.set(o,a)}}return t}complete(){var e=this;return b(function*(){const t=yield function R9(n,e,t,r){return VE.apply(this,arguments)}(e.localStore,new oL(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield N9(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function aL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uL{constructor(e){this.key=e}}class lL{constructor(e){this.key=e}}class cL{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Fe(),this.mutatedKeys=Fe(),this.Lu=SN(e),this.Uu=new ol(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new sL,i=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),_=_E(this.query,f)?f:null,D=!!g&&this.mutatedKeys.has(g.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let P=!1;g&&_?g.data.isEqual(_.data)?D!==x&&(r.track({type:3,doc:_}),P=!0):this.Qu(g,_)||(r.track({type:2,doc:_}),P=!0,(u&&this.Lu(_,u)>0||l&&this.Lu(_,l)<0)&&(a=!0)):!g&&_?(r.track({type:0,doc:_}),P=!0):g&&!_&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(_?(o=o.add(_),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((l,d)=>function(f,g){const _=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return _(f)-_(g)}(l.type,d.type)||this.Lu(l.doc,d.doc)),this.ju(r);const o=t?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new al(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new sL,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Fe(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new lL(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new uL(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Fe();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return al.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class sY{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oY{constructor(e){this.key=e,this.Xu=!1}}class aY{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ho(a=>IN(a),bd),this.ec=new Map,this.nc=new Set,this.sc=new Bt(te.comparator),this.ic=new Map,this.rc=new kE,this.oc={},this.uc=new Map,this.cc=da.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function uY(n,e){return gb.apply(this,arguments)}function gb(){return gb=b(function*(n,e){const t=Vb(n);let r,i;const s=t.tc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield el(t.localStore,Yr(e));t.isPrimaryClient&&Cg(t.remoteStore,o);const a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield mb(t,e,r,"current"===a)}return i}),gb.apply(this,arguments)}function mb(n,e,t,r){return vb.apply(this,arguments)}function vb(){return vb=b(function*(n,e,t,r){n.hc=(d,f,g)=>{return(_=b(function*(D,x,P,H){let F=x.view.Ku(P);F.Oi&&(F=yield _g(D.localStore,x.query,!1).then(({documents:fe})=>x.view.Ku(fe,F)));const J=H&&H.targetChanges.get(x.targetId),oe=x.view.applyChanges(F,D.isPrimaryClient,J);return Sb(D,x.targetId,oe.zu),oe.snapshot}),function(D,x,P,H){return _.apply(this,arguments)})(n,d,f,g);var _};const i=yield _g(n.localStore,e,!0),s=new cL(e,i.ji),o=s.Ku(i.documents),a=Ad.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),u=s.applyChanges(o,n.isPrimaryClient,a);Sb(n,t,u.zu);const l=new sY(e,t,s);return n.tc.set(e,l),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),u.snapshot}),vb.apply(this,arguments)}function lY(n,e){return yb.apply(this,arguments)}function yb(){return yb=b(function*(n,e){const t=ne(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(s=>!bd(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$d(t.remoteStore,r.targetId),ul(t,r.targetId)}).catch(so))):(ul(t,r.targetId),yield tl(t.localStore,r.targetId,!0))}),yb.apply(this,arguments)}function _b(){return _b=b(function*(n,e,t){const r=Bb(n);try{const i=yield function(s,o){const a=ne(s),u=Mt.now(),l=o.reduce((g,_)=>g.add(_.key),Fe());let d,f;return a.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=fr(),D=Fe();return a.Ui.getEntries(g,l).next(x=>{_=x,_.forEach((P,H)=>{H.isValidDocument()||(D=D.add(P))})}).next(()=>a.localDocuments.getOverlayedDocuments(g,_)).next(x=>{d=x;const P=[];for(const H of o){const F=wQ(H,d.get(H.key).overlayedDocument);null!=F&&P.push(new Ts(H.key,F,mN(F.value.mapValue),Nt.exists(!0)))}return a.mutationQueue.addMutationBatch(g,u,P,o)}).next(x=>{f=x;const P=x.applyToLocalDocumentSet(d,D);return a.documentOverlayCache.saveOverlays(g,x.batchId,P)})}).then(()=>({batchId:f.batchId,changes:qN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new Bt(Me)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,t),yield Ss(r,i.changes),yield rl(r.remoteStore)}catch(i){const s=sl(i,"Failed to persist write");t.reject(s)}}),_b.apply(this,arguments)}function dL(n,e){return wb.apply(this,arguments)}function wb(){return wb=b(function*(n,e){const t=ne(n);try{const r=yield k9(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ic.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?be(o.Xu):i.removedDocuments.size>0&&(be(o.Xu),o.Xu=!1))}),yield Ss(t,r,e)}catch(r){yield so(r)}}),wb.apply(this,arguments)}function hL(n,e,t){const r=ne(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ne(s);a.onlineState=o;let u=!1;a.queries.forEach((l,d)=>{for(const f of d.listeners)f.Eu(o)&&(u=!0)}),u&&fb(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dY(n,e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=b(function*(n,e,t){const r=ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new Bt(te.comparator);o=o.insert(s,vt.newNoDocument(s,we.min()));const a=Fe().add(s),u=new Sd(we.min(),new Map,new ut(Me),o,a);yield dL(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),Ab(r)}else yield tl(r.localStore,e,!1).then(()=>ul(r,e,t)).catch(so)}),Eb.apply(this,arguments)}function hY(n,e){return bb.apply(this,arguments)}function bb(){return bb=b(function*(n,e){const t=ne(n),r=e.batch.batchId;try{const i=yield M9(t.localStore,e);Tb(t,r,null),Ib(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ss(t,i)}catch(i){yield so(i)}}),bb.apply(this,arguments)}function fY(n,e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=b(function*(n,e,t){const r=ne(n);try{const i=yield function(s,o){const a=ne(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(d=>(be(null!==d),l=d.keys(),a.mutationQueue.removeMutationBatch(u,d))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);Tb(r,e,t),Ib(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ss(r,i)}catch(i){yield so(i)}}),Cb.apply(this,arguments)}function Db(){return Db=b(function*(n,e){const t=ne(n);mo(t.remoteStore)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const o=ne(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=sl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Db.apply(this,arguments)}function Ib(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Tb(n,e,t){const r=ne(n);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function ul(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||fL(n,r)})}function fL(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&($d(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Ab(n))}function Sb(n,e,t){for(const r of t)r instanceof uL?(n.rc.addReference(r.key,e),gY(n,r)):r instanceof lL?(X("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||fL(n,r.key)):de()}function gY(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(X("SyncEngine","New document in limbo: "+t),n.nc.add(r),Ab(n))}function Ab(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new te(et.fromString(e)),r=n.cc.next();n.ic.set(r,new oY(t)),n.sc=n.sc.insert(t,r),Cg(n.remoteStore,new fo(Yr(qu(t.path)),r,2,hr.ot))}}function Ss(n,e,t){return xb.apply(this,arguments)}function xb(){return xb=b(function*(n,e,t){const r=ne(n),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,t).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const d=PE.Vi(u.targetId,l);s.push(d)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=b(function*(u,l){const d=ne(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(l,g=>V.forEach(g.Pi,_=>d.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>V.forEach(g.vi,_=>d.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!oo(f))throw f;X("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const g=f.targetId;if(!f.fromCache){const _=d.$i.get(g),x=_.withLastLimboFreeSnapshotVersion(_.snapshotVersion);d.$i=d.$i.insert(g,x)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),xb.apply(this,arguments)}function mY(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=b(function*(n,e){const t=ne(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=yield jP(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(o=>{o.forEach(a=>{a.reject(new G(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ss(t,r.Ki)}var i}),Mb.apply(this,arguments)}function vY(n,e){const t=ne(n),r=t.ic.get(e);if(r&&r.Xu)return Fe().add(r.key);{let i=Fe();const s=t.ec.get(e);if(!s)return i;for(const o of s){const a=t.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function yY(n,e){return kb.apply(this,arguments)}function kb(){return kb=b(function*(n,e){const t=ne(n),r=yield _g(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&Sb(t,e.targetId,i.zu),i}),kb.apply(this,arguments)}function _Y(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=b(function*(n,e){const t=ne(n);return WP(t.localStore,e).then(r=>Ss(t,r))}),Ob.apply(this,arguments)}function wY(n,e,t,r){return Rb.apply(this,arguments)}function Rb(){return Rb=b(function*(n,e,t,r){const i=ne(n),s=yield function(o,a){const u=ne(o),l=ne(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>l.yn(d,a).next(f=>f?u.localDocuments.getDocuments(d,f):V.resolve(null)))}(i.localStore,e);var a;null!==s?("pending"===t?yield rl(i.remoteStore):"acknowledged"===t||"rejected"===t?(Tb(i,e,r||null),Ib(i,e),a=e,ne(ne(i.localStore).mutationQueue).In(a)):de(),yield Ss(i,s)):X("SyncEngine","Cannot apply mutation batch with id: "+e)}),Rb.apply(this,arguments)}function Nb(){return Nb=b(function*(n,e){const t=ne(n);if(Vb(t),Bb(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield pL(t,r.toArray());t.ac=!0,yield ob(t.remoteStore,!0);for(const s of i)Cg(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ul(t,o),tl(t.localStore,o,!0))),$d(t.remoteStore,o)}),yield i,yield pL(t,r),function(s){const o=ne(s);o.ic.forEach((a,u)=>{$d(o.remoteStore,u)}),o.rc.cs(),o.ic=new Map,o.sc=new Bt(te.comparator)}(t),t.ac=!1,yield ob(t.remoteStore,!1)}}),Nb.apply(this,arguments)}function pL(n,e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=b(function*(n,e,t){const r=ne(n),i=[],s=[];for(const o of e){let a;const u=r.ec.get(o);if(u&&0!==u.length){a=yield el(r.localStore,Yr(u[0]));for(const l of u){const d=r.tc.get(l),f=yield yY(r,d);f.snapshot&&s.push(f.snapshot)}}else{const l=yield qP(r.localStore,o);a=yield el(r.localStore,l),yield mb(r,gL(l),o,!1)}i.push(a)}return r.Zu.Go(s),i}),Pb.apply(this,arguments)}function gL(n){return CN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bY(n){const e=ne(n);return ne(ne(e.localStore).persistence).Ri()}function CY(n,e,t,r){return Lb.apply(this,arguments)}function Lb(){return Lb=b(function*(n,e,t,r){const i=ne(n);if(i.ac)return void X("SyncEngine","Ignoring unexpected query state notification.");const s=i.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield WP(i.localStore,TN(s[0])),a=Sd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ss(i,o,a);break}case"rejected":yield tl(i.localStore,e,!0),ul(i,e,r);break;default:de()}}),Lb.apply(this,arguments)}function DY(n,e,t){return Fb.apply(this,arguments)}function Fb(){return Fb=b(function*(n,e,t){const r=Vb(n);if(r.ac){for(const i of e){if(r.ec.has(i)){X("SyncEngine","Adding an already active target "+i);continue}const s=yield qP(r.localStore,i),o=yield el(r.localStore,s);yield mb(r,gL(s),o.targetId,!1),Cg(r.remoteStore,o)}for(const i of t)r.ec.has(i)&&(yield tl(r.localStore,i,!1).then(()=>{$d(r.remoteStore,i),ul(r,i)}).catch(so))}}),Fb.apply(this,arguments)}function Vb(n){const e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dY.bind(null,e),e.Zu.Go=tY.bind(null,e.eventManager),e.Zu.lc=nY.bind(null,e.eventManager),e}function Bb(n){const e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fY.bind(null,e),e}class mL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return b(function*(){t.wt=jd(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return UP(this.persistence,new BP,e.initialUser,this.wt)}_c(e){return new FP(vg.Ms,this.wt)}dc(e){return new QP}terminate(){var e=this;return b(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vL extends mL{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return b(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield Bb(r.yc.syncEngine),yield rl(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return UP(this.persistence,new BP,e.initialUser,this.wt)}mc(e,t){return new g9(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new X7(t,this.persistence);return new Y7(e.asyncQueue,r)}_c(e){const t=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new RE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,XP(),bg(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new QP}}class TY extends vL{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return b(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof $E&&(r.sharedClientState.syncEngine={kr:wY.bind(null,i),Or:CY.bind(null,i),Mr:DY.bind(null,i),Ri:bY.bind(null,i),Nr:_Y.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var s=b(function*(o){yield function EY(n,e){return Nb.apply(this,arguments)}(r.yc.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}dc(e){const t=XP();if(!$E.V(t))throw new G(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $E(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ub{initialize(e,t){var r=this;return b(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>hL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mY.bind(null,r.syncEngine),yield ob(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eY}createDatastore(e){const t=jd(e.databaseInfo.databaseId),r=new V9(e.databaseInfo);return new j9(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>hL(this.syncEngine,a,0),o=YP.V()?new YP:new P9,new $9(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,u,l){const d=new aY(r,i,s,o,a,u);return l&&(d.ac=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=b(function*(t){const r=ne(t);X("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield nl(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function yL(n,e=10240){let t=0;return{read:()=>b(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>b(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SY{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new _n,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return b(function*(){return e.metadata.promise})()}fc(){var e=this;return b(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return b(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const s=yield e.vc(i);return new rY(JSON.parse(s),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return b(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return b(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return b(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return b(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new G(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=b(function*(s,o){const a=ne(s),u=kd(a.wt)+"/documents",l={documents:o.map(_=>Md(a.wt,_))},d=yield a.ao("BatchGetDocuments",u,l,o.length),f=new Map;d.forEach(_=>{const D=function kQ(n,e){return"found"in e?function(t,r){be(!!r.found);const i=Ki(t,r.found.name),s=wn(r.found.updateTime),o=new On({mapValue:{fields:r.found.fields}});return vt.newFoundDocument(i,s,o)}(n,e):"missing"in e?function(t,r){be(!!r.missing),be(!!r.readTime);const i=Ki(t,r.missing),s=wn(r.readTime);return vt.newNoDocument(i,s)}(n,e):de()}(a.wt,_);f.set(D.key.toString(),D)});const g=[];return o.forEach(_=>{const D=f.get(_.toString());be(!!D),g.push(D)}),g}),function(s,o){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return b(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=te.fromPath(i);e.mutations.push(new wE(s,e.precondition(s)))}),yield(r=b(function*(i,s){const o=ne(i),a=kd(o.wt)+"/documents",u={writes:s.map(l=>Od(o.wt,l))};yield o.ro("Commit",a,u)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw de();t=we.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new G(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nt.updateTime(t):Nt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(we.min()))throw new G(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nt.updateTime(t)}return Nt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xY{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Dc=r.maxAttempts,this.So=new qE(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io(b(function*(){const t=new AY(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Nc(s)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jN(t)}return!1}}class MY{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=JR.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=b(function*(a){X("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return b(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(b(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=sl(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _L(n,e){return jb.apply(this,arguments)}function jb(){return jb=b(function*(n,e){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=b(function*(s){r.isEqual(s)||(yield jP(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),jb.apply(this,arguments)}function wL(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=b(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $b(n);X("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>iL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>iL(e.remoteStore,s)),n.onlineComponents=e}),Hb.apply(this,arguments)}function $b(n){return qb.apply(this,arguments)}function qb(){return qb=b(function*(n){return n.offlineComponents||(X("FirestoreClient","Using default OfflineComponentProvider"),yield _L(n,new mL)),n.offlineComponents}),qb.apply(this,arguments)}function Tg(n){return Wb.apply(this,arguments)}function Wb(){return Wb=b(function*(n){return n.onlineComponents||(X("FirestoreClient","Using default OnlineComponentProvider"),yield wL(n,new Ub)),n.onlineComponents}),Wb.apply(this,arguments)}function EL(n){return $b(n).then(e=>e.persistence)}function Gb(n){return $b(n).then(e=>e.localStore)}function bL(n){return Tg(n).then(e=>e.remoteStore)}function zb(n){return Tg(n).then(e=>e.syncEngine)}function ll(n){return Kb.apply(this,arguments)}function Kb(){return Kb=b(function*(n){const e=yield Tg(n),t=e.eventManager;return t.onListen=uY.bind(null,e.syncEngine),t.onUnlisten=lY.bind(null,e.syncEngine),t}),Kb.apply(this,arguments)}function CL(n,e,t={}){const r=new _n;return n.asyncQueue.enqueueAndForget(b(function*(){return function(i,s,o,a,u){const l=new Ig({next:f=>{s.enqueueAndForget(()=>db(i,d));const g=f.docs.has(o);!g&&f.fromCache?u.reject(new G(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&a&&"server"===a.source?u.reject(new G(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new pb(qu(o.path),l,{includeMetadataChanges:!0,Du:!0});return lb(i,d)}(yield ll(n),n.asyncQueue,e,t,r)})),r.promise}function DL(n,e,t={}){const r=new _n;return n.asyncQueue.enqueueAndForget(b(function*(){return function(i,s,o,a,u){const l=new Ig({next:f=>{s.enqueueAndForget(()=>db(i,d)),f.fromCache&&"server"===a.source?u.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new pb(o,l,{includeMetadataChanges:!0,Du:!0});return lb(i,d)}(yield ll(n),n.asyncQueue,e,t,r)})),r.promise}const IL=new Map;function Qb(n,e,t){if(!t)throw new G(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TL(n,e,t,r){if(!0===e&&!0===r)throw new G(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SL(n){if(!te.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AL(n){if(te.isDocumentKey(n))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":de()}function Ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sg(n);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xL(n,e){if(e<=0)throw new G(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ML{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,TL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ML({}),this._settingsFrozen=!1,e instanceof Ds?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ds(i.options.projectId)}(e))}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ML(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U7;switch(t.type){case"gapi":const r=t.client;return be(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new q7(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=IL.get(e);t&&(X("ComponentProvider","Removing Datastore"),IL.delete(e),t.terminate())}(this),Promise.resolve()}}class Ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class qn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qn(this.firestore,e,this._query)}}class Yi extends qn{constructor(e,t,r){super(e,t,qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new te(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function kL(n,e,...t){if(n=ge(n),Qb("collection","path",e),n instanceof qd){const r=et.fromString(e,...t);return AL(r),new Yi(n,null,r)}{if(!(n instanceof Ct||n instanceof Yi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return AL(r),new Yi(n.firestore,null,r)}}function Ag(n,e,...t){if(n=ge(n),1===arguments.length&&(e=JR.I()),Qb("doc","path",e),n instanceof qd){const r=et.fromString(e,...t);return SL(r),new Ct(n,null,new te(r))}{if(!(n instanceof Ct||n instanceof Yi))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(et.fromString(e,...t));return SL(r),new Ct(n.firestore,n instanceof Yi?n.converter:null,new te(r))}}function OL(n,e){return n=ge(n),e=ge(e),(n instanceof Ct||n instanceof Yi)&&(e instanceof Ct||e instanceof Yi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function RL(n,e){return n=ge(n),e=ge(e),n instanceof qn&&e instanceof qn&&n.firestore===e.firestore&&bd(n._query,e._query)&&n.converter===e.converter}class jY{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new qE(this,"async_queue_retry"),this.Kc=()=>{const t=bg();t&&X("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=bg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=bg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new _n;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return b(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!oo(t))throw t;X("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Xt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=ub.createAndSchedule(this,e,t,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&de()}verifyOperationInProgress(){}zc(){var e=this;return b(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Yb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class HY{constructor(){this._progressObserver={},this._taskCompletionResolver=new _n,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kt extends qd{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new jY,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NL(this),this._firestoreClient.terminate()}}function Zt(n){return n._firestoreClient||NL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NL(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new eQ(n._databaseId,s,n._persistenceKey,(a=t).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;n._firestoreClient=new MY(n._authCredentials,n._appCheckCredentials,n._queue,r)}function PL(n,e,t){const r=new _n;return n.asyncQueue.enqueue(b(function*(){try{yield _L(n,t),yield wL(n,e),r.resolve()}catch(i){const s=i;if(!("FirebaseError"===(o=s).name?o.code===U.FAILED_PRECONDITION||o.code===U.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var o})).then(()=>r.promise)}function LL(n){if(n._initialized||n._terminated)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class As{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(un.fromBase64String(e))}catch(t){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xi(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fa{constructor(e){this._methodName=e}}class xg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}const JY=/^__.*__$/;class ZY{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ku(e,this.data,t,this.fieldTransforms)}}class FL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Mg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Rg(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(VL(this.Zc)&&JY.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class eX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||jd(e)}aa(e,t,r,i=!1){return new Mg({Zc:e,methodName:t,ca:r,path:$t.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function pa(n){const e=n._freezeSettings(),t=jd(n._databaseId);return new eX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kg(n,e,t,r,i,s={}){const o=n.aa(s.merge||s.mergeFields?2:0,e,t,i);e0("Data must be an object, but it was:",o,r);const a=jL(r,o);let u,l;if(s.merge)u=new Mr(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=t0(e,f,t);if(!o.contains(g))throw new G(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$L(d,g)||d.push(g)}u=new Mr(d),l=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=o.fieldTransforms;return new ZY(new On(a),u,l)}class Wd extends fa{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}function BL(n,e,t){return new Mg({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Xb extends fa{_toFieldTransform(e){return new Cd(e.path,new Gu)}isEqual(e){return e instanceof Xb}}class tX extends fa{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=BL(this,e,!0),r=this.ha.map(s=>ga(s,t)),i=new ra(r);return new Cd(e.path,i)}isEqual(e){return this===e}}class nX extends fa{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=BL(this,e,!0),r=this.ha.map(s=>ga(s,t)),i=new ia(r);return new Cd(e.path,i)}isEqual(e){return this===e}}class rX extends fa{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new zu(e.wt,MN(e.wt,this.la));return new Cd(e.path,t)}isEqual(e){return this===e}}function Jb(n,e,t,r){const i=n.aa(1,e,t);e0("Data must be an object, but it was:",i,r);const s=[],o=On.empty();Jo(r,(u,l)=>{const d=Og(e,u,t);l=ge(l);const f=i.ia(d);if(l instanceof Wd)s.push(d);else{const g=ga(l,f);null!=g&&(s.push(d),o.set(d,g))}});const a=new Mr(s);return new FL(o,a,i.fieldTransforms)}function Zb(n,e,t,r,i,s){const o=n.aa(1,e,t),a=[t0(e,r,t)],u=[i];if(s.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(t0(e,s[g])),u.push(s[g+1]);const l=[],d=On.empty();for(let g=a.length-1;g>=0;--g)if(!$L(l,a[g])){const _=a[g];let D=u[g];D=ge(D);const x=o.ia(_);if(D instanceof Wd)l.push(_);else{const P=ga(D,x);null!=P&&(l.push(_),d.set(_,P))}}const f=new Mr(l);return new FL(d,f,o.fieldTransforms)}function UL(n,e,t,r=!1){return ga(t,n.aa(r?4:3,e))}function ga(n,e){if(HL(n=ge(n)))return e0("Unsupported field value:",e,n),jL(n,e);if(n instanceof fa)return function(t,r){if(!VL(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=ga(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=ge(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return MN(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Mt.fromDate(t);return{timestampValue:xd(r.wt,i)}}if(t instanceof Mt){const i=new Mt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xd(r.wt,i)}}if(t instanceof xg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xi)return{bytesValue:XN(r.wt,t._byteString)};if(t instanceof Ct){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:EE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Sg(t)}`)}(n,e)}function jL(n,e){const t={};return oN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(n,(r,i)=>{const s=ga(i,e.ea(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function HL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof xg||n instanceof Xi||n instanceof Ct||n instanceof fa)}function e0(n,e,t){if(!HL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sg(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function t0(n,e,t){if((e=ge(e))instanceof As)return e._internalPath;if("string"==typeof e)return Og(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const iX=new RegExp("[~\\*/\\[\\]]");function Og(n,e,t){if(e.search(iX)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new As(...e.split("."))._internalPath}catch(r){throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(U.INVALID_ARGUMENT,a+n+u)}function $L(n,e){return n.some(t=>t.isEqual(e))}class Gd{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sX extends Gd{data(){return super.data()}}function Ng(n,e){return"string"==typeof e?Og(n,e):e instanceof As?e._internalPath:e._delegate._internalPath}class ma{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xs extends Gd{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zd extends xs{data(e={}){return super.data(e)}}class yo{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zd(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new zd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new zd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ma(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:oX(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}function qL(n,e){return n instanceof xs&&e instanceof xs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof yo&&e instanceof yo&&n._firestore===e._firestore&&RL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kd{}function _o(n,...e){for(const t of e)n=t._apply(n);return n}class aX extends Kd{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=pa(e.firestore),r=function(i,s,o,a,u,l,d){let f;if(u.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new G(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){XL(d,l);const _=[];for(const D of d)_.push(YL(a,i,D));f={arrayValue:{values:_}}}else f=YL(a,i,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||XL(d,l),f=UL(o,"where",d,"in"===l||"not-in"===l);const g=Rn.create(u,l,f);return function(_,D){if(D.ht()){const P=mE(_);if(null!==P&&!P.isEqual(D.field))throw new G(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${P.toString()}' and '${D.field.toString()}'`);const H=gE(_);null!==H&&JL(0,D.field,H)}const x=function(P,H){for(const F of P.filters)if(H.indexOf(F.op)>=0)return F.op;return null}(_,function(P){switch(P){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(null!==x)throw new G(U.INVALID_ARGUMENT,x===D.op?`Invalid query. You cannot use more than one '${D.op.toString()}' filter.`:`Invalid query. You cannot use '${D.op.toString()}' filters with '${x.toString()}' filters.`)}(i,g),g}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new qn(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Is(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class lX extends Kd{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new G(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new $u(i,s);return function(a,u){if(null===gE(a)){const l=mE(a);null!==l&&JL(0,l,u.field)}}(r,o),o}(e._query,this.fa,this.wa);return new qn(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Is(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class GL extends Kd{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new qn(e.firestore,e.converter,DN(e._query,this.ma,this.ga))}}class zL extends Kd{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=QL(e,this.type,this.ya,this.pa);return new qn(e.firestore,e.converter,(i=t,new Is((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class KL extends Kd{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=QL(e,this.type,this.ya,this.pa);return new qn(e.firestore,e.converter,(i=t,new Is((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function QL(n,e,t,r){if(t[0]=ge(t[0]),t[0]instanceof Gd)return function(i,s,o,a,u){if(!a)throw new G(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const l=[];for(const d of Wu(i))if(d.field.isKeyField())l.push(ta(s,a.key));else{const f=a.data.field(d.field);if(hE(f))throw new G(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){const g=d.field.canonicalString();throw new G(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}l.push(f)}return new co(l,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=pa(n.firestore);return function(s,o,a,u,l,d){const f=s.explicitOrderBy;if(l.length>f.length)throw new G(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let _=0;_<l.length;_++){const D=l[_];if(f[_].field.isKeyField()){if("string"!=typeof D)throw new G(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof D}`);if(!vE(s)&&-1!==D.indexOf("/"))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${D}' contains a slash.`);const x=s.path.child(et.fromString(D));if(!te.isDocumentKey(x))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const P=new te(x);g.push(ta(o,P))}else{const x=UL(a,u,D);g.push(x)}}return new co(g,d)}(n._query,n.firestore._databaseId,i,e,t,r)}}function YL(n,e,t){if("string"==typeof(t=ge(t))){if(""===t)throw new G(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&-1!==t.indexOf("/"))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(et.fromString(t));if(!te.isDocumentKey(r))throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ta(n,new te(r))}if(t instanceof Ct)return ta(n,t._key);throw new G(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(t)}.`)}function XL(n,e){if(!Array.isArray(n)||0===n.length)throw new G(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new G(U.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function JL(n,e,t){if(!t.isEqual(e))throw new G(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const vX={maxAttempts:5};class n0{convertValue(e,t="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw de()}}convertObject(e,t){const r={};return Jo(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new xg(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gd(e));default:return null}}convertTimestamp(e){const t=ao(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=et.fromString(e);be(aP(r));const i=new Ds(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(t)||Xt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Pg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class yX extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}class ZL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pa(e)}set(e,t,r){this._verifyNotCommitted();const i=wo(e,this._firestore),s=Pg(i.converter,t,r),o=kg(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Nt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=wo(e,this._firestore);let o;return o="string"==typeof(t=ge(t))||t instanceof As?Zb(this._dataReader,"WriteBatch.update",s._key,t,r,i):Jb(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Nt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wo(e,this._firestore);return this._mutations=this._mutations.concat(new Qu(t._key,Nt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new G(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wo(n,e){if((n=ge(n)).firestore!==e)throw new G(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class va extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function eF(n,e,t){n=Ye(n,Ct);const r=Ye(n.firestore,kt),i=Pg(n.converter,e,t);return cl(r,[kg(pa(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nt.none())])}function tF(n,e,t,...r){n=Ye(n,Ct);const i=Ye(n.firestore,kt),s=pa(i);let o;return o="string"==typeof(e=ge(e))||e instanceof As?Zb(s,"updateDoc",n._key,e,t,r):Jb(s,"updateDoc",n._key,e),cl(i,[o.toMutation(n._key,Nt.exists(!0))])}function nF(n,...e){var t,r,i;n=ge(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Yb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Yb(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let u,l,d;if(n instanceof Ct)l=Ye(n.firestore,kt),d=qu(n._key.path),u={next:f=>{e[o]&&e[o](r0(l,n,f))},error:e[o+1],complete:e[o+2]};else{const f=Ye(n,qn);l=Ye(f.firestore,kt),d=f._query;const g=new va(l);u={next:_=>{e[o]&&e[o](new yo(l,g,f,_))},error:e[o+1],complete:e[o+2]},WL(n._query)}return function(f,g,_,D){const x=new Ig(D),P=new pb(g,x,_);return f.asyncQueue.enqueueAndForget(b(function*(){return lb(yield ll(f),P)})),()=>{x.Tc(),f.asyncQueue.enqueueAndForget(b(function*(){return db(yield ll(f),P)}))}}(Zt(l),d,a,u)}function cl(n,e){return function(t,r){const i=new _n;return t.asyncQueue.enqueueAndForget(b(function*(){return function cY(n,e,t){return _b.apply(this,arguments)}(yield zb(t),r,i)})),i.promise}(Zt(n),e)}function r0(n,e,t){const r=t.docs.get(e._key),i=new va(n);return new xs(n,i,e._key,r,new ma(t.hasPendingWrites,t.fromCache),e.converter)}class AX extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pa(e)}get(e){const t=wo(e,this._firestore),r=new yX(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return de();const s=i[0];if(s.isFoundDocument())return new Gd(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Gd(this._firestore,r,t._key,null,t.converter);throw de()})}set(e,t,r){const i=wo(e,this._firestore),s=Pg(i.converter,t,r),o=kg(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){const s=wo(e,this._firestore);let o;return o="string"==typeof(t=ge(t))||t instanceof As?Zb(this._dataReader,"Transaction.update",s._key,t,r,i):Jb(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){const t=wo(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wo(e,this._firestore),r=new va(this._firestore);return super.get(e).then(i=>new xs(this._firestore,r,t._key,i._document,new ma(!1,!1),t.converter))}}function s0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new G("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iF(){if("undefined"==typeof Uint8Array)throw new G("unimplemented","Uint8Arrays are not available in this environment.")}function sF(){if(!function J7(){return"undefined"!=typeof atob}())throw new G("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Bu=qo,eo(new qi("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),s=new kt(i,new H7(t.getProvider("auth-internal")),new W7(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Wi(QR,"3.4.13",n),Wi(QR,"3.4.13","esm2017")}();class Qd{constructor(e){this._delegate=e}static fromBase64String(e){return sF(),new Qd(Xi.fromBase64String(e))}static fromUint8Array(e){return iF(),new Qd(Xi.fromUint8Array(e))}toBase64(){return sF(),this._delegate.toBase64()}toUint8Array(){return iF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function o0(n){return function FX(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VX{enableIndexedDbPersistence(e,t){return function qY(n,e){LL(n=Ye(n,kt));const t=Zt(n),r=n._freezeSettings(),i=new Ub;return PL(t,i,new vL(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function WY(n){LL(n=Ye(n,kt));const e=Zt(n),t=n._freezeSettings(),r=new Ub;return PL(e,r,new TY(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GY(n){if(n._initialized&&!n._terminated)throw new G(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _n;return n._queue.enqueueAndForgetEvenWhileRestricted(b(function*(){try{yield(t=b(function*(r){if(!Ci.V())return Promise.resolve();const i=r+"main";yield Ci.delete(i)}),function(r){return t.apply(this,arguments)})(NE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class oF{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ds||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function BY(n,e,t,r={}){var i;const s=(n=Ye(n,qd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&dd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=yn.MOCK_USER;else{o=function Y5(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_p(JSON.stringify({alg:"none",type:"JWT"})),_p(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new yn(u)}n._authCredentials=new j7(new YR(o,a))}}(this._delegate,e,t,r)}enableNetwork(){return function KY(n){return function kY(n){return n.asyncQueue.enqueue(b(function*(){const e=yield EL(n),t=yield bL(n);return e.setNetworkEnabled(!0),function(r){const i=ne(r);return i.lu.delete(0),Hd(i)}(t)}))}(Zt(n=Ye(n,kt)))}(this._delegate)}disableNetwork(){return function QY(n){return function OY(n){return n.asyncQueue.enqueue(b(function*(){const e=yield EL(n),t=yield bL(n);return e.setNetworkEnabled(!1),(r=b(function*(i){const s=ne(i);s.lu.add(0),yield nl(s),s._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Zt(n=Ye(n,kt)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,TL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zY(n){return function(e){const t=new _n;return e.asyncQueue.enqueueAndForget(b(function*(){return function pY(n,e){return Db.apply(this,arguments)}(yield zb(e),t)})),t.promise}(Zt(n=Ye(n,kt)))}(this._delegate)}onSnapshotsInSync(e){return function SX(n,e){return function PY(n,e){const t=new Ig(e);return n.asyncQueue.enqueueAndForget(b(function*(){return r=yield ll(n),i=t,ne(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget(b(function*(){return r=yield ll(n),i=t,void ne(r).Tu.delete(i);var r,i}))}}(Zt(n=Ye(n,kt)),Yb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new G("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dl(this,kL(this._delegate,e))}catch(t){throw sr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Xr(this,Ag(this._delegate,e))}catch(t){throw sr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new or(this,function UY(n,e){if(n=Ye(n,qd),Qb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qn(n,null,(t=e,new Is(et.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw sr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xX(n,e,t){n=Ye(n,kt);const r=Object.assign(Object.assign({},vX),t);return function(i){if(i.maxAttempts<1)throw new G(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function LY(n,e,t){const r=new _n;return n.asyncQueue.enqueueAndForget(b(function*(){const i=yield(s=n,Tg(s).then(o=>o.datastore));var s;new xY(n.asyncQueue,i,t,e,r).run()})),r.promise}(Zt(n),i=>e(new AX(n,i)),r)}(this._delegate,t=>e(new aF(this,t)))}batch(){return Zt(this._delegate),new uF(new ZL(this._delegate,e=>cl(this._delegate,e)))}loadBundle(e){return function YY(n,e){const t=Zt(n=Ye(n,kt)),r=new HY;return function FY(n,e,t,r){const i=function(s,o){let a;return a="string"==typeof s?(new TextEncoder).encode(s):s,u=function(u,l){if(u instanceof Uint8Array)return yL(u,l);if(u instanceof ArrayBuffer)return yL(new Uint8Array(u),l);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),new SY(u,o);var u}(t,jd(e));n.asyncQueue.enqueueAndForget(b(function*(){!function IY(n,e,t){const r=ne(n);var i;(i=b(function*(s,o,a){try{const u=yield o.getMetadata();if(yield function(g,_){const D=ne(g),x=wn(_.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",P=>D.Ds.getBundleMetadata(P,_.id)).then(P=>!!P&&P.createTime.compareTo(x)>=0)}(s.localStore,u))return yield o.close(),a._completeWith({taskState:"Success",documentsLoaded:(g=u).totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}),Promise.resolve(new Set);a._updateProgress(aL(u));const l=new iY(u,s.localStore,o.wt);let d=yield o.fc();for(;d;){const g=yield l.Nu(d);g&&a._updateProgress(g),d=yield o.fc()}const f=yield l.complete();return yield Ss(s,f.Mu,void 0),yield function(g,_){const D=ne(g);return D.persistence.runTransaction("Save bundle","readwrite",x=>D.Ds.saveBundleMetadata(x,_))}(s.localStore,u),a._completeWith(f.progress),Promise.resolve(f.Ou)}catch(u){return dd("SyncEngine",`Loading bundle failed with ${u}`),a._failWith(u),Promise.resolve(new Set)}var g}),function(s,o,a){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield zb(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function XY(n,e){return function VY(n,e){return n.asyncQueue.enqueue(b(function*(){return function(t,r){const i=ne(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ds.getNamedQuery(s,r))}(yield Gb(n),e)}))}(Zt(n=Ye(n,kt)),e).then(t=>t?new qn(n,null,t.query):null)}(this._delegate,e).then(t=>t?new or(this,t):null)}}class Lg extends n0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qd(new Xi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Xr.forKey(t,this.firestore,null)}}class aF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}get(e){const t=_a(e);return this._delegate.get(t).then(r=>new Yd(this._firestore,new xs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=_a(e);return r?(s0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=_a(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=_a(e);return this._delegate.delete(t),this}}class uF{constructor(e){this._delegate=e}set(e,t,r){const i=_a(e);return r?(s0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=_a(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=_a(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ya{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new zd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xd(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ya.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ya(e,new Lg(e),t),i.set(t,s)),s}}ya.INSTANCES=new WeakMap;class Xr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}static forPath(e,t,r){if(e.length%2!=0)throw new G("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xr(t,new Ct(t._delegate,r,new te(e)))}static forKey(e,t,r){return new Xr(t,new Ct(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new dl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dl(this.firestore,kL(this._delegate,e))}catch(t){throw sr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=ge(e))instanceof Ct&&OL(this._delegate,e)}set(e,t){t=s0("DocumentReference.set",t);try{return t?eF(this._delegate,e,t):eF(this._delegate,e)}catch(r){throw sr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tF(this._delegate,e):tF(this._delegate,e,t,...r)}catch(i){throw sr(i,"updateDoc()","DocumentReference.update()")}}delete(){return function IX(n){return cl(Ye(n.firestore,kt),[new Qu(n._key,Nt.none())])}(this._delegate)}onSnapshot(...e){const t=lF(e),r=cF(e,i=>new Yd(this.firestore,new xs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nF(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wX(n){n=Ye(n,Ct);const e=Ye(n.firestore,kt),t=Zt(e),r=new va(e);return function RY(n,e){const t=new _n;return n.asyncQueue.enqueueAndForget(b(function*(){return(r=b(function*(i,s,o){try{const a=yield function(u,l){const d=ne(u);return d.persistence.runTransaction("read document","readonly",f=>d.localDocuments.getDocument(f,l))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new G(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=sl(a,`Failed to get document '${s} from cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._key).then(i=>new xs(e,r,n._key,i,new ma(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function EX(n){n=Ye(n,Ct);const e=Ye(n.firestore,kt);return CL(Zt(e),n._key,{source:"server"}).then(t=>r0(e,n,t))}(this._delegate):function _X(n){n=Ye(n,Ct);const e=Ye(n.firestore,kt);return CL(Zt(e),n._key).then(t=>r0(e,n,t))}(this._delegate),t.then(r=>new Yd(this.firestore,new xs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xr(this.firestore,this._delegate.withConverter(e?ya.getInstance(this.firestore,e):null))}}function sr(n,e,t){return n.message=n.message.replace(e,t),n}function lF(n){for(const e of n)if("object"==typeof e&&!o0(e))return e;return{}}function cF(n,e){var t,r;let i;return i=o0(n[0])?n[0]:o0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Yd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Xr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qL(this._delegate,e._delegate)}}class Xd extends Yd{data(e){const t=this._delegate.data(e);return function B7(n,e){n||de()}(void 0!==t),t}}class or{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}where(e,t,r){try{return new or(this.firestore,_o(this._delegate,function uX(n,e,t){const r=e,i=Ng("where",n);return new aX(i,r,t)}(e,t,r)))}catch(i){throw sr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new or(this.firestore,_o(this._delegate,function cX(n,e="asc"){const t=e,r=Ng("orderBy",n);return new lX(r,t)}(e,t)))}catch(r){throw sr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new or(this.firestore,_o(this._delegate,function dX(n){return xL("limit",n),new GL("limit",n,"F")}(e)))}catch(t){throw sr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new or(this.firestore,_o(this._delegate,function hX(n){return xL("limitToLast",n),new GL("limitToLast",n,"L")}(e)))}catch(t){throw sr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new or(this.firestore,_o(this._delegate,function fX(...n){return new zL("startAt",n,!0)}(...e)))}catch(t){throw sr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new or(this.firestore,_o(this._delegate,function pX(...n){return new zL("startAfter",n,!1)}(...e)))}catch(t){throw sr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new or(this.firestore,_o(this._delegate,function gX(...n){return new KL("endBefore",n,!1)}(...e)))}catch(t){throw sr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new or(this.firestore,_o(this._delegate,function mX(...n){return new KL("endAt",n,!0)}(...e)))}catch(t){throw sr(t,"endAt()","Query.endAt()")}}isEqual(e){return RL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function CX(n){n=Ye(n,qn);const e=Ye(n.firestore,kt),t=Zt(e),r=new va(e);return function NY(n,e){const t=new _n;return n.asyncQueue.enqueueAndForget(b(function*(){return(r=b(function*(i,s,o){try{const a=yield _g(i,s,!0),u=new cL(s,a.ji),l=u.Ku(a.documents),d=u.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){const u=sl(a,`Failed to execute query '${s} against cache`);o.reject(u)}}),function(i,s,o){return r.apply(this,arguments)})(yield Gb(n),e,t);var r})),t.promise}(t,n._query).then(i=>new yo(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function DX(n){n=Ye(n,qn);const e=Ye(n.firestore,kt),t=Zt(e),r=new va(e);return DL(t,n._query,{source:"server"}).then(i=>new yo(e,r,n,i))}(this._delegate):function bX(n){n=Ye(n,qn);const e=Ye(n.firestore,kt),t=Zt(e),r=new va(e);return WL(n._query),DL(t,n._query).then(i=>new yo(e,r,n,i))}(this._delegate),t.then(r=>new a0(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lF(e),r=cF(e,i=>new a0(this.firestore,new yo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nF(this._delegate,t,r)}withConverter(e){return new or(this.firestore,this._delegate.withConverter(e?ya.getInstance(this.firestore,e):null))}}class UX{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class a0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new or(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UX(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Xd(this._firestore,r))})}isEqual(e){return qL(this._delegate,e._delegate)}}class dl extends or{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xr(this.firestore,e):null}doc(e){try{return new Xr(this.firestore,void 0===e?Ag(this._delegate):Ag(this._delegate,e))}catch(t){throw sr(t,"doc()","CollectionReference.doc()")}}add(e){return function TX(n,e){const t=Ye(n.firestore,kt),r=Ag(n),i=Pg(n.converter,e);return cl(t,[kg(pa(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nt.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Xr(this.firestore,t))}isEqual(e){return OL(this._delegate,e._delegate)}withConverter(e){return new dl(this.firestore,this._delegate.withConverter(e?ya.getInstance(this.firestore,e):null))}}function _a(n){return Ye(n,Ct)}class u0{constructor(...e){this._delegate=new As(...e)}static documentId(){return new u0($t.keyField().canonicalString())}isEqual(e){return(e=ge(e))instanceof As&&this._delegate._internalPath.isEqual(e._internalPath)}}class wa{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kX(){return new Xb("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new wa(e)}static delete(){const e=function MX(){return new Wd("deleteField")}();return e._methodName="FieldValue.delete",new wa(e)}static arrayUnion(...e){const t=function OX(...n){return new tX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new wa(t)}static arrayRemove(...e){const t=function RX(...n){return new nX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new wa(t)}static increment(e){const t=function NX(n){return new rX("increment",n)}(e);return t._methodName="FieldValue.increment",new wa(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jX={Firestore:oF,GeoPoint:xg,Timestamp:Mt,Blob:Qd,Transaction:aF,WriteBatch:uF,DocumentReference:Xr,DocumentSnapshot:Yd,Query:or,QueryDocumentSnapshot:Xd,QuerySnapshot:a0,CollectionReference:dl,FieldPath:u0,FieldValue:wa,setLogLevel:function BX(n){!function V7(n){io.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $X(n){(function HX(n,e){n.INTERNAL.registerComponent(new qi("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},jX)))})(n,(e,t)=>new oF(e,t,new VX)),n.registerVersion("@firebase/firestore-compat","0.1.22")}(bi);var Ea=dn(519);function c0(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}const zX=function GX(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},KX=function pF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gF=new jo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mF=new bp("@firebase/auth");function Vg(n,...e){mF.logLevel<=Ze.ERROR&&mF.error(`Auth (${qo}): ${n}`,...e)}function Cn(n,...e){throw d0(n,...e)}function Nn(n,...e){return d0(n,...e)}function vF(n,e,t){const r=Object.assign(Object.assign({},KX()),{[e]:t});return new jo("auth","Firebase",r).create(e,{appName:n.name})}function fl(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Cn(n,"argument-error"),vF(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function d0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return gF.create(n,...e)}function Z(n,e,...t){if(!n)throw d0(e,...t)}function Ji(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vg(e),new Error(e)}function Di(n,e){n||Ji(e)}const yF=new Map;function kr(n){Di(n instanceof Function,"Expected a class definition");let e=yF.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,yF.set(n,e),e)}function Zd(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function h0(){return"http:"===_F()||"https:"===_F()}function _F(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class eh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=a1()||wp()}get(){return function XX(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(h0()||X_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function f0(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class wF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},eJ=new eh(3e4,6e4);function ln(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Dn(n,e,t,r){return p0.apply(this,arguments)}function p0(){return p0=b(function*(n,e,t,r,i={}){return EF(n,i,b(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ou(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),wF.fetch()(bF(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))}),p0.apply(this,arguments)}function EF(n,e,t){return g0.apply(this,arguments)}function g0(){return g0=b(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZX),e);try{const i=new tJ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw th(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw th(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw th(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw th(n,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw vF(n,d,l);Cn(n,d)}}catch(i){if(i instanceof Sr)throw i;Cn(n,"network-request-failed")}}),g0.apply(this,arguments)}function Ms(n,e,t,r){return m0.apply(this,arguments)}function m0(){return m0=b(function*(n,e,t,r,i={}){const s=yield Dn(n,e,t,r,i);return"mfaPendingCredential"in s&&Cn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),m0.apply(this,arguments)}function bF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?f0(n.config,i):`${n.config.apiScheme}://${i}`}class tJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),eJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function th(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Nn(n,e,r);return i.customData._tokenResponse=t,i}function v0(){return v0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:delete",e)}),v0.apply(this,arguments)}function rJ(n,e){return y0.apply(this,arguments)}function y0(){return y0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:update",e)}),y0.apply(this,arguments)}function iJ(n,e){return _0.apply(this,arguments)}function _0(){return _0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:lookup",e)}),_0.apply(this,arguments)}function nh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function w0(){return w0=b(function*(n,e=!1){const t=ge(n),r=yield t.getIdToken(e),i=Bg(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nh(E0(i.auth_time)),issuedAtTime:nh(E0(i.iat)),expirationTime:nh(E0(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),w0.apply(this,arguments)}function E0(n){return 1e3*Number(n)}function Bg(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Vg("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(n){try{return s1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(Vg("Failed to decode base64 JWT payload"),null)}catch(s){return Vg("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function ks(n,e){return b0.apply(this,arguments)}function b0(){return b0=b(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Sr&&aJ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),b0.apply(this,arguments)}function aJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class uJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(b(function*(){yield t.iteration()}),r)}iteration(){var e=this;return b(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class CF{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rh(n){return C0.apply(this,arguments)}function C0(){return C0=b(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ks(n,iJ(t,{idToken:r}));Z(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?dJ(s.providerUserInfo):[],a=cJ(n.providerData,o),d=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CF(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)}),C0.apply(this,arguments)}function D0(){return D0=b(function*(n){const e=ge(n);yield rh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),D0.apply(this,arguments)}function cJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dJ(n){return n.map(e=>{var{providerId:t}=e,r=c0(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function I0(){return I0=b(function*(n,e){const t=yield EF(n,{},b(function*(){const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=bF(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),I0.apply(this,arguments)}class ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(void 0!==e.idToken,"internal-error"),Z(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function oJ(n){const e=Bg(n);return Z(e,"internal-error"),Z(void 0!==e.exp,"internal-error"),Z(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return b(function*(){return Z(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return b(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function hJ(n,e){return I0.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new ih;return r&&(Z("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(Z("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(Z("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ih,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Eo(n,e){Z("string"==typeof n||void 0===n,"internal-error",{appName:e})}class ba{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=c0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new CF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return b(function*(){const r=yield ks(t,t.stsTokenManager.getToken(t.auth,e));return Z(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function sJ(n){return w0.apply(this,arguments)}(this,e)}reload(){return function lJ(n){return D0.apply(this,arguments)}(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ba(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return b(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield rh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return b(function*(){const t=yield e.getIdToken();return yield ks(e,function nJ(n,e){return v0.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,d;const f=null!==(r=t.displayName)&&void 0!==r?r:void 0,g=null!==(i=t.email)&&void 0!==i?i:void 0,_=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,D=null!==(o=t.photoURL)&&void 0!==o?o:void 0,x=null!==(a=t.tenantId)&&void 0!==a?a:void 0,P=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,H=null!==(l=t.createdAt)&&void 0!==l?l:void 0,F=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:J,emailVerified:oe,isAnonymous:fe,providerData:Be,stsTokenManager:Dt}=t;Z(J&&Dt,e,"internal-error");const Ii=ih.fromJSON(this.name,Dt);Z("string"==typeof J,e,"internal-error"),Eo(f,e.name),Eo(g,e.name),Z("boolean"==typeof oe,e,"internal-error"),Z("boolean"==typeof fe,e,"internal-error"),Eo(_,e.name),Eo(D,e.name),Eo(x,e.name),Eo(P,e.name),Eo(H,e.name),Eo(F,e.name);const Aa=new ba({uid:J,auth:e,email:g,emailVerified:oe,displayName:f,isAnonymous:fe,photoURL:D,phoneNumber:_,tenantId:x,stsTokenManager:Ii,createdAt:H,lastLoginAt:F});return Be&&Array.isArray(Be)&&(Aa.providerData=Be.map(mh=>Object.assign({},mh))),P&&(Aa._redirectEventId=P),Aa}static _fromIdTokenResponse(e,t,r=!1){return b(function*(){const i=new ih;i.updateFromServerResponse(t);const s=new ba({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rh(s),s})()}}const pl=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(function*(){return!0})()}_set(t,r){var i=this;return b(function*(){i.storage[t]=r})()}_get(t){var r=this;return b(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return b(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ca(n,e,t){return`firebase:${n}:${e}:${t}`}class gl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ca(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ca("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return b(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ba._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return b(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(function*(){if(!t.length)return new gl(kr(pl),e,r);const i=(yield Promise.all(t.map(function(){var l=b(function*(d){if(yield d._isAvailable())return d});return function(d){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||kr(pl);const o=Ca(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const d=yield l._get(o);if(d){const f=ba._fromJSON(e,d);l!==s&&(a=f),s=l;break}}catch(d){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=b(function*(d){if(d!==s)try{yield d._remove(o)}catch(f){}});return function(d){return l.apply(this,arguments)}}())),new gl(s,e,r)):new gl(s,e,r)})()}}function DF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AF(e))return"Blackberry";if(xF(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||TF(e))&&!e.includes("edge/"))return"Chrome";if(sh(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function IF(n=bt()){return/firefox\//i.test(n)}function T0(n=bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TF(n=bt()){return/crios\//i.test(n)}function SF(n=bt()){return/iemobile/i.test(n)}function sh(n=bt()){return/android/i.test(n)}function AF(n=bt()){return/blackberry/i.test(n)}function xF(n=bt()){return/webos/i.test(n)}function ml(n=bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function MF(n=bt()){return ml(n)||sh(n)||xF(n)||AF(n)||/windows phone/i.test(n)||SF(n)}function kF(n,e=[]){let t;switch(n){case"Browser":t=DF(bt());break;case"Worker":t=`${DF(bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${r}`}class vJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return b(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const s of t.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class yJ{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OF(this),this.idTokenSubscription=new OF(this),this.beforeStateQueue=new vJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gF,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(b(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield gl.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return b(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return b(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Z(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return b(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return b(function*(){var r;try{yield rh(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function JX(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return b(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return b(function*(){const r=e?ge(e):null;return r&&Z(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return b(function*(){if(!r._deleted)return e&&Z(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(b(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return b(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(b(function*(){yield t.assertedPersistence.setPersistence(kr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return b(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return b(function*(){if(!t.redirectPersistenceManager){const r=e&&kr(e)||t._popupRedirectResolver;Z(r,t,"argument-error"),t.redirectPersistenceManager=yield gl.create(t,[kr(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return b(function*(){var r,i;return t._isInitialized&&(yield t.queue(b(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return b(function*(){if(e===t.currentUser)return t.queue(b(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return b(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return b(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function In(n){return ge(n)}class OF{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function RF(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NF(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class vl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,t){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}function PF(n,e){return S0.apply(this,arguments)}function S0(){return S0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:resetPassword",ln(n,e))}),S0.apply(this,arguments)}function LF(n,e){return A0.apply(this,arguments)}function A0(){return A0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:update",e)}),A0.apply(this,arguments)}function bJ(n,e){return x0.apply(this,arguments)}function x0(){return x0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:update",ln(n,e))}),x0.apply(this,arguments)}function M0(){return M0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithPassword",ln(n,e))}),M0.apply(this,arguments)}function Ug(n,e){return k0.apply(this,arguments)}function k0(){return k0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:sendOobCode",ln(n,e))}),k0.apply(this,arguments)}function DJ(n,e){return O0.apply(this,arguments)}function O0(){return O0=b(function*(n,e){return Ug(n,e)}),O0.apply(this,arguments)}function IJ(n,e){return R0.apply(this,arguments)}function R0(){return R0=b(function*(n,e){return Ug(n,e)}),R0.apply(this,arguments)}function TJ(n,e){return N0.apply(this,arguments)}function N0(){return N0=b(function*(n,e){return Ug(n,e)}),N0.apply(this,arguments)}function SJ(n,e){return P0.apply(this,arguments)}function P0(){return P0=b(function*(n,e){return Ug(n,e)}),P0.apply(this,arguments)}function L0(){return L0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",ln(n,e))}),L0.apply(this,arguments)}function F0(){return F0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithEmailLink",ln(n,e))}),F0.apply(this,arguments)}class oh extends vl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new oh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new oh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return b(function*(){switch(t.signInMethod){case"password":return function CJ(n,e){return M0.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function AJ(n,e){return L0.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Cn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return b(function*(){switch(r.signInMethod){case"password":return LF(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function xJ(n,e){return F0.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Cn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Os(n,e){return V0.apply(this,arguments)}function V0(){return V0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithIdp",ln(n,e))}),V0.apply(this,arguments)}class Zi extends vl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=c0(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Os(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Os(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Os(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}function kJ(n,e){return B0.apply(this,arguments)}function B0(){return B0=b(function*(n,e){return Dn(n,"POST","/v1/accounts:sendVerificationCode",ln(n,e))}),B0.apply(this,arguments)}function U0(){return U0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,e))}),U0.apply(this,arguments)}function j0(){return j0=b(function*(n,e){const t=yield Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,e));if(t.temporaryProof)throw th(n,"account-exists-with-different-credential",t);return t}),j0.apply(this,arguments)}const NJ={USER_NOT_FOUND:"user-not-found"};function H0(){return H0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithPhoneNumber",ln(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),NJ)}),H0.apply(this,arguments)}class Da extends vl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Da({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Da({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function OJ(n,e){return U0.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function RJ(n,e){return j0.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function PJ(n,e){return H0.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new Da({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class ah{constructor(e){var t,r,i,s,o,a;const u=Ru(qc(e)),l=null!==(t=u.apiKey)&&void 0!==t?t:null,d=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function LJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Z(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function FJ(n){const e=Ru(qc(n)).link,t=e?Ru(qc(e)).deep_link_id:null,r=Ru(qc(n)).deep_link_id;return(r?Ru(qc(r)).link:null)||r||t||e||n}(e);try{return new ah(t)}catch(r){return null}}}let $0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return oh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=ah.parseLink(r);return Z(i,"argument-error"),oh._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Rs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yl extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _l extends yl{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Z("providerId"in t&&"signInMethod"in t,"argument-error"),Zi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Z(e.idToken||e.accessToken,"argument-error"),Zi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return _l.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _l.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!t&&!s||!a)return null;try{return new _l(a)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch(u){return null}}}let FF=(()=>{class n extends yl{constructor(){super("facebook.com")}static credential(t){return Zi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),VF=(()=>{class n extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Zi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch(s){return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),BF=(()=>{class n extends yl{constructor(){super("github.com")}static credential(t){return Zi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class wl extends vl{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Os(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Os(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Os(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new wl(r,s):null}static _create(e,t){return new wl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jg extends Rs{constructor(e){Z(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return jg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return jg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wl.fromJSON(e);return Z(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return wl._create(r,t)}catch(i){return null}}}let UF=(()=>{class n extends yl{constructor(){super("twitter.com")}static credential(t,r){return Zi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch(s){return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function jF(n,e){return q0.apply(this,arguments)}function q0(){return q0=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signUp",ln(n,e))}),q0.apply(this,arguments)}class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(function*(){const s=yield ba._fromIdTokenResponse(e,r,i),o=HF(r);return new Jr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return b(function*(){yield e._updateTokensIfNecessary(r,!0);const i=HF(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function HF(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function W0(){return W0=b(function*(n){var e;const t=In(n);if(yield t._initializationPromise,null===(e=t.currentUser)||void 0===e?void 0:e.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield jF(t,{returnSecureToken:!0}),i=yield Jr._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i}),W0.apply(this,arguments)}class Hg extends Sr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hg.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hg(e,t,r,i)}}function $F(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Hg._fromErrorAndOperation(n,s,e,r):s})}function qF(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function G0(){return G0=b(function*(n,e){const t=ge(n);yield $g(!0,t,e);const{providerUserInfo:r}=yield rJ(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=qF(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),G0.apply(this,arguments)}function z0(n,e){return K0.apply(this,arguments)}function K0(){return K0=b(function*(n,e,t=!1){const r=yield ks(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Jr._forOperation(n,"link",r)}),K0.apply(this,arguments)}function $g(n,e,t){return Q0.apply(this,arguments)}function Q0(){return Q0=b(function*(n,e,t){yield rh(e);const i=!1===n?"provider-already-linked":"no-such-provider";Z(qF(e.providerData).has(t)===n,e.auth,i)}),Q0.apply(this,arguments)}function WF(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=b(function*(n,e,t=!1){var r;const{auth:i}=n,s="reauthenticate";try{const o=yield ks(n,$F(i,s,e,n),t);Z(o.idToken,i,"internal-error");const a=Bg(o.idToken);Z(a,i,"internal-error");const{sub:u}=a;return Z(n.uid===u,i,"user-mismatch"),Jr._forOperation(n,s,o)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&Cn(i,"user-mismatch"),o}}),Y0.apply(this,arguments)}function GF(n,e){return X0.apply(this,arguments)}function X0(){return X0=b(function*(n,e,t=!1){const r="signIn",i=yield $F(n,r,e),s=yield Jr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),X0.apply(this,arguments)}function qg(n,e){return J0.apply(this,arguments)}function J0(){return J0=b(function*(n,e){return GF(In(n),e)}),J0.apply(this,arguments)}function zF(n,e){return Z0.apply(this,arguments)}function Z0(){return Z0=b(function*(n,e){const t=ge(n);return yield $g(!1,t,e.providerId),z0(t,e)}),Z0.apply(this,arguments)}function KF(n,e){return eC.apply(this,arguments)}function eC(){return eC=b(function*(n,e){return WF(ge(n),e)}),eC.apply(this,arguments)}function HJ(n,e){return tC.apply(this,arguments)}function tC(){return tC=b(function*(n,e){return Ms(n,"POST","/v1/accounts:signInWithCustomToken",ln(n,e))}),tC.apply(this,arguments)}function nC(){return nC=b(function*(n,e){const t=In(n),r=yield HJ(t,{token:e,returnSecureToken:!0}),i=yield Jr._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),nC.apply(this,arguments)}class Wg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?rC._fromServerResponse(e,t):Cn(e,"internal-error")}}class rC extends Wg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new rC(t)}}function Gg(n,e,t){var r;Z((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Z(void 0===t.dynamicLinkDomain||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Z(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Z(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function iC(){return iC=b(function*(n,e,t){const r=ge(n),i={requestType:"PASSWORD_RESET",email:e};t&&Gg(r,i,t),yield IJ(r,i)}),iC.apply(this,arguments)}function sC(){return sC=b(function*(n,e,t){yield PF(ge(n),{oobCode:e,newPassword:t})}),sC.apply(this,arguments)}function oC(){return oC=b(function*(n,e){yield bJ(ge(n),{oobCode:e})}),oC.apply(this,arguments)}function QF(n,e){return aC.apply(this,arguments)}function aC(){return aC=b(function*(n,e){const t=ge(n),r=yield PF(t,{oobCode:e}),i=r.requestType;switch(Z(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(r.mfaInfo,t,"internal-error");default:Z(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=Wg._fromServerResponse(In(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}),aC.apply(this,arguments)}function uC(){return uC=b(function*(n,e){const{data:t}=yield QF(ge(n),e);return t.email}),uC.apply(this,arguments)}function lC(){return lC=b(function*(n,e,t){const r=In(n),i=yield jF(r,{returnSecureToken:!0,email:e,password:t}),s=yield Jr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),lC.apply(this,arguments)}function cC(){return cC=b(function*(n,e,t){const r=ge(n),i={requestType:"EMAIL_SIGNIN",email:e};Z(t.handleCodeInApp,r,"argument-error"),t&&Gg(r,i,t),yield TJ(r,i)}),cC.apply(this,arguments)}function dC(){return dC=b(function*(n,e,t){const r=ge(n),i=$0.credentialWithLink(e,t||Zd());return Z(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qg(r,i)}),dC.apply(this,arguments)}function ZJ(n,e){return hC.apply(this,arguments)}function hC(){return hC=b(function*(n,e){return Dn(n,"POST","/v1/accounts:createAuthUri",ln(n,e))}),hC.apply(this,arguments)}function fC(){return fC=b(function*(n,e){const r={identifier:e,continueUri:h0()?Zd():"http://localhost"},{signinMethods:i}=yield ZJ(ge(n),r);return i||[]}),fC.apply(this,arguments)}function pC(){return pC=b(function*(n,e){const t=ge(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&Gg(t.auth,i,e);const{email:s}=yield DJ(t.auth,i);s!==n.email&&(yield n.reload())}),pC.apply(this,arguments)}function gC(){return gC=b(function*(n,e,t){const r=ge(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&Gg(r.auth,s,t);const{email:o}=yield SJ(r.auth,s);o!==n.email&&(yield n.reload())}),gC.apply(this,arguments)}function rZ(n,e){return mC.apply(this,arguments)}function mC(){return mC=b(function*(n,e){return Dn(n,"POST","/v1/accounts:update",e)}),mC.apply(this,arguments)}function vC(){return vC=b(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=ge(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=yield ks(r,rZ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),vC.apply(this,arguments)}function YF(n,e,t){return yC.apply(this,arguments)}function yC(){return yC=b(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const o=yield ks(n,LF(r,s));yield n._updateTokensIfNecessary(o,!0)}),yC.apply(this,arguments)}class El{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class XF extends El{constructor(e,t,r,i){super(e,t,r),this.username=i}}class uZ extends El{constructor(e,t){super(e,"facebook.com",t)}}class lZ extends XF{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class cZ extends El{constructor(e,t){super(e,"google.com",t)}}class dZ extends XF{constructor(e,t,r){super(e,"twitter.com",t,r)}}function hZ(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function aZ(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&(null==n?void 0:n.idToken)){const o=null===(t=null===(e=Bg(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(o)return new El(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new uZ(s,i);case"github.com":return new lZ(s,i);case"google.com":return new cZ(s,i);case"twitter.com":return new dZ(s,i,n.screenName||null);case"custom":case"anonymous":return new El(s,null);default:return new El(s,r,i)}}(t)}class Ia{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new Ia("enroll",e)}static _fromMfaPendingCredential(e){return new Ia("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Ia._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(r=e.multiFactorSession)||void 0===r?void 0:r.idToken)return Ia._fromIdtoken(e.multiFactorSession.idToken)}return null}}class wC{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=In(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Wg._fromServerResponse(r,a));Z(i.mfaPendingCredential,r,"internal-error");const o=Ia._fromMfaPendingCredential(i.mfaPendingCredential);return new wC(o,s,function(){var a=b(function*(u){const l=yield u._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(t.operationType){case"signIn":const f=yield Jr._fromIdTokenResponse(r,t.operationType,d);return yield r._updateCurrentUser(f.user),f;case"reauthenticate":return Z(t.user,r,"internal-error"),Jr._forOperation(t.user,t.operationType,d);default:Cn(r,"internal-error")}});return function(u){return a.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return b(function*(){return t.signInResolver(e)})()}}function pZ(n,e){return Dn(n,"POST","/v2/accounts/mfaEnrollment:start",ln(n,e))}class EC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Wg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new EC(e)}getSession(){var e=this;return b(function*(){return Ia._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var r=this;return b(function*(){const i=e,s=yield r.getSession(),o=yield ks(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(o),r.user.reload()})()}unenroll(e){var t=this;return b(function*(){var r;const i="string"==typeof e?e:e.uid,s=yield t.user.getIdToken(),o=yield ks(t.user,function mZ(n,e){return Dn(n,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(n,e))}(t.user.auth,{idToken:s,mfaEnrollmentId:i}));t.enrolledFactors=t.enrolledFactors.filter(({uid:a})=>a!==i),yield t.user._updateTokensIfNecessary(o);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==(null===(r=a)||void 0===r?void 0:r.code))throw a}})()}}const bC=new WeakMap,zg="__sak";class JF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zg,"1"),this.storage.removeItem(zg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Kg=(()=>{class n extends JF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yZ(){const n=bt();return T0(n)||ml(n)}()&&function mJ(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=MF(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function gJ(){return J_()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return b(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return b(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return b(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),bo=(()=>{class n extends JF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let bZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return b(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(u).map(function(){var f=b(function*(g){return g(i.origin,a)});return function(g){return f.apply(this,arguments)}}()),d=yield function EZ(n){return Promise.all(n.map(function(){var e=b(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function uh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class CZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return b(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,l)=>{const d=uh("",20);s.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function cn(){return window}function CC(){return void 0!==cn().WorkerGlobalScope&&"function"==typeof cn().importScripts}function DC(){return(DC=b(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const ZF="firebaseLocalStorageDb",Qg="firebaseLocalStorage",eV="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yg(n,e){return n.transaction([Qg],e?"readwrite":"readonly").objectStore(Qg)}function IC(){const n=indexedDB.open(ZF,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qg,{keyPath:eV})}catch(i){t(i)}}),n.addEventListener("success",b(function*(){const r=n.result;r.objectStoreNames.contains(Qg)?e(r):(r.close(),yield function xZ(){const n=indexedDB.deleteDatabase(ZF);return new lh(n).toPromise()}(),e(yield IC()))}))})}function tV(n,e,t){return TC.apply(this,arguments)}function TC(){return TC=b(function*(n,e,t){const r=Yg(n,!0).put({[eV]:e,value:t});return new lh(r).toPromise()}),TC.apply(this,arguments)}function SC(){return SC=b(function*(n,e){const t=Yg(n,!1).get(e),r=yield new lh(t).toPromise();return void 0===r?null:r.value}),SC.apply(this,arguments)}function nV(n,e){const t=Yg(n,!0).delete(e);return new lh(t).toPromise()}const bl=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return b(function*(){return t.db||(t.db=yield IC()),t.db})()}_withRetries(t){var r=this;return b(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return b(function*(){return CC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return b(function*(){t.receiver=bZ._getInstance(function SZ(){return CC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=b(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=b(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return b(function*(){var r,i;if(t.activeServiceWorker=yield function IZ(){return DC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new CZ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return b(function*(){if(r.sender&&r.activeServiceWorker&&function TZ(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return b(function*(){try{if(!indexedDB)return!1;const t=yield IC();return yield tV(t,zg,"1"),yield nV(t,zg),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return b(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return b(function*(){return i._withPendingWrite(b(function*(){return yield i._withRetries(s=>tV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return b(function*(){const i=yield r._withRetries(s=>function MZ(n,e){return SC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return b(function*(){return r._withPendingWrite(b(function*(){return yield r._withRetries(i=>nV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return b(function*(){const r=yield t._withRetries(o=>{const a=Yg(o,!1).getAll();return new lh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(b(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function RZ(n,e){return Dn(n,"POST","/v2/accounts/mfaSignIn:start",ln(n,e))}function AC(){return AC=b(function*(n){return(yield Dn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}),AC.apply(this,arguments)}function rV(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Nn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function LZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function iV(n){return`__${n}${Math.floor(1e6*Math.random())}`}const Xg=1e12;class BZ{constructor(e){this.auth=e,this.counter=Xg,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new UZ(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Xg;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Xg))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return b(function*(){var r;return null===(r=t._widgets.get(e||Xg))||void 0===r||r.execute(),""})()}}class UZ{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;Z(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function jZ(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(r){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(r){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xC=iV("rcb"),HZ=new eh(3e4,6e4);class qZ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=cn().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return Z(function WZ(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(cn().grecaptcha):new Promise((r,i)=>{const s=cn().setTimeout(()=>{i(Nn(e,"network-request-failed"))},HZ.get());cn()[xC]=()=>{cn().clearTimeout(s),delete cn()[xC];const a=cn().grecaptcha;if(!a)return void i(Nn(e,"internal-error"));const u=a.render;a.render=(l,d)=>{const f=u(l,d);return this.counter++,f},this.hostLanguage=t,r(a)},rV(`https://www.google.com/recaptcha/api.js??${Ou({onload:xC,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),i(Nn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=cn().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class GZ{load(e){return b(function*(){return new BZ(e)})()}clearedOneInstance(){}}const sV="recaptcha",zZ={theme:"light",type:"image"};class KZ{constructor(e,t=Object.assign({},zZ),r){this.parameters=t,this.type=sV,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(r),this.isInvisible="invisible"===this.parameters.size,Z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;Z(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GZ:new qZ,this.validateStartingState()}verify(){var e=this;return b(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(s=>{const o=a=>{!a||(e.tokenChangeListeners.delete(o),s(a))};e.tokenChangeListeners.add(o),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=cn()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return b(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return b(function*(){Z(h0()&&!CC(),e.auth,"internal-error"),yield function QZ(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function PZ(n){return AC.apply(this,arguments)}(e.auth);Z(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class MC{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Da._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function kC(){return kC=b(function*(n,e,t){const r=In(n),i=yield Jg(r,e,ge(t));return new MC(i,s=>qg(r,s))}),kC.apply(this,arguments)}function OC(){return OC=b(function*(n,e,t){const r=ge(n);yield $g(!1,r,"phone");const i=yield Jg(r.auth,e,ge(t));return new MC(i,s=>zF(r,s))}),OC.apply(this,arguments)}function RC(){return RC=b(function*(n,e,t){const r=ge(n),i=yield Jg(r.auth,e,ge(t));return new MC(i,s=>KF(r,s))}),RC.apply(this,arguments)}function Jg(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=b(function*(n,e,t){var r;const i=yield t.verify();try{let s;if(Z("string"==typeof i,n,"argument-error"),Z(t.type===sV,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const o=s.session;if("phoneNumber"in s)return Z("enroll"===o.type,n,"internal-error"),(yield pZ(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Z("signin"===o.type,n,"internal-error");const a=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return Z(a,n,"missing-multi-factor-info"),(yield RZ(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield kJ(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{t._reset()}}),NC.apply(this,arguments)}function PC(){return PC=b(function*(n,e){yield z0(ge(n),e)}),PC.apply(this,arguments)}let ch=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=In(t)}verifyPhoneNumber(t,r){return Jg(this.auth,t,ge(r))}static credential(t,r){return Da._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?Da._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function Ta(n,e){return e?kr(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class LC extends vl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Os(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Os(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Os(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eee(n){return GF(n.auth,new LC(n),n.bypassAuthState)}function tee(n){const{auth:e,user:t}=n;return Z(t,e,"internal-error"),WF(t,new LC(n),n.bypassAuthState)}function nee(n){return FC.apply(this,arguments)}function FC(){return FC=b(function*(n){const{auth:e,user:t}=n;return Z(t,e,"internal-error"),z0(t,new LC(n),n.bypassAuthState)}),FC.apply(this,arguments)}class oV{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=b(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return b(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(l))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eee;case"linkViaPopup":case"linkViaRedirect":return nee;case"reauthViaPopup":case"reauthViaRedirect":return tee;default:Cn(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ree=new eh(2e3,1e4);function VC(){return VC=b(function*(n,e,t){const r=In(n);fl(n,e,Rs);const i=Ta(r,t);return new jC(r,"signInViaPopup",e,i).executeNotNull()}),VC.apply(this,arguments)}function BC(){return BC=b(function*(n,e,t){const r=ge(n);fl(r.auth,e,Rs);const i=Ta(r.auth,t);return new jC(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}),BC.apply(this,arguments)}function UC(){return UC=b(function*(n,e,t){const r=ge(n);fl(r.auth,e,Rs);const i=Ta(r.auth,t);return new jC(r.auth,"linkViaPopup",e,i,r).executeNotNull()}),UC.apply(this,arguments)}let jC=(()=>{class n extends oV{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return b(function*(){const r=yield t.execute();return Z(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return b(function*(){Di(1===t.filter.length,"Popup operations only handle one event");const r=uh();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Nn(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,ree.get())};t()}}return n.currentPopupAction=null,n})();const dh=new Map;class uee extends oV{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return b(function*(){let r=dh.get(t.auth._key());if(!r){try{const s=(yield function lee(n,e){return HC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}dh.set(t.auth._key(),r)}return t.bypassAuthState||dh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return b(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return b(function*(){})()}cleanUp(){}}function HC(){return HC=b(function*(n,e){const t=uV(e),r=aV(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),HC.apply(this,arguments)}function $C(n,e){return qC.apply(this,arguments)}function qC(){return qC=b(function*(n,e){return aV(n)._set(uV(e),"true")}),qC.apply(this,arguments)}function WC(n,e){dh.set(n._key(),e)}function aV(n){return kr(n._redirectPersistence)}function uV(n){return Ca("pendingRedirect",n.config.apiKey,n.name)}function GC(){return GC=b(function*(n,e,t){const r=In(n);fl(n,e,Rs);const i=Ta(r,t);return yield $C(i,r),i._openRedirect(r,e,"signInViaRedirect")}),GC.apply(this,arguments)}function zC(){return zC=b(function*(n,e,t){const r=ge(n);fl(r.auth,e,Rs);const i=Ta(r.auth,t);yield $C(i,r.auth);const s=yield lV(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}),zC.apply(this,arguments)}function KC(){return KC=b(function*(n,e,t){const r=ge(n);fl(r.auth,e,Rs);const i=Ta(r.auth,t);yield $g(!1,r,e.providerId),yield $C(i,r.auth);const s=yield lV(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}),KC.apply(this,arguments)}function QC(){return QC=b(function*(n,e){return yield In(n)._initializationPromise,Zg(n,e,!1)}),QC.apply(this,arguments)}function Zg(n,e){return YC.apply(this,arguments)}function YC(){return YC=b(function*(n,e,t=!1){const r=In(n),i=Ta(r,e),o=yield new uee(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),YC.apply(this,arguments)}function lV(n){return XC.apply(this,arguments)}function XC(){return XC=b(function*(n){const e=uh(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e}),XC.apply(this,arguments)}class cV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function _ee(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hV(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!hV(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Nn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dV(e))}saveEventToCache(e){this.cachedEventUids.add(dV(e)),this.lastProcessedEventTime=Date.now()}}function dV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hV({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function fV(n){return JC.apply(this,arguments)}function JC(){return JC=b(function*(n,e={}){return Dn(n,"GET","/v1/projects",e)}),JC.apply(this,arguments)}const wee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eee=/^https?/;function ZC(){return ZC=b(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield fV(n);for(const t of e)try{if(Cee(t))return}catch(r){}Cn(n,"unauthorized-domain")}),ZC.apply(this,arguments)}function Cee(n){const e=Zd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!Eee.test(t))return!1;if(wee.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dee=new eh(3e4,6e4);function pV(){const n=cn().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let em=null;function Tee(n){return em=em||function Iee(n){return new Promise((e,t)=>{var r,i,s;function o(){pV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pV(),t(Nn(n,"network-request-failed"))},timeout:Dee.get()})}if(null===(i=null===(r=cn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=cn().gapi)||void 0===s?void 0:s.load)){const a=iV("iframefcb");return cn()[a]=()=>{gapi.load?o():t(Nn(n,"network-request-failed"))},rV(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw em=null,e})}(n),em}const See=new eh(5e3,15e3),Mee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Oee(n){const e=n.config;Z(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?f0(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:qo},i=kee.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ou(r).slice(1)}`}function eD(){return eD=b(function*(n){const e=yield Tee(n),t=cn().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:Oee(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mee,dontclear:!0},r=>new Promise(function(){var i=b(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Nn(n,"network-request-failed"),u=cn().setTimeout(()=>{o(a)},See.get());function l(){cn().clearTimeout(u),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),eD.apply(this,arguments)}const Nee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function tD(n,e,t,r,i,s){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qo,eventId:i};if(e instanceof Rs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function s6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,l]of Object.entries(s||{}))o[u]=l}if(e instanceof yl){const u=e.getScopes().filter(l=>""!==l);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function $ee({config:n}){return n.emulator?f0(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Ou(a).slice(1)}`}const nD="webStorageSupport";class rD extends class Wee{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ji("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rD(e)}_finalizeEnroll(e,t,r){return function gZ(n,e){return Dn(n,"POST","/v2/accounts/mfaEnrollment:finalize",ln(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function NZ(n,e){return Dn(n,"POST","/v2/accounts/mfaSignIn:finalize",ln(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gee=(()=>{class n{constructor(){}static assertion(t){return rD._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var vV="@firebase/auth";class zee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return b(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sa(){return window}function iD(){return iD=b(function*(n,e,t){var r;const{BuildInfo:i}=Sa();Di(e.sessionId,"AuthEvent did not contain a session ID");const s=yield nte(e.sessionId),o={};return ml()?o.ibi=i.packageName:sh()?o.apn=i.packageName:Cn(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,tD(n,t,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,o)}),iD.apply(this,arguments)}function sD(){return sD=b(function*(n){const{BuildInfo:e}=Sa(),t={};ml()?t.iosBundleId=e.packageName:sh()?t.androidPackageName=e.packageName:Cn(n,"operation-not-supported-in-this-environment"),yield fV(n,t)}),sD.apply(this,arguments)}function oD(){return oD=b(function*(n,e,t){const{cordova:r}=Sa();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var f;s();const g=null===(f=r.plugins.browsertab)||void 0===f?void 0:f.close;"function"==typeof g&&g(),"function"==typeof(null==t?void 0:t.close)&&t.close()}function l(){a||(a=window.setTimeout(()=>{o(Nn(n,"redirect-cancelled-by-user"))},2e3))}function d(){"visible"===(null==document?void 0:document.visibilityState)&&l()}e.addPassiveListener(u),document.addEventListener("resume",l,!1),sh()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}),oD.apply(this,arguments)}function nte(n){return aD.apply(this,arguments)}function aD(){return aD=b(function*(n){const e=rte(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}),aD.apply(this,arguments)}function rte(n){if(Di(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}!function Qee(n){eo(new qi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{Z(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Z(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kF(n)},d=new yJ(a,u,l);return function YX(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(kr);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(d,t),d})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),eo(new qi("auth-internal",e=>{const t=In(e.getProvider("auth").getImmediate());return new zee(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(vV,"0.20.5",function Kee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Wi(vV,"0.20.5","esm2017")}("Browser");class ste extends cV{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return b(function*(){yield e.initPromise})()}}function _V(n){return uD.apply(this,arguments)}function uD(){return uD=b(function*(n){const e=yield lD()._get(cD(n));return e&&(yield lD()._remove(cD(n))),e}),uD.apply(this,arguments)}function lte(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<20;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function lD(){return kr(Kg)}function cD(n){return Ca("authEvent",n.config.apiKey,n.name)}function tm(n){if(!(null==n?void 0:n.includes("?")))return{};const[e,...t]=n.split("?");return Ru(t.join("?"))}function wV(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Nn("no-auth-event")}}function hh(){var n;return(null===(n=null==self?void 0:self.location)||void 0===n?void 0:n.protocol)||null}function EV(n=bt()){return!("file:"!==hh()&&"ionic:"!==hh()&&"capacitor:"!==hh()||!n.toLowerCase().match(/iphone|ipad|ipod|android/))}function bV(){try{const n=self.localStorage,e=uh();if(n)return n.setItem(e,"1"),n.removeItem(e),!function Cte(n=bt()){return function Ete(){return J_()&&11===(null==document?void 0:document.documentMode)}()||function bte(n=bt()){return/Edge\/\d+/.test(n)}(n)}()||$c()}catch(n){return dD()&&$c()}return!1}function dD(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function hD(){return(function _te(){return"http:"===hh()||"https:"===hh()}()||X_()||EV())&&!function wte(){return wp()||Y_()}()&&bV()&&!dD()}function CV(){return EV()&&"undefined"!=typeof document}function fD(){return fD=b(function*(){return!!CV()&&new Promise(n=>{const e=setTimeout(()=>{n(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})})}),fD.apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},fh=Z,DV="persistence";function pD(n){return gD.apply(this,arguments)}function gD(){return gD=b(function*(n){yield n._initializationPromise;const e=IV(),t=Ca(DV,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}),gD.apply(this,arguments)}function IV(){var n;try{return(null===(n=function Ite(){return"undefined"!=typeof window?window:null}())||void 0===n?void 0:n.sessionStorage)||null}catch(e){return null}}const Ate=Z;class Co{constructor(){this.browserResolver=kr(class qee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bo,this._completeRedirectFn=Zg,this._overrideRedirectResult=WC}_openPopup(e,t,r,i){var s=this;return b(function*(){var o;Di(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=tD(e,t,r,Zd(),i);return function Bee(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Nee),{width:r.toString(),height:i.toString(),top:s,left:o}),l=bt().toLowerCase();t&&(a=TF(l)?"_blank":t),IF(l)&&(e=e||"http://localhost",u.scrollbars="yes");const d=Object.entries(u).reduce((g,[_,D])=>`${g}${_}=${D},`,"");if(function pJ(n=bt()){var e;return ml(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function Uee(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new gV(null);const f=window.open(e||"",a,d);Z(f,n,"popup-blocked");try{f.focus()}catch(g){}return new gV(f)}(e,a,uh())})()}_openRedirect(e,t,r,i){var s=this;return b(function*(){return yield s._originValidation(e),function DZ(n){cn().location.href=n}(tD(e,t,r,Zd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Di(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return b(function*(){const r=yield function Ree(n){return eD.apply(this,arguments)}(e),i=new cV(e);return r.register("authEvent",s=>(Z(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nD,{type:nD},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[nD];void 0!==o&&t(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function bee(n){return ZC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MF()||T0()||ml()}}),this.cordovaResolver=kr(class fte{constructor(){this._redirectPersistence=bo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zg,this._overrideRedirectResult=WC}_initialize(e){var t=this;return b(function*(){const r=e._key();let i=t.eventManagers.get(r);return i||(i=new ste(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i})()}_openPopup(e){Cn(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){var s=this;return b(function*(){!function tte(n){var e,t,r,i,s,o,a,u,l,d;const f=Sa();Z("function"==typeof(null===(e=null==f?void 0:f.universalLinks)||void 0===e?void 0:e.subscribe),n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(void 0!==(null===(t=null==f?void 0:f.BuildInfo)||void 0===t?void 0:t.packageName),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(s=null===(i=null===(r=null==f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(u=null===(a=null===(o=null==f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(d=null===(l=null==f?void 0:f.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===d?void 0:d.open),n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const o=yield s._initialize(e);yield o.initialized(),o.resetRedirect(),function cee(){dh.clear()}(),yield s._originValidation(e);const a=function ote(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:lte(),postBody:null,tenantId:n.tenantId,error:Nn(n,"no-auth-event")}}(e,r,i);yield function ate(n,e){return lD()._set(cD(n),e)}(e,a);const u=yield function Xee(n,e,t){return iD.apply(this,arguments)}(e,a,t),l=yield function Zee(n){const{cordova:e}=Sa();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,function fJ(n=bt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}()?"_blank":"_system","location=yes"),t(i)})})}(u);return function ete(n,e,t){return oD.apply(this,arguments)}(e,o,l)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Jee(n){return sD.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Sa(),o=setTimeout(b(function*(){yield _V(e),t.onEvent(wV())}),500),a=function(){var d=b(function*(f){clearTimeout(o);const g=yield _V(e);let _=null;g&&(null==f?void 0:f.url)&&(_=function ute(n,e){var t,r;const i=function dte(n){const e=tm(n),t=e.link?decodeURIComponent(e.link):void 0,r=tm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return tm(i).link||i||r||t||n}(e);if(i.includes("/__/auth/callback")){const s=tm(i),o=s.firebaseError?function cte(n){try{return JSON.parse(n)}catch(e){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(t=null==o?void 0:o.code)||void 0===t?void 0:t.split("auth/"))||void 0===r?void 0:r[1],u=a?Nn(a):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}(g,f.url)),t.onEvent(_||wV())});return function(g){return d.apply(this,arguments)}}();void 0!==r&&"function"==typeof r.subscribe&&r.subscribe(null,a);const u=i,l=`${s.packageName.toLowerCase()}://`;Sa().handleOpenURL=function(){var d=b(function*(f){if(f.toLowerCase().startsWith(l)&&a({url:f}),"function"==typeof u)try{u(f)}catch(g){console.error(g)}});return function(f){return d.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=bo,this._completeRedirectFn=Zg,this._overrideRedirectResult=WC}_initialize(e){var t=this;return b(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,r,i){var s=this;return b(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,r,i)})()}_openRedirect(e,t,r,i){var s=this;return b(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,r,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return CV()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ate(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return b(function*(){if(e.underlyingResolver)return;const t=yield function Dte(){return fD.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function TV(n){return n.unwrap()}function Mte(n){return SV(n)}function SV(n){const{_tokenResponse:e}=n instanceof Sr?n.customData:n;if(!e)return null;if(!(n instanceof Sr)&&"temporaryProof"in e&&"phoneNumber"in e)return ch.credentialFromResult(n);const t=e.providerId;if(!t||"password"===t)return null;let r;switch(t){case"google.com":r=VF;break;case"facebook.com":r=FF;break;case"github.com":r=BF;break;case"twitter.com":r=UF;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return s||o||i||a?a?t.startsWith("saml.")?wl._create(t,a):Zi._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:i,accessToken:s}):new _l(t).credential({idToken:i,accessToken:s,rawNonce:u}):null}return n instanceof Sr?r.credentialFromError(n):r.credentialFromResult(n)}function gr(n,e){return e.catch(t=>{throw t instanceof Sr&&function kte(n,e){var t,r;const i=null===(t=e.customData)||void 0===t?void 0:t._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=e)||void 0===r?void 0:r.code))e.resolver=new Ote(n,function fZ(n,e){var t;const r=ge(n),i=e;return Z(e.customData.operationType,r,"argument-error"),Z(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),wC._fromError(r,i)}(n,e));else if(i){const s=SV(e),o=e;s&&(o.credential=s,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}(n,t),t}).then(t=>{const i=t.user;return{operationType:t.operationType,credential:Mte(t),additionalUserInfo:hZ(t),user:Ns.getOrCreate(i)}})}function mD(n,e){return vD.apply(this,arguments)}function vD(){return vD=b(function*(n,e){const t=yield e;return{verificationId:t.verificationId,confirm:r=>gr(n,t.confirm(r))}}),vD.apply(this,arguments)}class Ote{constructor(e,t){this.resolver=t,this.auth=function xte(n){return n.wrapped()}(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return gr(TV(this.auth),this.resolver.resolveSignIn(e))}}class Ns{constructor(e){this._delegate=e,this.multiFactor=function vZ(n){const e=ge(n);return bC.has(e)||bC.set(e,EC._fromUser(e)),bC.get(e)}(e)}static getOrCreate(e){return Ns.USER_MAP.has(e)||Ns.USER_MAP.set(e,new Ns(e)),Ns.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return b(function*(){return gr(t.auth,zF(t._delegate,e))})()}linkWithPhoneNumber(e,t){var r=this;return b(function*(){return mD(r.auth,function XZ(n,e,t){return OC.apply(this,arguments)}(r._delegate,e,t))})()}linkWithPopup(e){var t=this;return b(function*(){return gr(t.auth,function oee(n,e,t){return UC.apply(this,arguments)}(t._delegate,e,Co))})()}linkWithRedirect(e){var t=this;return b(function*(){return yield pD(In(t.auth)),function gee(n,e,t){return function mee(n,e,t){return KC.apply(this,arguments)}(n,e,t)}(t._delegate,e,Co)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return b(function*(){return gr(t.auth,KF(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return mD(this.auth,function JZ(n,e,t){return RC.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return gr(this.auth,function see(n,e,t){return BC.apply(this,arguments)}(this._delegate,e,Co))}reauthenticateWithRedirect(e){var t=this;return b(function*(){return yield pD(In(t.auth)),function fee(n,e,t){return function pee(n,e,t){return zC.apply(this,arguments)}(n,e,t)}(t._delegate,e,Co)})()}sendEmailVerification(e){return function tZ(n,e){return pC.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return b(function*(){return yield function jJ(n,e){return G0.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function sZ(n,e){return YF(ge(n),e,null)}(this._delegate,e)}updatePassword(e){return function oZ(n,e){return YF(ge(n),null,e)}(this._delegate,e)}updatePhoneNumber(e){return function ZZ(n,e){return PC.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function iZ(n,e){return vC.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function nZ(n,e,t){return gC.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ns.USER_MAP=new WeakMap;const ph=Z;let AV=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized())return this._delegate=r.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:i}=t.options;ph(i,"invalid-api-key",{appName:t.name}),ph(i,"invalid-api-key",{appName:t.name});const s="undefined"!=typeof window?Co:void 0;this._delegate=r.initialize({options:{persistence:Rte(i,t.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(zX),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ns.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){!function _J(n,e,t){const r=In(n);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=RF(e),{host:o,port:a}=function wJ(n){const e=RF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:NF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function EJ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(this._delegate,t,r)}applyActionCode(t){return function GJ(n,e){return oC.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return QF(this._delegate,t)}confirmPasswordReset(t,r){return function WJ(n,e,t){return sC.apply(this,arguments)}(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){var i=this;return b(function*(){return gr(i._delegate,function KJ(n,e,t){return lC.apply(this,arguments)}(i._delegate,t,r))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function eZ(n,e){return fC.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function XJ(n,e){const t=ah.parseLink(e);return"EMAIL_SIGNIN"===(null==t?void 0:t.operation)}(0,t)}getRedirectResult(){var t=this;return b(function*(){ph(hD(),t._delegate,"operation-not-supported-in-this-environment");const r=yield function vee(n,e){return QC.apply(this,arguments)}(t._delegate,Co);return r?gr(t._delegate,Promise.resolve(r)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function gte(n,e){In(n)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,r,i){const{next:s,error:o,complete:a}=xV(t,r,i);return this._delegate.onAuthStateChanged(s,o,a)}onIdTokenChanged(t,r,i){const{next:s,error:o,complete:a}=xV(t,r,i);return this._delegate.onIdTokenChanged(s,o,a)}sendSignInLinkToEmail(t,r){return function YJ(n,e,t){return cC.apply(this,arguments)}(this._delegate,t,r)}sendPasswordResetEmail(t,r){return function qJ(n,e,t){return iC.apply(this,arguments)}(this._delegate,t,r||void 0)}setPersistence(t){var r=this;return b(function*(){let i;switch(function Tte(n,e){fh(Object.values(Or).includes(e),n,"invalid-persistence-type"),wp()?fh(e!==Or.SESSION,n,"unsupported-persistence-type"):Y_()?fh(e===Or.NONE,n,"unsupported-persistence-type"):dD()?fh(e===Or.NONE||e===Or.LOCAL&&$c(),n,"unsupported-persistence-type"):fh(e===Or.NONE||bV(),n,"unsupported-persistence-type")}(r._delegate,t),t){case Or.SESSION:i=bo;break;case Or.LOCAL:i=(yield kr(bl)._isAvailable())?bl:Kg;break;case Or.NONE:i=pl;break;default:return Cn("argument-error",{appName:r._delegate.name})}return r._delegate.setPersistence(i)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return gr(this._delegate,function UJ(n){return W0.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return gr(this._delegate,qg(this._delegate,t))}signInWithCustomToken(t){return gr(this._delegate,function $J(n,e){return nC.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,r){return gr(this._delegate,function QJ(n,e,t){return qg(ge(n),$0.credential(e,t))}(this._delegate,t,r))}signInWithEmailLink(t,r){return gr(this._delegate,function JJ(n,e,t){return dC.apply(this,arguments)}(this._delegate,t,r))}signInWithPhoneNumber(t,r){return mD(this._delegate,function YZ(n,e,t){return kC.apply(this,arguments)}(this._delegate,t,r))}signInWithPopup(t){var r=this;return b(function*(){return ph(hD(),r._delegate,"operation-not-supported-in-this-environment"),gr(r._delegate,function iee(n,e,t){return VC.apply(this,arguments)}(r._delegate,t,Co))})()}signInWithRedirect(t){var r=this;return b(function*(){return ph(hD(),r._delegate,"operation-not-supported-in-this-environment"),yield pD(r._delegate),function dee(n,e,t){return function hee(n,e,t){return GC.apply(this,arguments)}(n,e,t)}(r._delegate,t,Co)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function zJ(n,e){return uC.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=Or,n})();function xV(n,e,t){let r=n;"function"!=typeof n&&({next:r,error:e,complete:t}=n);const i=r;return{next:o=>i(o&&Ns.getOrCreate(o)),error:e,complete:t}}function Rte(n,e){const t=function Ste(n,e){const t=IV();if(!t)return[];const r=Ca(DV,n,e);switch(t.getItem(r)){case Or.NONE:return[pl];case Or.LOCAL:return[bl,bo];case Or.SESSION:return[bo];default:return[]}}(n,e);if("undefined"!=typeof self&&!t.includes(bl)&&t.push(bl),"undefined"!=typeof window)for(const r of[Kg,bo])t.includes(r)||t.push(r);return t.includes(pl)||t.push(pl),t}class yD{constructor(){this.providerId="phone",this._delegate=new ch(TV(bi.auth()))}static credential(e,t){return ch.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}yD.PHONE_SIGN_IN_METHOD=ch.PHONE_SIGN_IN_METHOD,yD.PROVIDER_ID=ch.PROVIDER_ID;const Nte=Z;class Pte{constructor(e,t,r=bi.app()){var i;Nte(null===(i=r.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new KZ(e,t,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fte(n){n.INTERNAL.registerComponent(new qi("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new AV(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$0,FacebookAuthProvider:FF,GithubAuthProvider:BF,GoogleAuthProvider:VF,OAuthProvider:_l,SAMLAuthProvider:jg,PhoneAuthProvider:yD,PhoneMultiFactorGenerator:Gee,RecaptchaVerifier:Pte,TwitterAuthProvider:UF,Auth:AV,AuthCredential:vl,Error:Sr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion("@firebase/auth-compat","0.2.18")}(bi);let gh=(()=>{class n{constructor(t){this.route=t}isAuthenticated(){const t=sessionStorage.getItem("userId");return t&&(this.userId=t),!!t}getUserId(){return this.userId}register(t,r){bi.auth().createUserWithEmailAndPassword(t,r).then(i=>{this.userId=i.user.email,sessionStorage.setItem("userId",i.user.email),Ea.toast({html:"User registered successfully!",classes:"green",inDuration:100,outDuration:100,displayLength:2e3})}).catch(i=>{console.log(i),Ea.toast({html:"Error: User registration un-successful!",classes:"red",inDuration:100,outDuration:100,displayLength:2e3})})}login(t,r){bi.auth().signInWithEmailAndPassword(t,r).then(i=>{this.userId=i.user.email,sessionStorage.setItem("userId",i.user.email),Ea.toast({html:"User Signed-in Successfully!",classes:"green",inDuration:100,outDuration:100,displayLength:2e3}),this.route.navigate(["/home"])}).catch(i=>{console.log(i),Ea.toast({html:"Error: User login un-successful!",classes:"red",inDuration:100,outDuration:100,displayLength:2e3})})}logOut(){bi.auth().signOut().then(()=>{this.userId=void 0,sessionStorage.removeItem("userId"),Ea.toast({html:"User logged-out Successfully!",classes:"yellow black-text",inDuration:100,outDuration:100,displayLength:2e3}),this.route.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(ye(er))},n.\u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MV=(()=>{class n{constructor(t){this.authserv=t}saveQuote(t){bi.firestore().collection("quotes").add({text:t,by:this.authserv.getUserId()}).then(()=>{Ea.toast({html:"Quote saved successfully!",classes:"green",inDuration:100,outDuration:100,displayLength:2e3})}).catch(r=>{console.log(r),Ea.toast({html:"Error creating quote!",classes:"red",inDuration:100,outDuration:100,displayLength:2e3})})}getAllQuotes(){return bi.firestore().collection("quotes").get()}}return n.\u0275fac=function(t){return new(t||n)(ye(gh))},n.\u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vte=(()=>{class n{constructor(t){this.dbServ=t,this.quote=new Ic("",[wc.required]),this.quoteForm=new Tc({quote:this.quote})}ngOnInit(){}save(){this.dbServ.saveQuote(this.quote.value)}reset(){this.quoteForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(K(MV))},n.\u0275cmp=Ai({type:n,selectors:[["app-create-quote"]],decls:12,vars:4,consts:[[1,"container",3,"formGroup"],["type","text",3,"formControl"],[1,"red-text",3,"hidden"],["type","button",1,"btn","green",3,"disabled","click"],["type","button",1,"btn","yellow","black-text",2,"margin","2%",3,"click"]],template:function(t,r){1&t&&(ae(0,"form",0),ae(1,"label"),ae(2,"h5"),ae(3,"b"),Ke(4,"Your Quote: "),ue(),ue(),ue(),rn(5,"input",1),ae(6,"h6",2),Ke(7,"This field is required."),ue(),ae(8,"button",3),zt("click",function(){return r.save()}),Ke(9,"Save"),ue(),ae(10,"button",4),zt("click",function(){return r.reset()}),Ke(11,"Reset"),ue(),ue()),2&t&&(nn("formGroup",r.quoteForm),mn(5),nn("formControl",r.quote),mn(1),nn("hidden",r.quote.valid||r.quote.untouched),mn(2),nn("disabled",r.quoteForm.invalid))},directives:[Zf,qf,Ac,Du,$f,ep],styles:[""]}),n})(),Bte=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ai({type:n,selectors:[["app-errorpage"]],decls:4,vars:0,consts:[[1,"red-text","center"]],template:function(t,r){1&t&&(ae(0,"div",0),ae(1,"h2"),ae(2,"b"),Ke(3,"ERROR 404 : Page Not Found"),ue(),ue(),ue())},styles:[""]}),n})(),Ute=(()=>{class n{transform(t){return t.split("@")[0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=zn({name:"usernamePipe",type:n,pure:!0}),n})();function jte(n,e){if(1&n&&(ae(0,"div"),ae(1,"h5"),Ke(2),ue(),ae(3,"h6",2),Ke(4),function vx(n,e){const t=Je();let r;const i=n+20;t.firstCreatePass?(r=function $q(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=xo(r.type)),o=Ls(K);try{const a=Uh(!1),u=s();return Uh(a),function aH(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,z(),i,u),u}finally{Ls(o)}}(5,"usernamePipe"),ue(),ue()),2&n){const t=e.$implicit;iA(e.even?"yellow":"lime"),mn(2),Xv(t.text),mn(2),ff("-- ",yx(5,4,t.by),"")}}const Hte=[{path:"login",component:(()=>{class n{constructor(t){this.authserv=t,this.email=new Ic("",[wc.required,wc.email]),this.password=new Ic("",[wc.required,wc.minLength(8)]),this.loginForm=new Tc({email:this.email,password:this.password})}ngOnInit(){}login(){this.authserv.login(this.loginForm.value.email,this.loginForm.value.password)}reset(){this.loginForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(K(gh))},n.\u0275cmp=Ai({type:n,selectors:[["app-login"]],decls:36,vars:6,consts:[[1,"container",3,"formGroup"],[1,"brown-text","center"],[1,"black-text"],[1,"red-text"],["type","email",3,"formControl"],[1,"red-text",3,"hidden"],["type","password",3,"formControl"],["type","button",1,"btn","green",3,"disabled","click"],["type","button",1,"btn","yellow","black-text",2,"margin","2%",3,"click"]],template:function(t,r){1&t&&(ae(0,"form",0),ae(1,"div",1),ae(2,"h4"),Ke(3,"Login Details"),ue(),ue(),rn(4,"br"),ae(5,"span"),ae(6,"label"),ae(7,"h5"),ae(8,"b",2),Ke(9,"Enter your email"),ae(10,"span",3),Ke(11,"*"),ue(),Ke(12," : "),ue(),ue(),ue(),rn(13,"input",4),ae(14,"h6",5),Ke(15,"Enter correct email"),ue(),ue(),rn(16,"br"),rn(17,"br"),ae(18,"span"),ae(19,"label"),ae(20,"h5"),ae(21,"b",2),Ke(22,"Enter your password"),ae(23,"span",3),Ke(24,"*"),ue(),Ke(25," : "),ue(),ue(),ue(),rn(26,"input",6),ae(27,"h6",5),Ke(28,"Enter correct password of atleast 8 characters"),ue(),ue(),rn(29,"br"),rn(30,"br"),ae(31,"div"),ae(32,"button",7),zt("click",function(){return r.login()}),Ke(33,"Login"),ue(),ae(34,"button",8),zt("click",function(){return r.reset()}),Ke(35,"Reset"),ue(),ue(),ue()),2&t&&(nn("formGroup",r.loginForm),mn(13),nn("formControl",r.email),mn(1),nn("hidden",r.email.valid||r.email.untouched),mn(12),nn("formControl",r.password),mn(1),nn("hidden",r.password.valid||r.password.untouched),mn(5),nn("disabled",r.loginForm.invalid))},directives:[Zf,qf,Ac,Du,$f,ep],styles:[""]}),n})()},{path:"register",component:(()=>{class n{constructor(t,r){this.route=t,this.authServ=r}ngOnInit(){}login(t){this.authServ.register(t.value.email,t.value.password),this.route.navigate(["/login"])}reset(t){t.reset()}}return n.\u0275fac=function(t){return new(t||n)(K(er),K(gh))},n.\u0275cmp=Ai({type:n,selectors:[["app-register"]],decls:39,vars:3,consts:[[1,"container"],["registerForm","ngForm"],[1,"brown-text","center"],[1,"black-text"],[1,"red-text"],["type","email","name","email","required","","pattern","^[\\w]+@[a-z]+\\.(com|in)$","ngModel",""],["email","ngModel"],[1,"red-text",3,"hidden"],["type","password","name","password","required","","minlength","8","ngModel",""],["password","ngModel"],["type","button",1,"btn","green",3,"disabled","click"],["type","button",1,"btn","yellow","black-text",2,"margin","2%",3,"click"]],template:function(t,r){if(1&t){const i=Gv();ae(0,"form",0,1),ae(2,"div",2),ae(3,"h4"),Ke(4,"Registration Form"),ue(),ue(),rn(5,"br"),ae(6,"span"),ae(7,"label"),ae(8,"h5"),ae(9,"b",3),Ke(10,"Enter your email"),ae(11,"span",4),Ke(12,"*"),ue(),Ke(13," : "),ue(),ue(),ue(),rn(14,"input",5,6),ae(16,"h6",7),Ke(17,"Enter correct email"),ue(),ue(),rn(18,"br"),rn(19,"br"),ae(20,"span"),ae(21,"label"),ae(22,"h5"),ae(23,"b",3),Ke(24,"Enter your password"),ae(25,"span",4),Ke(26,"*"),ue(),Ke(27," : "),ue(),ue(),ue(),rn(28,"input",8,9),ae(30,"h6",7),Ke(31,"Enter correct password of atleast 8 characters"),ue(),ue(),rn(32,"br"),rn(33,"br"),ae(34,"div"),ae(35,"button",10),zt("click",function(){Mh(i);const o=hu(1);return r.login(o)}),Ke(36,"Register"),ue(),ae(37,"button",11),zt("click",function(){Mh(i);const o=hu(1);return r.reset(o)}),Ke(38,"Reset"),ue(),ue(),ue()}if(2&t){const i=hu(1),s=hu(15),o=hu(29);mn(16),nn("hidden",s.valid||s.untouched),mn(14),nn("hidden",o.valid||o.untouched),mn(5),nn("disabled",i.invalid)}},directives:[Zf,qf,Jf,Du,tp,I_,$f,y_,D_],styles:[""]}),n})()},{path:"home",component:(()=>{class n{constructor(t){this.dbserv=t,this.allQuotes=[]}ngOnInit(){this.dbserv.getAllQuotes().then(t=>{this.allQuotes=t.docs.map(r=>r.data())})}}return n.\u0275fac=function(t){return new(t||n)(K(MV))},n.\u0275cmp=Ai({type:n,selectors:[["app-home"]],decls:2,vars:1,consts:[[1,"container",2,"background-color","lightsalmon"],[3,"class",4,"ngFor","ngForOf"],[2,"text-align","right"]],template:function(t,r){1&t&&(ae(0,"div",0),tc(1,jte,6,6,"div",1),ue()),2&t&&(mn(1),nn("ngForOf",r.allQuotes))},directives:[xM],pipes:[Ute],styles:[""]}),n})()},{path:"createQuote",component:Vte,canActivate:[(()=>{class n{constructor(t){this.authserv=t}canActivate(){return this.authserv.isAuthenticated()}}return n.\u0275fac=function(t){return new(t||n)(ye(gh))},n.\u0275prov=We({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:Bte}];let $te=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n}),n.\u0275inj=Br({imports:[[t1.forRoot(Hte)],t1]}),n})();const qte={apiKey:"AIzaSyA-MwKCYr9SZyPZQn8RIfjyYrGV-G6MaeU",authDomain:"quotes-app-678ca.firebaseapp.com",projectId:"quotes-app-678ca",storageBucket:"quotes-app-678ca.appspot.com",messagingSenderId:"156086974345",appId:"1:156086974345:web:f0795d3fb29ebb17559358"};function Wte(n,e){1&n&&(ae(0,"li",4),ae(1,"a",9),Ke(2,"Login"),ue(),ue())}function Gte(n,e){1&n&&(ae(0,"li",4),ae(1,"a",10),Ke(2,"Register"),ue(),ue())}function zte(n,e){if(1&n){const t=Gv();ae(0,"li"),ae(1,"button",11),zt("click",function(){return Mh(t),US().logout()}),Ke(2,"LogOut"),ue(),ue()}}let Kte=(()=>{class n{constructor(t){this.authserv=t}ngOnInit(){}isAuth(){return this.authserv.isAuthenticated()}logout(){this.authserv.logOut()}}return n.\u0275fac=function(t){return new(t||n)(K(gh))},n.\u0275cmp=Ai({type:n,selectors:[["app-navbar"]],decls:14,vars:3,consts:[[1,"brown"],[1,"nav-wrapper"],["routerLink","/",1,"brand-logo"],["id","nav-mobile",1,"right"],["routerLinkActive","active"],["routerLink","/home"],["routerLinkActive","active",4,"ngIf"],["routerLink","/createQuote"],[4,"ngIf"],["routerLink","/login"],["routerLink","/register"],["type","button",1,"btn","brown","orange-text",3,"click"]],template:function(t,r){1&t&&(ae(0,"nav",0),ae(1,"div",1),ae(2,"a",2),Ke(3,"QuotesApp"),ue(),ae(4,"ul",3),ae(5,"li",4),ae(6,"a",5),Ke(7,"Home"),ue(),ue(),tc(8,Wte,3,0,"li",6),tc(9,Gte,3,0,"li",6),ae(10,"li",4),ae(11,"a",7),Ke(12,"Create Quote"),ue(),ue(),tc(13,zte,3,0,"li",8),ue(),ue(),ue()),2&t&&(mn(8),nn("ngIf",!r.isAuth()),mn(1),nn("ngIf",!r.isAuth()),mn(4),nn("ngIf",r.isAuth()))},directives:[yp,YO,kM],styles:[""]}),n})(),Qte=(()=>{class n{constructor(){this.title="quotesApp"}ngOnInit(){bi.initializeApp(qte)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ai({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(ae(0,"div"),rn(1,"app-navbar"),rn(2,"router-outlet"),ue())},directives:[Kte,U_],styles:[""]}),n})(),Yte=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ui({type:n,bootstrap:[Qte]}),n.\u0275inj=Br({providers:[],imports:[[yz,$te,O8,k8]]}),n})();(function GW(){rM=!1})(),mz().bootstrapModule(Yte).catch(n=>console.error(n))},519:function(Wn,Tn){var es,Te=function v(I,O,R){null===I&&(I=Function.prototype);var E=Object.getOwnPropertyDescriptor(I,O);if(void 0===E){var m=Object.getPrototypeOf(I);return null===m?void 0:v(m,O,R)}if("value"in E)return E.value;var h=E.get;return void 0===h?void 0:h.call(R)},lt=function(){function v(I,O){for(var R=0;R<O.length;R++){var E=O[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,E.key,E)}}return function(I,O,R){return O&&v(I.prototype,O),R&&v(I,R),I}}();function ft(v,I){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?v:I}function yt(v,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);v.prototype=Object.create(I&&I.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(v,I):v.__proto__=I)}function ze(v,I){if(!(v instanceof I))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var W,v=document,I=window,O=Array.prototype,R=O.slice,E=O.filter,m=O.push,h=function(){},c=function(y){return typeof y==typeof h&&y.call},p=function(y){return"string"==typeof y},C=/^#[\w-]*$/,A=/^\.[\w-]*$/,k=/<.+>/,N=/^\w+$/;function B(y,w){return w=w||v,A.test(y)?w.getElementsByClassName(y.slice(1)):N.test(y)?w.getElementsByTagName(y):w.querySelectorAll(y)}function Q(y){if(!W){var w=(W=v.implementation.createHTMLDocument(null)).createElement("base");w.href=v.location.href,W.head.appendChild(w)}return W.body.innerHTML=y,W.body.childNodes}function q(y){"loading"!==v.readyState?y():v.addEventListener("DOMContentLoaded",y)}function ve(y,w){if(!y)return this;if(y.cash&&y!==I)return y;var Y,S=y,j=0;if(p(y))S=C.test(y)?v.getElementById(y.slice(1)):k.test(y)?Q(y):B(y,w);else if(c(y))return q(y),this;if(!S)return this;if(S.nodeType||S===I)this[0]=S,this.length=1;else for(Y=this.length=S.length;j<Y;j++)this[j]=S[j];return this}function ee(y,w){return new ve(y,w)}var he=ee.fn=ee.prototype=ve.prototype={cash:!0,length:0,push:m,splice:O.splice,map:O.map,init:ve};function Ue(y,w){for(var S=y.length,j=0;j<S&&!1!==w.call(y[j],y[j],j,y);j++);}function nt(y,w){var S=y&&(y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector);return!!S&&S.call(y,w)}function _t(y){return p(y)?nt:y.cash?function(w){return y.is(w)}:function(w,S){return w===S}}function st(y){return ee(R.call(y).filter(function(w,S,j){return j.indexOf(w)===S}))}Object.defineProperty(he,"constructor",{value:ee}),ee.parseHTML=Q,ee.noop=h,ee.isFunction=c,ee.isString=p,ee.extend=he.extend=function(y){y=y||{};var w=R.call(arguments),S=w.length,j=1;for(1===w.length&&(y=this,j=0);j<S;j++)if(w[j])for(var Y in w[j])w[j].hasOwnProperty(Y)&&(y[Y]=w[j][Y]);return y},ee.extend({merge:function(y,w){for(var S=+w.length,j=y.length,Y=0;Y<S;j++,Y++)y[j]=w[Y];return y.length=j,y},each:Ue,matches:nt,unique:st,isArray:Array.isArray,isNumeric:function(y){return!isNaN(parseFloat(y))&&isFinite(y)}});var rt=ee.uid="_cash"+Date.now();function Oe(y){return y[rt]=y[rt]||{}}function je(y,w,S){return Oe(y)[w]=S}function mr(y,w){var S=Oe(y);return void 0===S[w]&&(S[w]=y.dataset?y.dataset[w]:ee(y).attr("data-"+w)),S[w]}he.extend({data:function(y,w){if(p(y))return void 0===w?mr(this[0],y):this.each(function(j){return je(j,y,w)});for(var S in y)this.data(S,y[S]);return this},removeData:function(y){return this.each(function(w){return function Ps(y,w){var S=Oe(y);S?delete S[w]:y.dataset?delete y.dataset[w]:ee(y).removeAttr("data-"+name)}(w,y)})}});var Zr=/\S+/g;function Pn(y){return p(y)&&y.match(Zr)}function ei(y,w){return y.classList?y.classList.contains(w):new RegExp("(^| )"+w+"( |$)","gi").test(y.className)}function wt(y,w,S){y.classList?y.classList.add(w):S.indexOf(" "+w+" ")&&(y.className+=" "+w)}function ns(y,w){y.classList?y.classList.remove(w):y.className=y.className.replace(w,"")}he.extend({addClass:function(y){var w=Pn(y);return w?this.each(function(S){var j=" "+S.className+" ";Ue(w,function(Y){wt(S,Y,j)})}):this},attr:function(y,w){if(y){if(p(y))return void 0===w?this[0]?this[0].getAttribute?this[0].getAttribute(y):this[0][y]:void 0:this.each(function(j){j.setAttribute?j.setAttribute(y,w):j[y]=w});for(var S in y)this.attr(S,y[S]);return this}},hasClass:function(y){var w=!1,S=Pn(y);return S&&S.length&&this.each(function(j){return!(w=ei(j,S[0]))}),w},prop:function(y,w){if(p(y))return void 0===w?this[0][y]:this.each(function(j){j[y]=w});for(var S in y)this.prop(S,y[S]);return this},removeAttr:function(y){return this.each(function(w){w.removeAttribute?w.removeAttribute(y):delete w[y]})},removeClass:function(y){if(!arguments.length)return this.attr("class","");var w=Pn(y);return w?this.each(function(S){Ue(w,function(j){ns(S,j)})}):this},removeProp:function(y){return this.each(function(w){delete w[y]})},toggleClass:function(y,w){if(void 0!==w)return this[w?"addClass":"removeClass"](y);var S=Pn(y);return S?this.each(function(j){var Y=" "+j.className+" ";Ue(S,function(ce){ei(j,ce)?ns(j,ce):wt(j,ce,Y)})}):this}}),he.extend({add:function(y,w){return st(ee.merge(this,ee(y,w)))},each:function(y){return Ue(this,y),this},eq:function(y){return ee(this.get(y))},filter:function(y){if(!y)return this;var w=c(y)?y:_t(y);return ee(E.call(this,function(S){return w(S,y)}))},first:function(){return this.eq(0)},get:function(y){return void 0===y?R.call(this):y<0?this[y+this.length]:this[y]},index:function(y){var w=y?ee(y)[0]:this[0],S=y?this:ee(w).parent().children();return R.call(S).indexOf(w)},last:function(){return this.eq(-1)}});var y,w,ti=(y=/(?:^\w|[A-Z]|\b\w)/g,w=/[\s-_]+/g,function(S){return S.replace(y,function(j,Y){return j[0===Y?"toLowerCase":"toUpperCase"]()}).replace(w,"")}),ni=function(){var y={},j=document.createElement("div").style;return function(Y){if(Y=ti(Y),y[Y])return y[Y];var ce=Y.charAt(0).toUpperCase()+Y.slice(1);return Ue((Y+" "+["webkit","moz","ms","o"].join(ce+" ")+ce).split(" "),function(hn){if(hn in j)return y[hn]=Y=y[Y]=hn,!1}),y[Y]}}();function ar(y,w){return parseInt(I.getComputedStyle(y[0],null)[w],10)||0}function Rr(y,w,S){var ce,j=mr(y,"_cashEvents"),Y=j&&j[w];!Y||(S?(y.removeEventListener(w,S),(ce=Y.indexOf(S))>=0&&Y.splice(ce,1)):(Ue(Y,function(Ve){y.removeEventListener(w,Ve)}),Y=[]))}function ur(y,w){return"&"+encodeURIComponent(y)+"="+encodeURIComponent(w).replace(/%20/g,"+")}function rs(y){var w=y.type;if(!w)return null;switch(w.toLowerCase()){case"select-one":return function Nr(y){var w=y.selectedIndex;return w>=0?y.options[w].value:null}(y);case"select-multiple":return function _h(y){var w=[];return Ue(y.options,function(S){S.selected&&w.push(S.value)}),w.length?w:null}(y);case"radio":case"checkbox":return y.checked?y.value:null;default:return y.value?y.value:null}}function T(y,w,S){var j=p(w);j||!w.length?Ue(y,j?function(Y){return Y.insertAdjacentHTML(S?"afterbegin":"beforeend",w)}:function(Y,ce){return function ri(y,w,S){S?y.insertBefore(w,y.childNodes[0]):y.appendChild(w)}(Y,0===ce?w:w.cloneNode(!0),S)}):Ue(w,function(Y){return T(y,Y,S)})}ee.prefixedProp=ni,ee.camelCase=ti,he.extend({css:function(y,w){if(p(y))return y=ni(y),arguments.length>1?this.each(function(j){return j.style[y]=w}):I.getComputedStyle(this[0])[y];for(var S in y)this.css(S,y[S]);return this}}),Ue(["Width","Height"],function(y){var w=y.toLowerCase();he[w]=function(){return this[0].getBoundingClientRect()[w]},he["inner"+y]=function(){return this[0]["client"+y]},he["outer"+y]=function(S){return this[0]["offset"+y]+(S?ar(this,"margin"+("Width"===y?"Left":"Top"))+ar(this,"margin"+("Width"===y?"Right":"Bottom")):0)}}),he.extend({off:function(y,w){return this.each(function(S){return Rr(S,y,w)})},on:function(y,w,S,j){var Y;if(!p(y)){for(var ce in y)this.on(ce,w,y[ce]);return this}return c(w)&&(S=w,w=null),"ready"===y?(q(S),this):(w&&(Y=S,S=function(Ve){for(var pe=Ve.target;!nt(pe,w);){if(pe===this||null===pe)return!1;pe=pe.parentNode}pe&&Y.call(pe,Ve)}),this.each(function(Ve){var pe=S;j&&(pe=function(){S.apply(this,arguments),Rr(Ve,y,pe)}),function De(y,w,S){var j=mr(y,"_cashEvents")||je(y,"_cashEvents",{});j[w]=j[w]||[],j[w].push(S),y.addEventListener(w,S)}(Ve,y,pe)}))},one:function(y,w,S){return this.on(y,w,S,!0)},ready:q,trigger:function(y,w){if(document.createEvent){var S=document.createEvent("HTMLEvents");return S.initEvent(y,!0,!1),S=this.extend(S,w),this.each(function(j){return j.dispatchEvent(S)})}}}),he.extend({serialize:function(){var y="";return Ue(this[0].elements||this,function(w){if(!w.disabled&&"FIELDSET"!==w.tagName){var S=w.name;switch(w.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var j=rs(w);null!==j&&Ue(j,function(ce){y+=ur(S,ce)});break;default:var Y=rs(w);null!==Y&&(y+=ur(S,Y))}}}),y.substr(1)},val:function(y){return void 0===y?rs(this[0]):this.each(function(w){return w.value=y})}}),he.extend({after:function(y){return ee(y).insertAfter(this),this},append:function(y){return T(this,y),this},appendTo:function(y){return T(ee(y),this),this},before:function(y){return ee(y).insertBefore(this),this},clone:function(){return ee(this.map(function(y){return y.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(y){if(void 0===y)return this[0].innerHTML;var w=y.nodeType?y[0].outerHTML:y;return this.each(function(S){return S.innerHTML=w})},insertAfter:function(y){var w=this;return ee(y).each(function(S,j){var Y=S.parentNode,ce=S.nextSibling;w.each(function(Ve){Y.insertBefore(0===j?Ve:Ve.cloneNode(!0),ce)})}),this},insertBefore:function(y){var w=this;return ee(y).each(function(S,j){var Y=S.parentNode;w.each(function(ce){Y.insertBefore(0===j?ce:ce.cloneNode(!0),S)})}),this},prepend:function(y){return T(this,y,!0),this},prependTo:function(y){return T(ee(y),this,!0),this},remove:function(){return this.each(function(y){if(y.parentNode)return y.parentNode.removeChild(y)})},text:function(y){return void 0===y?this[0].textContent:this.each(function(w){return w.textContent=y})}});var L=v.documentElement;return he.extend({position:function(){var y=this[0];return{left:y.offsetLeft,top:y.offsetTop}},offset:function(){var y=this[0].getBoundingClientRect();return{top:y.top+I.pageYOffset-L.clientTop,left:y.left+I.pageXOffset-L.clientLeft}},offsetParent:function(){return ee(this[0].offsetParent)}}),he.extend({children:function(y){var w=[];return this.each(function(S){m.apply(w,S.children)}),w=st(w),y?w.filter(function(S){return nt(S,y)}):w},closest:function(y){return!y||this.length<1?ee():this.is(y)?this.filter(y):this.parent().closest(y)},is:function(y){if(!y)return!1;var w=!1,S=_t(y);return this.each(function(j){return!(w=S(j,y))}),w},find:function(y){if(!y||y.nodeType)return ee(y&&this.has(y).length?y:null);var w=[];return this.each(function(S){m.apply(w,B(y,S))}),st(w)},has:function(y){var w=p(y)?function(S){return 0!==B(y,S).length}:function(S){return S.contains(y)};return this.filter(w)},next:function(){return ee(this[0].nextElementSibling)},not:function(y){if(!y)return this;var w=_t(y);return this.filter(function(S){return!w(S,y)})},parent:function(){var y=[];return this.each(function(w){w&&w.parentNode&&y.push(w.parentNode)}),st(y)},parents:function(y){var w,S=[];return this.each(function(j){for(w=j;w&&w.parentNode&&w!==v.body.parentNode;)w=w.parentNode,(!y||y&&nt(w,y))&&S.push(w)}),st(S)},prev:function(){return ee(this[0].previousElementSibling)},siblings:function(y){var w=this.parent().children(y),S=this[0];return w.filter(function(j){return j!==S})}}),ee}();var v,It=function(){function v(I,O,R){ze(this,v),O instanceof Element||console.error(Error(O+" is not an HTML Element"));var E=I.getInstance(O);E&&E.destroy(),this.el=O,this.$el=cash(O)}return lt(v,null,[{key:"init",value:function(O,R,E){var m=null;if(R instanceof Element)m=new O(R,E);else if(R&&(R.jquery||R.cash||R instanceof NodeList)){for(var h=[],c=0;c<R.length;c++)h.push(new O(R[c],E));m=h}return m}}]),v}();(v=window).Package?M={}:v.M={},M.jQueryLoaded=!!v.jQuery,void 0!==(es=function(){return M}.apply(Tn,[]))&&(Wn.exports=es),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1,document.addEventListener("keydown",function(v){M.keyDown=!0,(v.which===M.keys.TAB||v.which===M.keys.ARROW_DOWN||v.which===M.keys.ARROW_UP)&&(M.tabPressed=!0)},!0),document.addEventListener("keyup",function(v){M.keyDown=!1,(v.which===M.keys.TAB||v.which===M.keys.ARROW_DOWN||v.which===M.keys.ARROW_UP)&&(M.tabPressed=!1)},!0),document.addEventListener("focus",function(v){M.keyDown&&document.body.classList.add("keyboard-focused")},!0),document.addEventListener("blur",function(v){document.body.classList.remove("keyboard-focused")},!0),M.initializeJqueryWrapper=function(v,I,O){jQuery.fn[I]=function(R){if(v.prototype[R]){var E=Array.prototype.slice.call(arguments,1);if("get"===R.slice(0,3)){var m=this.first()[0][O];return m[R].apply(m,E)}return this.each(function(){var h=this[O];h[R].apply(h,E)})}if("object"==typeof R||!R)return v.init(this,arguments[0]),this;jQuery.error("Method "+R+" does not exist on jQuery."+I)}},M.AutoInit=function(v){var I=v||document.body,O={Autocomplete:I.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:I.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:I.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:I.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:I.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:I.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:I.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:I.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:I.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:I.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:I.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:I.querySelectorAll("select:not(.no-autoinit)"),Sidenav:I.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:I.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:I.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:I.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:I.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:I.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var R in O)M[R].init(O[R])},M.objectSelectorString=function(v){return((v.prop("tagName")||"")+(v.attr("id")||"")+(v.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function v(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return v()+v()+"-"+v()+"-"+v()+"-"+v()+"-"+v()+v()+v()}}(),M.escapeHash=function(v){return v.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(v){var I=$(v),O=I.add(I.parents()),R=!1;return O.each(function(){if("fixed"===$(this).css("position"))return R=!0,!1}),R},M.checkWithinContainer=function(v,I,O){var R={top:!1,right:!1,bottom:!1,left:!1},E=v.getBoundingClientRect(),m=v===document.body?Math.max(E.bottom,window.innerHeight):E.bottom,p=I.left-v.scrollLeft,C=I.top-v.scrollTop;return(p<E.left+O||p<O)&&(R.left=!0),(p+I.width>E.right-O||p+I.width>window.innerWidth-O)&&(R.right=!0),(C<E.top+O||C<O)&&(R.top=!0),(C+I.height>m-O||C+I.height>window.innerHeight-O)&&(R.bottom=!0),R},M.checkPossibleAlignments=function(v,I,O,R){var E={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},m="visible"===getComputedStyle(I).overflow,h=I.getBoundingClientRect(),c=Math.min(h.height,window.innerHeight),p=Math.min(h.width,window.innerWidth),C=v.getBoundingClientRect(),k=I.scrollTop,N=O.left-I.scrollLeft,B=O.top-k,W=O.top+C.height-k;return E.spaceOnRight=m?window.innerWidth-(C.left+O.width):p-(N+O.width),E.spaceOnRight<0&&(E.left=!1),E.spaceOnLeft=m?C.right-O.width:N-O.width+C.width,E.spaceOnLeft<0&&(E.right=!1),E.spaceOnBottom=m?window.innerHeight-(C.top+O.height+R):c-(B+O.height+R),E.spaceOnBottom<0&&(E.top=!1),E.spaceOnTop=m?C.bottom-(O.height+R):W-(O.height-R),E.spaceOnTop<0&&(E.bottom=!1),E},M.getOverflowParent=function(v){return null==v?null:v===document.body||"visible"!==getComputedStyle(v).overflow?v:M.getOverflowParent(v.parentElement)},M.getIdFromTrigger=function(v){var I=v.getAttribute("data-target");return I||(I=(I=v.getAttribute("href"))?I.slice(1):""),I},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var Cl=Date.now||function(){return(new Date).getTime()};M.throttle=function(v,I,O){var R=void 0,E=void 0,m=void 0,h=null,c=0;O||(O={});var p=function(){c=!1===O.leading?0:Cl(),h=null,m=v.apply(R,E),R=E=null};return function(){var C=Cl();!c&&!1===O.leading&&(c=C);var A=I-(C-c);return R=this,E=arguments,A<=0?(clearTimeout(h),h=null,c=C,m=v.apply(R,E),R=E=null):!h&&!1!==O.trailing&&(h=setTimeout(p,A)),m}};var ke={scope:{}};ke.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(v,I,O){if(O.get||O.set)throw new TypeError("ES3 does not support getters and setters.");v!=Array.prototype&&v!=Object.prototype&&(v[I]=O.value)},ke.getGlobal=function(v){return"undefined"!=typeof window&&window===v?v:"undefined"!=typeof global&&null!=global?global:v},ke.global=ke.getGlobal(this),ke.SYMBOL_PREFIX="jscomp_symbol_",ke.initSymbol=function(){ke.initSymbol=function(){},ke.global.Symbol||(ke.global.Symbol=ke.Symbol)},ke.symbolCounter_=0,ke.Symbol=function(v){return ke.SYMBOL_PREFIX+(v||"")+ke.symbolCounter_++},ke.initSymbolIterator=function(){ke.initSymbol();var v=ke.global.Symbol.iterator;v||(v=ke.global.Symbol.iterator=ke.global.Symbol("iterator")),"function"!=typeof Array.prototype[v]&&ke.defineProperty(Array.prototype,v,{configurable:!0,writable:!0,value:function(){return ke.arrayIterator(this)}}),ke.initSymbolIterator=function(){}},ke.arrayIterator=function(v){var I=0;return ke.iteratorPrototype(function(){return I<v.length?{done:!1,value:v[I++]}:{done:!0}})},ke.iteratorPrototype=function(v){return ke.initSymbolIterator(),(v={next:v})[ke.global.Symbol.iterator]=function(){return this},v},ke.array=ke.array||{},ke.iteratorFromArray=function(v,I){ke.initSymbolIterator(),v instanceof String&&(v+="");var O=0,R={next:function(){if(O<v.length){var E=O++;return{value:I(E,v[E]),done:!1}}return R.next=function(){return{done:!0,value:void 0}},R.next()}};return R[Symbol.iterator]=function(){return R},R},ke.polyfill=function(v,I,O,R){if(I){for(O=ke.global,v=v.split("."),R=0;R<v.length-1;R++){var E=v[R];E in O||(O[E]={}),O=O[E]}(I=I(R=O[v=v[v.length-1]]))!=R&&null!=I&&ke.defineProperty(O,v,{configurable:!0,writable:!0,value:I})}},ke.polyfill("Array.prototype.keys",function(v){return v||function(){return ke.iteratorFromArray(this,function(I){return I})}},"es6-impl","es3");var nm=this;M.anime=function(){function v(T){if(!De.col(T))try{return document.querySelectorAll(T)}catch(L){}}function I(T,L){for(var y=T.length,w=2<=arguments.length?arguments[1]:void 0,S=[],j=0;j<y;j++)if(j in T){var Y=T[j];L.call(w,Y,j,T)&&S.push(Y)}return S}function O(T){return T.reduce(function(L,y){return L.concat(De.arr(y)?O(y):y)},[])}function R(T){return De.arr(T)?T:(De.str(T)&&(T=v(T)||T),T instanceof NodeList||T instanceof HTMLCollection?[].slice.call(T):[T])}function E(T,L){return T.some(function(y){return y===L})}function m(T){var y,L={};for(y in T)L[y]=T[y];return L}function h(T,L){var w,y=m(T);for(w in T)y[w]=L.hasOwnProperty(w)?L[w]:T[w];return y}function c(T,L){var w,y=m(T);for(w in L)y[w]=De.und(T[w])?L[w]:T[w];return y}function A(T){if(T=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(T))return T[2]}function N(T,L){return De.fnc(T)?T(L.target,L.id,L.total):T}function B(T,L){if(L in T.style)return getComputedStyle(T).getPropertyValue(L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function W(T,L){return De.dom(T)&&E(ni,L)?"transform":De.dom(T)&&(T.getAttribute(L)||De.svg(T)&&T[L])?"attribute":De.dom(T)&&"transform"!==L&&B(T,L)?"css":null!=T[L]?"object":void 0}function q(T,L){switch(W(T,L)){case"transform":return function Q(T,L){var y=function k(T){return-1<T.indexOf("translate")||"perspective"===T?"px":-1<T.indexOf("rotate")||-1<T.indexOf("skew")?"deg":void 0}(L);if(y=-1<L.indexOf("scale")?1:0+y,!(T=T.style.transform))return y;for(var w=[],S=[],j=[],Y=/(\w+)\((.+?)\)/g;w=Y.exec(T);)S.push(w[1]),j.push(w[2]);return(T=I(j,function(ce,Ve){return S[Ve]===L})).length?T[0]:y}(T,L);case"css":return B(T,L);case"attribute":return T.getAttribute(L)}return T[L]||0}function ve(T,L){var y=/^(\*=|\+=|-=)/.exec(T);if(!y)return T;var w=A(T)||0;switch(L=parseFloat(L),T=parseFloat(T.replace(y[0],"")),y[0][0]){case"+":return L+T+w;case"-":return L-T+w;case"*":return L*T+w}}function ee(T,L){return Math.sqrt(Math.pow(L.x-T.x,2)+Math.pow(L.y-T.y,2))}function he(T){T=T.points;for(var y,L=0,w=0;w<T.numberOfItems;w++){var S=T.getItem(w);0<w&&(L+=ee(y,S)),y=S}return L}function Ue(T){if(T.getTotalLength)return T.getTotalLength();switch(T.tagName.toLowerCase()){case"circle":return 2*Math.PI*T.getAttribute("r");case"rect":return 2*T.getAttribute("width")+2*T.getAttribute("height");case"line":return ee({x:T.getAttribute("x1"),y:T.getAttribute("y1")},{x:T.getAttribute("x2"),y:T.getAttribute("y2")});case"polyline":return he(T);case"polygon":var L=T.points;return he(T)+ee(L.getItem(L.numberOfItems-1),L.getItem(0))}}function nt(T,L){function y(Y){return T.el.getPointAtLength(1<=L+(Y=void 0===Y?0:Y)?L+Y:0)}var w=y(),S=y(-1),j=y(1);switch(T.property){case"x":return w.x;case"y":return w.y;case"angle":return 180*Math.atan2(j.y-S.y,j.x-S.x)/Math.PI}}function _t(T,L){var w,y=/-?\d*\.?\d+/g;if(w=De.pth(T)?T.totalLength:T,De.col(w))if(De.rgb(w)){var S=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(w);w=S?"rgba("+S[1]+",1)":w}else w=De.hex(w)?function p(T){T=T.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(w,S,j,Y){return S+S+j+j+Y+Y});var y=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(T);return"rgba("+(T=parseInt(y[1],16))+","+parseInt(y[2],16)+","+(y=parseInt(y[3],16))+",1)"}(w):De.hsl(w)?function C(T){function L(ce,Ve,pe){return 0>pe&&(pe+=1),1<pe&&--pe,pe<1/6?ce+6*(Ve-ce)*pe:.5>pe?Ve:pe<2/3?ce+(Ve-ce)*(2/3-pe)*6:ce}var S=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(T)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(T);T=parseInt(S[1])/360;var y=parseInt(S[2])/100,w=parseInt(S[3])/100;if(S=S[4]||1,0==y)w=y=T=w;else{var j=.5>w?w*(1+y):w+y-w*y,Y=2*w-j;w=L(Y,j,T+1/3),y=L(Y,j,T),T=L(Y,j,T-1/3)}return"rgba("+255*w+","+255*y+","+255*T+","+S+")"}(w):void 0;else S=(S=A(w))?w.substr(0,w.length-S.length):w,w=L&&!/\s/g.test(w)?S+L:S;return{original:w+="",numbers:w.match(y)?w.match(y).map(Number):[0],strings:De.str(T)||L?w.split(y):[]}}function st(T){return I(T=T?O(De.arr(T)?T.map(R):R(T)):[],function(L,y,w){return w.indexOf(L)===y})}function Oe(T,L){var y=m(L);if(De.arr(T)){var w=T.length;2!==w||De.obj(T[0])?De.fnc(L.duration)||(y.duration=L.duration/w):T={value:T}}return R(T).map(function(S,j){return j=j?0:L.delay,S=De.obj(S)&&!De.pth(S)?S:{value:S},De.und(S.delay)&&(S.delay=j),S}).map(function(S){return c(S,y)})}function Ps(T,L){var y;return T.tweens.map(function(w){var S=(w=function je(T,L){var w,y={};for(w in T){var S=N(T[w],L);De.arr(S)&&1===(S=S.map(function(j){return N(j,L)})).length&&(S=S[0]),y[w]=S}return y.duration=parseFloat(y.duration),y.delay=parseFloat(y.delay),y}(w,L)).value,ce=q(L.target,T.name),j=y?y.to.original:ce,Y=(j=De.arr(S)?S[0]:j,ve(De.arr(S)?S[1]:S,j));return ce=A(Y)||A(j)||A(ce),w.from=_t(j,ce),w.to=_t(Y,ce),w.start=y?y.end:T.offset,w.end=w.start+w.delay+w.duration,w.easing=function mr(T){return De.arr(T)?Rr.apply(this,T):ur[T]}(w.easing),w.elasticity=(1e3-Math.min(Math.max(w.elasticity,1),999))/1e3,w.isPath=De.pth(S),w.isColor=De.col(w.from.original),w.isColor&&(w.round=1),y=w})}function Zr(T,L){return I(O(T.map(function(y){return L.map(function(w){var S=W(y.target,w.name);if(S){var j=Ps(w,y);w={type:S,property:w.name,animatable:y,tweens:j,duration:j[j.length-1].end,delay:j[0].delay}}else w=void 0;return w})})),function(y){return!De.und(y)})}function Pn(T,L,y,w){var S="delay"===T;return L.length?(S?Math.min:Math.max).apply(Math,L.map(function(j){return j[T]})):S?w.delay:y.offset+w.delay+w.duration}function ei(T){var Y,L=h(ns,T),y=h(ti,T),w=function rt(T){var L=st(T);return L.map(function(y,w){return{target:y,id:w,total:L.length}})}(T.targets),S=[],j=c(L,y);for(Y in T)j.hasOwnProperty(Y)||"targets"===Y||S.push({name:Y,offset:j.offset,tweens:Oe(T[Y],y)});return c(L,{children:[],animatables:w,animations:T=Zr(w,S),duration:Pn("duration",T,L,y),delay:Pn("delay",T,L,y)})}function wt(T){function L(){return window.Promise&&new Promise(function(it){return hn=it})}function y(it){return se.reversed?se.duration-it:it}function w(it){for(var fn=0,Ti={},Lr=se.animations,Do=Lr.length;fn<Do;){var ii=Lr[fn],Ot=ii.animatable,Tt=(Ln=ii.tweens)[Fr=Ln.length-1];Fr&&(Tt=I(Ln,function(qt){return it<qt.end})[0]||Tt);for(var Ln=Math.min(Math.max(it-Tt.start-Tt.delay,0),Tt.duration)/Tt.duration,is=isNaN(Ln)?1:Tt.easing(Ln,Tt.elasticity),ss=(Ln=Tt.to.strings,Tt.round),Fr=[],si=void 0,oi=(si=Tt.to.numbers.length,0);oi<si;oi++){var os=void 0,Vr=(os=Tt.to.numbers[oi],Tt.from.numbers[oi]);os=Tt.isPath?nt(Tt.value,is*os):Vr+is*(os-Vr),ss&&(Tt.isColor&&2<oi||(os=Math.round(os*ss)/ss)),Fr.push(os)}if(Tt=Ln.length)for(si=Ln[0],is=0;is<Tt;is++)ss=Ln[is+1],oi=Fr[is],isNaN(oi)||(si=ss?si+(oi+ss):si+(oi+" "));else si=Fr[0];_h[ii.type](Ot.target,ii.property,si,Ti,Ot.id),ii.currentValue=si,fn++}if(fn=Object.keys(Ti).length)for(Lr=0;Lr<fn;Lr++)ar||(ar=B(document.body,"transform")?"transform":"-webkit-transform"),se.animatables[Lr].target.style[ar]=Ti[Lr].join(" ");se.currentTime=it,se.progress=it/se.duration*100}function S(it){se[it]&&se[it](se)}function j(){se.remaining&&!0!==se.remaining&&se.remaining--}function Y(it){var fn=se.duration,Ti=se.offset,Lr=Ti+se.delay,Do=se.currentTime,ii=se.reversed,Ot=y(it);if(se.children.length){var Ln=se.children,Fr=Ln.length;if(Ot>=se.currentTime)for(var Tt=0;Tt<Fr;Tt++)Ln[Tt].seek(Ot);else for(;Fr--;)Ln[Fr].seek(Ot)}(Ot>=Lr||!fn)&&(se.began||(se.began=!0,S("begin")),S("run")),Ot>Ti&&Ot<fn?w(Ot):(Ot<=Ti&&0!==Do&&(w(0),ii&&j()),(Ot>=fn&&Do!==fn||!fn)&&(w(fn),ii||j())),S("update"),it>=fn&&(se.remaining?(Ve=ce,"alternate"===se.direction&&(se.reversed=!se.reversed)):(se.pause(),se.completed||(se.completed=!0,S("complete"),"Promise"in window&&(hn(),Pr=L()))),pe=0)}T=void 0===T?{}:T;var ce,Ve,pe=0,hn=null,Pr=L(),se=ei(T);return se.reset=function(){var it=se.direction,fn=se.loop;for(se.currentTime=0,se.progress=0,se.paused=!0,se.began=!1,se.completed=!1,se.reversed="reverse"===it,se.remaining="alternate"===it&&1===fn?2:fn,w(0),it=se.children.length;it--;)se.children[it].reset()},se.tick=function(it){ce=it,Ve||(Ve=ce),Y((pe+ce-Ve)*wt.speed)},se.seek=function(it){Y(y(it))},se.pause=function(){var it=Nr.indexOf(se);-1<it&&Nr.splice(it,1),se.paused=!0},se.play=function(){se.paused&&(se.paused=!1,Ve=0,pe=y(se.currentTime),Nr.push(se),rs||ri())},se.reverse=function(){se.reversed=!se.reversed,Ve=0,pe=y(se.currentTime)},se.restart=function(){se.pause(),se.reset(),se.play()},se.finished=Pr,se.reset(),se.autoplay&&se.play(),se}var ar,ns={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},ti={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},ni="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),De={arr:function(T){return Array.isArray(T)},obj:function(T){return-1<Object.prototype.toString.call(T).indexOf("Object")},pth:function(T){return De.obj(T)&&T.hasOwnProperty("totalLength")},svg:function(T){return T instanceof SVGElement},dom:function(T){return T.nodeType||De.svg(T)},str:function(T){return"string"==typeof T},fnc:function(T){return"function"==typeof T},und:function(T){return void 0===T},hex:function(T){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(T)},rgb:function(T){return/^rgb/.test(T)},hsl:function(T){return/^hsl/.test(T)},col:function(T){return De.hex(T)||De.rgb(T)||De.hsl(T)}},Rr=function(){function T(L,y,w){return(((1-3*w+3*y)*L+(3*w-6*y))*L+3*y)*L}return function(L,y,w,S){if(0<=L&&1>=L&&0<=w&&1>=w){var j=new Float32Array(11);if(L!==y||w!==S)for(var Y=0;11>Y;++Y)j[Y]=T(.1*Y,L,w);return function(ce){if(L===y&&w===S)return ce;if(0===ce)return 0;if(1===ce)return 1;for(var Ve=0,pe=1;10!==pe&&j[pe]<=ce;++pe)Ve+=.1;--pe;var hn=3*(1-3*w+3*L)*(pe=Ve+(ce-j[pe])/(j[pe+1]-j[pe])*.1)*pe+2*(3*w-6*L)*pe+3*L;if(.001<=hn){for(Ve=0;4>Ve&&0!=(hn=3*(1-3*w+3*L)*pe*pe+2*(3*w-6*L)*pe+3*L);++Ve){var Pr=T(pe,L,w)-ce;pe-=Pr/hn}ce=pe}else if(0===hn)ce=pe;else{pe=Ve,Ve+=.1;var se=0;do{0<(hn=T(Pr=pe+(Ve-pe)/2,L,w)-ce)?Ve=Pr:pe=Pr}while(1e-7<Math.abs(hn)&&10>++se);ce=Pr}return T(ce,y,S)}}}}(),ur=function(){function T(Y,ce){return 0===Y||1===Y?Y:-Math.pow(2,10*(Y-1))*Math.sin(2*(Y-1-ce/(2*Math.PI)*Math.asin(1))*Math.PI/ce)}var j,L="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),y={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],T],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Y,ce){return 1-T(1-Y,ce)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Y,ce){return.5>Y?T(2*Y,ce)/2:1-T(-2*Y+2,ce)/2}]},w={linear:Rr(.25,.25,.75,.75)},S={};for(j in y)S.type=j,y[S.type].forEach(function(Y){return function(ce,Ve){w["ease"+Y.type+L[Ve]]=De.fnc(ce)?ce:Rr.apply(nm,ce)}}(S)),S={type:S.type};return w}(),_h={css:function(T,L,y){return T.style[L]=y},attribute:function(T,L,y){return T.setAttribute(L,y)},object:function(T,L,y){return T[L]=y},transform:function(T,L,y,w,S){w[S]||(w[S]=[]),w[S].push(L+"("+y+")")}},Nr=[],rs=0,ri=function(){function T(){rs=requestAnimationFrame(L)}function L(y){var w=Nr.length;if(w){for(var S=0;S<w;)Nr[S]&&Nr[S].tick(y),S++;T()}else cancelAnimationFrame(rs),rs=0}return T}();return wt.version="2.2.0",wt.speed=1,wt.running=Nr,wt.remove=function(T){T=st(T);for(var L=Nr.length;L--;)for(var y=Nr[L],w=y.animations,S=w.length;S--;)E(T,w[S].animatable.target)&&(w.splice(S,1),w.length||y.pause())},wt.getValue=q,wt.path=function(T,L){var y=De.str(T)?v(T)[0]:T,w=L||100;return function(S){return{el:y,property:S,totalLength:Ue(y)*(w/100)}}},wt.setDashoffset=function(T){var L=Ue(T);return T.setAttribute("stroke-dasharray",L),L},wt.bezier=Rr,wt.easings=ur,wt.timeline=function(T){var L=wt(T);return L.pause(),L.duration=0,L.add=function(y){return L.children.forEach(function(w){w.began=!0,w.completed=!0}),R(y).forEach(function(w){var S=c(w,h(ti,T||{}));S.targets=S.targets||T.targets,w=L.duration;var j=S.offset;S.autoplay=!1,S.direction=L.direction,S.offset=De.und(j)?w:ve(j,w),L.began=!0,L.completed=!0,L.seek(S.offset),(S=wt(S)).began=!0,S.completed=!0,S.duration>w&&(L.duration=S.duration),L.children.push(S)}),L.seek(0),L.reset(),L.autoplay&&L.restart(),L},L},wt.random=function(T,L){return Math.floor(Math.random()*(L-T+1))+T},wt}(),function(v,I){"use strict";var O={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));p.el.M_Collapsible=p,p.options=v.extend({},m.defaults,c),p.$headers=p.$el.children("li").children(".collapsible-header"),p.$headers.attr("tabindex",0),p._setupEventHandlers();var C=p.$el.children("li.active").children(".collapsible-body");return p.options.accordion?C.first().css("display","block"):C.css("display","block"),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var c=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(p){p.addEventListener("keydown",c._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var c=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(p){p.removeEventListener("keydown",c._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(c){var p=v(c.target).closest(".collapsible-header");if(c.target&&p.length){var C=p.closest(".collapsible");if(C[0]===this.el){var A=p.closest("li"),k=C.children("li"),N=A[0].classList.contains("active"),B=k.index(A);N?this.close(B):this.open(B)}}}},{key:"_handleCollapsibleKeydown",value:function(c){13===c.keyCode&&this._handleCollapsibleClickBound(c)}},{key:"_animateIn",value:function(c){var p=this,C=this.$el.children("li").eq(c);if(C.length){var A=C.children(".collapsible-body");I.remove(A[0]),A.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var k=A.css("padding-top"),N=A.css("padding-bottom"),B=A[0].scrollHeight;A.css({paddingTop:0,paddingBottom:0}),I({targets:A[0],height:B,paddingTop:k,paddingBottom:N,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(W){A.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof p.options.onOpenEnd&&p.options.onOpenEnd.call(p,C[0])}})}}},{key:"_animateOut",value:function(c){var p=this,C=this.$el.children("li").eq(c);if(C.length){var A=C.children(".collapsible-body");I.remove(A[0]),A.css("overflow","hidden"),I({targets:A[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){A.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof p.options.onCloseEnd&&p.options.onCloseEnd.call(p,C[0])}})}}},{key:"open",value:function(c){var p=this,C=this.$el.children("li").eq(c);if(C.length&&!C[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,C[0]),this.options.accordion){var A=this.$el.children("li");this.$el.children("li.active").each(function(N){var B=A.index(v(N));p.close(B)})}C[0].classList.add("active"),this._animateIn(c)}}},{key:"close",value:function(c){var p=this.$el.children("li").eq(c);p.length&&p[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,p[0]),p[0].classList.remove("active"),this._animateOut(c))}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Collapsible}},{key:"defaults",get:function(){return O}}]),m}(It);M.Collapsible=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"collapsible","M_Collapsible")}(cash,M.anime),function(v,I){"use strict";var O={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Dropdown=p,m._dropdowns.push(p),p.id=M.getIdFromTrigger(h),p.dropdownEl=document.getElementById(p.id),p.$dropdownEl=v(p.dropdownEl),p.options=v.extend({},m.defaults,c),p.isOpen=!1,p.isScrollable=!1,p.isTouchMoving=!1,p.focusedIndex=-1,p.filterQuery=[],p.options.container?v(p.options.container).append(p.dropdownEl):p.$el.after(p.dropdownEl),p._makeDropdownFocusable(),p._resetFilterQueryBound=p._resetFilterQuery.bind(p),p._handleDocumentClickBound=p._handleDocumentClick.bind(p),p._handleDocumentTouchmoveBound=p._handleDocumentTouchmove.bind(p),p._handleDropdownClickBound=p._handleDropdownClick.bind(p),p._handleDropdownKeydownBound=p._handleDropdownKeydown.bind(p),p._handleTriggerKeydownBound=p._handleTriggerKeydown.bind(p),p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),m._dropdowns.splice(m._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(c){c.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(c){var p=c.toElement||c.relatedTarget,C=!!v(p).closest(".dropdown-content").length,A=!1,k=v(p).closest(".dropdown-trigger");k.length&&!!k[0].M_Dropdown&&k[0].M_Dropdown.isOpen&&(A=!0),!A&&!C&&this.close()}},{key:"_handleDocumentClick",value:function(c){var p=this,C=v(c.target);(this.options.closeOnClick&&C.closest(".dropdown-content").length&&!this.isTouchMoving||C.closest(".dropdown-trigger").length||!C.closest(".dropdown-content").length)&&setTimeout(function(){p.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(c){(c.which===M.keys.ARROW_DOWN||c.which===M.keys.ENTER)&&!this.isOpen&&(c.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(c){v(c.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(c){if("function"==typeof this.options.onItemClick){var p=v(c.target).closest("li")[0];this.options.onItemClick.call(this,p)}}},{key:"_handleDropdownKeydown",value:function(c){if(c.which===M.keys.TAB)c.preventDefault(),this.close();else if(c.which!==M.keys.ARROW_DOWN&&c.which!==M.keys.ARROW_UP||!this.isOpen)if(c.which===M.keys.ENTER&&this.isOpen){var k=this.dropdownEl.children[this.focusedIndex],N=v(k).find("a, button").first();N.length?N[0].click():k.click()}else c.which===M.keys.ESC&&this.isOpen&&(c.preventDefault(),this.close());else{c.preventDefault();var p=c.which===M.keys.ARROW_DOWN?1:-1,C=this.focusedIndex,A=!1;do{if(this.dropdownEl.children[C+=p]&&-1!==this.dropdownEl.children[C].tabIndex){A=!0;break}}while(C<this.dropdownEl.children.length&&C>=0);A&&(this.focusedIndex=C,this._focusFocusedItem())}var B=String.fromCharCode(c.which).toLowerCase();if(B&&-1===[9,13,27,38,40].indexOf(c.which)){this.filterQuery.push(B);var Q=this.filterQuery.join(""),q=v(this.dropdownEl).find("li").filter(function(ve){return 0===v(ve).text().toLowerCase().indexOf(Q)})[0];q&&(this.focusedIndex=v(q).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,v(this.dropdownEl).children().each(function(c){c.getAttribute("tabindex")||c.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var p=this.el.getBoundingClientRect(),C=this.dropdownEl.getBoundingClientRect(),A=C.height,k=C.width,N=p.left-C.left,B=p.top-C.top,q=M.checkPossibleAlignments(this.el,this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,{left:N,top:B,height:A,width:k},this.options.coverTrigger?0:p.height),ve="top",ee=this.options.alignment;if(B+=this.options.coverTrigger?0:p.height,this.isScrollable=!1,q.top||(q.bottom?ve="bottom":(this.isScrollable=!0,q.spaceOnTop>q.spaceOnBottom?(ve="bottom",A+=q.spaceOnTop,B-=q.spaceOnTop):A+=q.spaceOnBottom)),!q[ee]){var he="left"===ee?"right":"left";q[he]?ee=he:q.spaceOnLeft>q.spaceOnRight?(ee="right",k+=q.spaceOnLeft,N-=q.spaceOnLeft):(ee="left",k+=q.spaceOnRight)}return"bottom"===ve&&(B=B-C.height+(this.options.coverTrigger?p.height:0)),"right"===ee&&(N=N-C.width+p.width),{x:N,y:B,verticalAlignment:ve,horizontalAlignment:ee,height:A,width:k}}},{key:"_animateIn",value:function(){var c=this;I.remove(this.dropdownEl),I({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(p){c.options.autoFocus&&c.dropdownEl.focus(),"function"==typeof c.options.onOpenEnd&&c.options.onOpenEnd.call(p.animatables[0].target,c.el)}})}},{key:"_animateOut",value:function(){var c=this;I.remove(this.dropdownEl),I({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(p){c._resetDropdownStyles(),"function"==typeof c.options.onCloseEnd&&c.options.onCloseEnd.call(c,c.el)}})}},{key:"_placeDropdown",value:function(){var c=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=c+"px";var p=this._getDropdownPosition();this.dropdownEl.style.left=p.x+"px",this.dropdownEl.style.top=p.y+"px",this.dropdownEl.style.height=p.height+"px",this.dropdownEl.style.width=p.width+"px",this.dropdownEl.style.transformOrigin=("left"===p.horizontalAlignment?"0":"100%")+" "+("top"===p.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){!this.isOpen||(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Dropdown}},{key:"defaults",get:function(){return O}}]),m}(It);R._dropdowns=[],window.M.Dropdown=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"dropdown","M_Dropdown")}(cash,M.anime),function(v,I){"use strict";var O={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Modal=p,p.options=v.extend({},m.defaults,c),p.isOpen=!1,p.id=p.$el.attr("id"),p._openingTrigger=void 0,p.$overlay=v('<div class="modal-overlay"></div>'),p.el.tabIndex=0,p._nthModalOpened=0,m._count++,p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){m._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===m._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===m._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(c){var p=v(c.target).closest(".modal-trigger");if(p.length){var C=M.getIdFromTrigger(p[0]),A=document.getElementById(C).M_Modal;A&&A.open(p),c.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(c){v(c.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(c){27===c.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(c){!this.el.contains(c.target)&&this._nthModalOpened===m._modalsOpen&&this.el.focus()}},{key:"_animateIn",value:function(){var c=this;v.extend(this.el.style,{display:"block",opacity:0}),v.extend(this.$overlay[0].style,{display:"block",opacity:0}),I({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var p={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof c.options.onOpenEnd&&c.options.onOpenEnd.call(c,c.el,c._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(v.extend(p,{bottom:0,opacity:1}),I(p)):(v.extend(p,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),I(p))}},{key:"_animateOut",value:function(){var c=this;I({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var p={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){c.el.style.display="none",c.$overlay.remove(),"function"==typeof c.options.onCloseEnd&&c.options.onCloseEnd.call(c,c.el)}};this.el.classList.contains("bottom-sheet")?(v.extend(p,{bottom:"-100%",opacity:0}),I(p)):(v.extend(p,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),I(p))}},{key:"open",value:function(c){if(!this.isOpen)return this.isOpen=!0,m._modalsOpen++,this._nthModalOpened=m._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*m._modalsOpen,this.el.style.zIndex=1e3+2*m._modalsOpen+1,this._openingTrigger=c?c[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),I.remove(this.el),I.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,m._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===m._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),I.remove(this.el),I.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Modal}},{key:"defaults",get:function(){return O}}]),m}(It);R._modalsOpen=0,R._count=0,M.Modal=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"modal","M_Modal")}(cash,M.anime),function(v,I){"use strict";var O={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Materialbox=p,p.options=v.extend({},m.defaults,c),p.overlayActive=!1,p.doneAnimating=!0,p.placeholder=v("<div></div>").addClass("material-placeholder"),p.originalWidth=0,p.originalHeight=0,p.originInlineStyles=p.$el.attr("style"),p.caption=p.el.getAttribute("data-caption")||"",p.$el.before(p.placeholder),p.placeholder.append(p.$el),p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,v(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(c){!1===this.doneAnimating||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(c){27===c.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=v();for(var c=this.placeholder[0].parentNode;null!==c&&!v(c).is(document);){var p=v(c);"visible"!==p.css("overflow")&&(p.css("overflow","visible"),this.ancestorsChanged=void 0===this.ancestorsChanged?p:this.ancestorsChanged.add(p)),c=c.parentNode}}},{key:"_animateImageIn",value:function(){var c=this,p={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){c.doneAnimating=!0,"function"==typeof c.options.onOpenEnd&&c.options.onOpenEnd.call(c,c.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(p.maxWidth=this.newWidth),"none"!==this.maxHeight&&(p.maxHeight=this.newHeight),I(p)}},{key:"_animateImageOut",value:function(){var c=this;I({targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){c.placeholder.css({height:"",width:"",position:"",top:"",left:""}),c.attrWidth&&c.$el.attr("width",c.attrWidth),c.attrHeight&&c.$el.attr("height",c.attrHeight),c.$el.removeAttr("style"),c.originInlineStyles&&c.$el.attr("style",c.originInlineStyles),c.$el.removeClass("active"),c.doneAnimating=!0,c.ancestorsChanged.length&&c.ancestorsChanged.css("overflow",""),"function"==typeof c.options.onCloseEnd&&c.options.onCloseEnd.call(c,c.el)}})}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var c=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=v('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){c.doneAnimating&&c.close()}),this.$el.before(this.$overlay);var p=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*p.left+"px",top:-1*p.top+"px"}),I.remove(this.el),I.remove(this.$overlay[0]),I({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&I.remove(this.$photoCaption[0]),this.$photoCaption=v('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),v("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),I({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var C=0,A=this.originalWidth/this.windowWidth,k=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,A>k?(C=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*C):(this.newWidth=.9*this.windowHeight*(C=this.originalWidth/this.originalHeight),this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var c=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),I.remove(this.el),I.remove(this.$overlay[0]),""!==this.caption&&I.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),I({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){c.overlayActive=!1,c.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&I({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){c.$photoCaption.remove()}})}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Materialbox}},{key:"defaults",get:function(){return O}}]),m}(It);M.Materialbox=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"materialbox","M_Materialbox")}(cash,M.anime),function(v){"use strict";var I={responsiveThreshold:0},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Parallax=c,c.options=v.extend({},E.defaults,h),c._enabled=window.innerWidth>c.options.responsiveThreshold,c.$img=c.$el.find("img").first(),c.$img.each(function(){this.complete&&v(this).trigger("load")}),c._updateParallax(),c._setupEventHandlers(),c._setupStyles(),E._parallaxes.push(c),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){E._parallaxes.splice(E._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===E._parallaxes.length&&(E._handleScrollThrottled=M.throttle(E._handleScroll,5),window.addEventListener("scroll",E._handleScrollThrottled),E._handleWindowResizeThrottled=M.throttle(E._handleWindowResize,5),window.addEventListener("resize",E._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===E._parallaxes.length&&(window.removeEventListener("scroll",E._handleScrollThrottled),window.removeEventListener("resize",E._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var h=this.$el.height()>0?this.el.parentNode.offsetHeight:500,p=this.$img[0].offsetHeight-h,C=this.$el.offset().top+h,A=this.$el.offset().top,k=M.getDocumentScrollTop(),N=window.innerHeight;this._enabled?C>k&&A<k+N&&(this.$img[0].style.transform="translate3D(-50%, "+p*((k+N-A)/(h+N))+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Parallax}},{key:"_handleScroll",value:function(){for(var h=0;h<E._parallaxes.length;h++){var c=E._parallaxes[h];c._updateParallax.call(c)}}},{key:"_handleWindowResize",value:function(){for(var h=0;h<E._parallaxes.length;h++){var c=E._parallaxes[h];c._enabled=window.innerWidth>c.options.responsiveThreshold}}},{key:"defaults",get:function(){return I}}]),E}(It);O._parallaxes=[],M.Parallax=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"parallax","M_Parallax")}(cash),function(v,I){"use strict";var O={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Tabs=p,p.options=v.extend({},m.defaults,c),p.$tabLinks=p.$el.children("li.tab").children("a"),p.index=0,p._setupActiveTabLink(),p.options.swipeable?p._setupSwipeableTabs():p._setupNormalTabs(),p._setTabsAndTabWidth(),p._createIndicator(),p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(c){var p=this,C=v(c.target).closest("li.tab"),A=v(c.target).closest("a");if(A.length&&A.parent().hasClass("tab")){if(C.hasClass("disabled"))return void c.preventDefault();if(!A.attr("target")){this.$activeTabLink.removeClass("active");var k=this.$content;this.$activeTabLink=A,this.$content=v(M.escapeHash(A[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var N=this.index;this.index=Math.max(this.$tabLinks.index(A),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof p.options.onShow&&p.options.onShow.call(p,p.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),k.length&&!k.is(this.$content)&&(k[0].style.display="none",k.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(N),c.preventDefault()}}}},{key:"_createIndicator",value:function(){var c=this,p=document.createElement("li");p.classList.add("indicator"),this.el.appendChild(p),this._indicator=p,setTimeout(function(){c._indicator.style.left=c._calcLeftPos(c.$activeTabLink)+"px",c._indicator.style.right=c._calcRightPos(c.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=v(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=v(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var c=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var p=v();this.$tabLinks.each(function(k){var N=v(M.escapeHash(k.hash));N.addClass("carousel-item"),p=p.add(N)});var C=v('<div class="tabs-content carousel carousel-slider"></div>');p.first().before(C),C.append(p),p[0].style.display="";var A=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(C[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(k){var N=c.index;c.index=v(k).index(),c.$activeTabLink.removeClass("active"),c.$activeTabLink=c.$tabLinks.eq(c.index),c.$activeTabLink.addClass("active"),c._animateIndicator(N),"function"==typeof c.options.onShow&&c.options.onShow.call(c,c.$content[0])}}),this._tabsCarousel.set(A)}},{key:"_teardownSwipeableTabs",value:function(){var c=this._tabsCarousel.$el;this._tabsCarousel.destroy(),c.after(c.children()),c.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(c){if(c.hash){var p=v(M.escapeHash(c.hash));p.length&&(p[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(c){if(c.hash){var p=v(M.escapeHash(c.hash));p.length&&(p[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(c){return Math.ceil(this.tabsWidth-c.position().left-c[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(c){return Math.floor(c.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(c){var p=0,C=0;this.index-c>=0?p=90:C=90;var A={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:p},right:{value:this._calcRightPos(this.$activeTabLink),delay:C},duration:this.options.duration,easing:"easeOutQuad"};I.remove(this._indicator),I(A)}},{key:"select",value:function(c){var p=this.$tabLinks.filter('[href="#'+c+'"]');p.length&&p.trigger("click")}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Tabs}},{key:"defaults",get:function(){return O}}]),m}(It);window.M.Tabs=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"tabs","M_Tabs")}(cash,M.anime),function(v,I){"use strict";var O={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Tooltip=p,p.options=v.extend({},m.defaults,c),p.isOpen=!1,p.isHovered=!1,p.isFocused=!1,p._appendTooltipEl(),p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){v(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var c=document.createElement("div");c.classList.add("material-tooltip"),this.tooltipEl=c;var p=document.createElement("div");p.classList.add("tooltip-content"),p.innerHTML=this.options.html,c.appendChild(p),document.body.appendChild(c)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(c){this.isOpen||(c=void 0===c||void 0,this.isOpen=!0,this.options=v.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(c))}},{key:"close",value:function(){!this.isOpen||(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var c=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){c.isHovered||c.isFocused||c._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(c){var p=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){!p.isHovered&&!p.isFocused&&!c||p._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var B,c=this.el,p=this.tooltipEl,C=c.offsetHeight,A=c.offsetWidth,k=p.offsetHeight,N=p.offsetWidth,W=this.options.margin,Q=void 0,q=void 0;this.xMovement=0,this.yMovement=0,Q=c.getBoundingClientRect().top+M.getDocumentScrollTop(),q=c.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(Q+=-k-W,q+=A/2-N/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(Q+=C/2-k/2,q+=A+W,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(Q+=C/2-k/2,q+=-N-W,this.xMovement=-this.options.transitionMovement):(Q+=C+W,q+=A/2-N/2,this.yMovement=this.options.transitionMovement),B=this._repositionWithinScreen(q,Q,N,k),v(p).css({top:B.y+"px",left:B.x+"px"})}},{key:"_repositionWithinScreen",value:function(c,p,C,A){var k=M.getDocumentScrollLeft(),N=M.getDocumentScrollTop(),B=c-k,W=p-N,q=this.options.margin+this.options.transitionMovement,ve=M.checkWithinContainer(document.body,{left:B,top:W,width:C,height:A},q);return ve.left?B=q:ve.right&&(B-=B+C-window.innerWidth),ve.top?W=q:ve.bottom&&(W-=W+A-window.innerHeight),{x:B+k,y:W+N}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",I.remove(this.tooltipEl),I({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){I.remove(this.tooltipEl),I({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var c={},p=this.el.getAttribute("data-tooltip"),C=this.el.getAttribute("data-position");return p&&(c.html=p),C&&(c.position=C),c}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Tooltip}},{key:"defaults",get:function(){return O}}]),m}(It);M.Tooltip=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"tooltip","M_Tooltip")}(cash,M.anime),function(v){"use strict";var I=I||{},O=document.querySelectorAll.bind(document);function h(k){var N="";for(var B in k)k.hasOwnProperty(B)&&(N+=B+":"+k[B]+";");return N}var c={duration:750,show:function(k,N){if(2===k.button)return!1;var B=N||this,W=document.createElement("div");W.className="waves-ripple",B.appendChild(W);var Q=function m(k){var N,B,W={top:0,left:0},Q=k&&k.ownerDocument;return N=Q.documentElement,void 0!==k.getBoundingClientRect&&(W=k.getBoundingClientRect()),B=function E(k){return function R(k){return null!==k&&k===k.window}(k)?k:9===k.nodeType&&k.defaultView}(Q),{top:W.top+B.pageYOffset-N.clientTop,left:W.left+B.pageXOffset-N.clientLeft}}(B),q=k.pageY-Q.top,ve=k.pageX-Q.left,ee="scale("+B.clientWidth/100*10+")";"touches"in k&&(q=k.touches[0].pageY-Q.top,ve=k.touches[0].pageX-Q.left),W.setAttribute("data-hold",Date.now()),W.setAttribute("data-scale",ee),W.setAttribute("data-x",ve),W.setAttribute("data-y",q);var he={top:q+"px",left:ve+"px"};W.className=W.className+" waves-notransition",W.setAttribute("style",h(he)),W.className=W.className.replace("waves-notransition",""),he["-webkit-transform"]=ee,he["-moz-transform"]=ee,he["-ms-transform"]=ee,he["-o-transform"]=ee,he.transform=ee,he.opacity="1",he["-webkit-transition-duration"]=c.duration+"ms",he["-moz-transition-duration"]=c.duration+"ms",he["-o-transition-duration"]=c.duration+"ms",he["transition-duration"]=c.duration+"ms",he["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",he["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",he["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",he["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",W.setAttribute("style",h(he))},hide:function(k){p.touchup(k);var N=this,W=null,Q=N.getElementsByClassName("waves-ripple");if(!(Q.length>0))return!1;var q=(W=Q[Q.length-1]).getAttribute("data-x"),ve=W.getAttribute("data-y"),ee=W.getAttribute("data-scale"),Ue=350-(Date.now()-Number(W.getAttribute("data-hold")));Ue<0&&(Ue=0),setTimeout(function(){W.setAttribute("style",h({top:ve+"px",left:q+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":ee,"-moz-transform":ee,"-ms-transform":ee,"-o-transform":ee,transform:ee})),setTimeout(function(){try{N.removeChild(W)}catch(_t){return!1}},c.duration)},Ue)},wrapInput:function(k){for(var N=0;N<k.length;N++){var B=k[N];if("input"===B.tagName.toLowerCase()){var W=B.parentNode;if("i"===W.tagName.toLowerCase()&&-1!==W.className.indexOf("waves-effect"))continue;var Q=document.createElement("i");Q.className=B.className+" waves-input-wrapper";var q=B.getAttribute("style");q||(q=""),Q.setAttribute("style",q),B.className="waves-button-input",B.removeAttribute("style"),W.replaceChild(Q,B),Q.appendChild(B)}}}},p={touches:0,allowEvent:function(k){var N=!0;return"touchstart"===k.type?p.touches+=1:"touchend"===k.type||"touchcancel"===k.type?setTimeout(function(){p.touches>0&&(p.touches-=1)},500):"mousedown"===k.type&&p.touches>0&&(N=!1),N},touchup:function(k){p.allowEvent(k)}};function A(k){var N=function C(k){if(!1===p.allowEvent(k))return null;for(var N=null,B=k.target||k.srcElement;null!==B.parentNode;){if(!(B instanceof SVGElement)&&-1!==B.className.indexOf("waves-effect")){N=B;break}B=B.parentNode}return N}(k);null!==N&&(c.show(k,N),"ontouchstart"in v&&(N.addEventListener("touchend",c.hide,!1),N.addEventListener("touchcancel",c.hide,!1)),N.addEventListener("mouseup",c.hide,!1),N.addEventListener("mouseleave",c.hide,!1),N.addEventListener("dragend",c.hide,!1))}I.displayEffect=function(k){"duration"in(k=k||{})&&(c.duration=k.duration),c.wrapInput(O(".waves-effect")),"ontouchstart"in v&&document.body.addEventListener("touchstart",A,!1),document.body.addEventListener("mousedown",A,!1)},I.attach=function(k){"input"===k.tagName.toLowerCase()&&(c.wrapInput([k]),k=k.parentNode),"ontouchstart"in v&&k.addEventListener("touchstart",A,!1),k.addEventListener("mousedown",A,!1)},v.Waves=I,document.addEventListener("DOMContentLoaded",function(){I.displayEffect()},!1)}(window),function(v,I){"use strict";var O={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},R=function(){function E(m){ze(this,E),this.options=v.extend({},E.defaults,m),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===E._toasts.length&&E._createContainer(),E._toasts.push(this);var h=this._createToast();h.M_Toast=this,this.el=h,this.$el=v(h),this._animateIn(),this._setTimer()}return lt(E,[{key:"_createToast",value:function(){var h=document.createElement("div");return h.classList.add("toast"),this.options.classes.length&&v(h).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?h.appendChild(this.message):this.message.jquery?v(h).append(this.message[0]):h.innerHTML=this.message,E._container.appendChild(h),h}},{key:"_animateIn",value:function(){I({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var h=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){h.panning||(h.timeRemaining-=20),h.timeRemaining<=0&&h.dismiss()},20))}},{key:"dismiss",value:function(){var h=this;window.clearInterval(this.counterInterval);var c=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+c+"px)",this.el.style.opacity=0),I({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof h.options.completeCallback&&h.options.completeCallback(),h.$el.remove(),E._toasts.splice(E._toasts.indexOf(h),1),0===E._toasts.length&&E._removeContainer()}})}}],[{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Toast}},{key:"_createContainer",value:function(){var h=document.createElement("div");h.setAttribute("id","toast-container"),h.addEventListener("touchstart",E._onDragStart),h.addEventListener("touchmove",E._onDragMove),h.addEventListener("touchend",E._onDragEnd),h.addEventListener("mousedown",E._onDragStart),document.addEventListener("mousemove",E._onDragMove),document.addEventListener("mouseup",E._onDragEnd),document.body.appendChild(h),E._container=h}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",E._onDragMove),document.removeEventListener("mouseup",E._onDragEnd),v(E._container).remove(),E._container=null}},{key:"_onDragStart",value:function(h){if(h.target&&v(h.target).closest(".toast").length){var p=v(h.target).closest(".toast")[0].M_Toast;p.panning=!0,E._draggedToast=p,p.el.classList.add("panning"),p.el.style.transition="",p.startingXPos=E._xPos(h),p.time=Date.now(),p.xPos=E._xPos(h)}}},{key:"_onDragMove",value:function(h){if(E._draggedToast){h.preventDefault();var c=E._draggedToast;c.deltaX=Math.abs(c.xPos-E._xPos(h)),c.xPos=E._xPos(h),c.velocityX=c.deltaX/(Date.now()-c.time),c.time=Date.now();var p=c.xPos-c.startingXPos,C=c.el.offsetWidth*c.options.activationPercent;c.el.style.transform="translateX("+p+"px)",c.el.style.opacity=1-Math.abs(p/C)}}},{key:"_onDragEnd",value:function(){if(E._draggedToast){var h=E._draggedToast;h.panning=!1,h.el.classList.remove("panning");var p=h.el.offsetWidth*h.options.activationPercent;Math.abs(h.xPos-h.startingXPos)>p||h.velocityX>1?(h.wasSwiped=!0,h.dismiss()):(h.el.style.transition="transform .2s, opacity .2s",h.el.style.transform="",h.el.style.opacity=""),E._draggedToast=null}}},{key:"_xPos",value:function(h){return h.targetTouches&&h.targetTouches.length>=1?h.targetTouches[0].clientX:h.clientX}},{key:"dismissAll",value:function(){for(var h in E._toasts)E._toasts[h].dismiss()}},{key:"defaults",get:function(){return O}}]),E}();R._toasts=[],R._container=null,R._draggedToast=null,M.Toast=R,M.toast=function(E){return new R(E)}}(cash,M.anime),function(v,I){"use strict";var O={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Sidenav=p,p.id=p.$el.attr("id"),p.options=v.extend({},m.defaults,c),p.isOpen=!1,p.isFixed=p.el.classList.contains("sidenav-fixed"),p.isDragged=!1,p.lastWindowWidth=window.innerWidth,p.lastWindowHeight=window.innerHeight,p._createOverlay(),p._createDragTarget(),p._setupEventHandlers(),p._setupClasses(),p._setupFixed(),m._sidenavs.push(p),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var c=m._sidenavs.indexOf(this);c>=0&&m._sidenavs.splice(c,1)}},{key:"_createOverlay",value:function(){var c=document.createElement("div");this._closeBound=this.close.bind(this),c.classList.add("sidenav-overlay"),c.addEventListener("click",this._closeBound),document.body.appendChild(c),this._overlay=c}},{key:"_setupEventHandlers",value:function(){0===m._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===m._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(c){var p=v(c.target).closest(".sidenav-trigger");if(c.target&&p.length){var C=M.getIdFromTrigger(p[0]),A=document.getElementById(C).M_Sidenav;A&&A.open(p),c.preventDefault()}}},{key:"_startDrag",value:function(c){var p=c.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=p,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,I.remove(this.el),I.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(c){var p=c.targetTouches[0].clientX,C=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-p),this._xPos=p,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==C&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(c){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(c),this._dragMoveUpdate(c);var p=this._xPos-this._startingXpos,C=p>0?"right":"left";p=Math.min(this._width,Math.abs(p)),this.options.edge===C&&(p=0);var A=p,k="translateX(-100%)";"right"===this.options.edge&&(k="translateX(100%)",A=-A),this.percentOpen=Math.min(1,p/this._width),this.el.style.transform=k+" translateX("+A+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.2?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(c){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(c),this._dragMoveUpdate(c);var p=this._xPos-this._startingXpos,C=p>0?"right":"left";p=Math.min(this._width,Math.abs(p)),this.options.edge!==C&&(p=0);var A=-p;"right"===this.options.edge&&(A=-A),this.percentOpen=Math.min(1,1-p/this._width),this.el.style.transform="translateX("+A+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.8?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(c){v(c.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var c=document.createElement("div");c.classList.add("drag-target"),document.body.appendChild(c),this.dragTarget=c}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(I.remove(this.el),I({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),(!this.isDragged||1!=this.percentOpen)&&this._animateIn()))}},{key:"close",value:function(){!1!==this.isOpen&&(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()?this.el.style.transform="translateX("+("left"===this.options.edge?"-105%":"105%")+")":(this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()))}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var c=this,p="left"===this.options.edge?-1:1;this.isDragged&&(p="left"===this.options.edge?p+this.percentOpen:p-this.percentOpen),I.remove(this.el),I({targets:this.el,translateX:[100*p+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof c.options.onOpenEnd&&c.options.onOpenEnd.call(c,c.el)}})}},{key:"_animateOverlayIn",value:function(){var c=0;this.isDragged?c=this.percentOpen:v(this._overlay).css({display:"block"}),I.remove(this._overlay),I({targets:this._overlay,opacity:[c,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var c=this,p="left"===this.options.edge?-1:1,C=0;this.isDragged&&(C="left"===this.options.edge?p+this.percentOpen:p-this.percentOpen),I.remove(this.el),I({targets:this.el,translateX:[100*C+"%",105*p+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof c.options.onCloseEnd&&c.options.onCloseEnd.call(c,c.el)}})}},{key:"_animateOverlayOut",value:function(){var c=this;I.remove(this._overlay),I({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){v(c._overlay).css("display","none")}})}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Sidenav}},{key:"defaults",get:function(){return O}}]),m}(It);R._sidenavs=[],window.M.Sidenav=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"sidenav","M_Sidenav")}(cash,M.anime),function(v,I){"use strict";var O={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(E){return'a[href="#'+E+'"]'}},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_ScrollSpy=p,p.options=v.extend({},m.defaults,c),m._elements.push(p),m._count++,m._increment++,p.tickId=-1,p.id=m._increment,p._setupEventHandlers(),p._handleWindowScroll(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){m._elements.splice(m._elements.indexOf(this),1),m._elementsInView.splice(m._elementsInView.indexOf(this),1),m._visibleElements.splice(m._visibleElements.indexOf(this.$el),1),m._count--,this._removeEventHandlers(),v(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var c=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=c.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===m._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===m._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(c){for(var p=v(c.target),C=m._elements.length-1;C>=0;C--){var A=m._elements[C];if(p.is('a[href="#'+A.$el.attr("id")+'"]')){c.preventDefault();var k=A.$el.offset().top+1;I({targets:[document.documentElement,document.body],scrollTop:k-A.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){m._ticks++;for(var c=M.getDocumentScrollTop(),p=M.getDocumentScrollLeft(),C=p+window.innerWidth,A=c+window.innerHeight,k=m._findElements(c,C,A,p),N=0;N<k.length;N++){var B=k[N];B.tickId<0&&B._enter(),B.tickId=m._ticks}for(var Q=0;Q<m._elementsInView.length;Q++){var q=m._elementsInView[Q],ve=q.tickId;ve>=0&&ve!==m._ticks&&(q._exit(),q.tickId=-1)}m._elementsInView=k}},{key:"_enter",value:function(){(m._visibleElements=m._visibleElements.filter(function(c){return 0!=c.height()}))[0]?(v(this.options.getActiveElement(m._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),m._visibleElements[0][0].M_ScrollSpy&&this.id<m._visibleElements[0][0].M_ScrollSpy.id?m._visibleElements.unshift(this.$el):m._visibleElements.push(this.$el)):m._visibleElements.push(this.$el),v(this.options.getActiveElement(m._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var c=this;(m._visibleElements=m._visibleElements.filter(function(p){return 0!=p.height()}))[0]&&(v(this.options.getActiveElement(m._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(m._visibleElements=m._visibleElements.filter(function(p){return p.attr("id")!=c.$el.attr("id")}))[0]&&v(this.options.getActiveElement(m._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_ScrollSpy}},{key:"_findElements",value:function(c,p,C,A){for(var k=[],N=0;N<m._elements.length;N++){var B=m._elements[N],W=c+B.options.scrollOffset||200;if(B.$el.height()>0){var Q=B.$el.offset().top,q=B.$el.offset().left,ve=q+B.$el.width(),ee=Q+B.$el.height();!(q>p||ve<A||Q>C||ee<W)&&k.push(B)}}return k}},{key:"defaults",get:function(){return O}}]),m}(It);R._elements=[],R._elementsInView=[],R._visibleElements=[],R._count=0,R._increment=0,R._ticks=0,M.ScrollSpy=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(v){"use strict";var I={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(R,E,m){return R.indexOf(m)-E.indexOf(m)}},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Autocomplete=c,c.options=v.extend({},E.defaults,h),c.isOpen=!1,c.count=0,c.activeIndex=-1,c.$inputField=c.$el.closest(".input-field"),c.$active=v(),c._mousedown=!1,c._setupDropdown(),c._setupEventHandlers(),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),void 0!==window.ontouchstart&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var h=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),v(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(c){h.selectOption(v(c))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(h){"keyup"===h.type&&(E._keydown=!1),this.count=0;var c=this.el.value.toLowerCase();13===h.keyCode||38===h.keyCode||40===h.keyCode||(this.oldVal!==c&&(M.tabPressed||"focus"!==h.type)&&this.open(),this.oldVal=c)}},{key:"_handleInputKeydown",value:function(h){E._keydown=!0;var c=h.keyCode,p=void 0,C=v(this.container).children("li").length;c===M.keys.ENTER&&this.activeIndex>=0?(p=v(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(p),h.preventDefault()):(c===M.keys.ARROW_UP||c===M.keys.ARROW_DOWN)&&(h.preventDefault(),c===M.keys.ARROW_UP&&this.activeIndex>0&&this.activeIndex--,c===M.keys.ARROW_DOWN&&this.activeIndex<C-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=v(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(h){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(h){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(h){this._mousedown=!1}},{key:"_highlight",value:function(h,c){var p=c.find("img"),C=c.text().toLowerCase().indexOf(""+h.toLowerCase()),A=C+h.length-1,k=c.text().slice(0,C),N=c.text().slice(C,A+1),B=c.text().slice(A+1);c.html("<span>"+k+"<span class='highlight'>"+N+"</span>"+B+"</span>"),p.length&&c.prepend(p)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){v(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(h){var c=h.text().trim();this.el.value=c,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,c)}},{key:"_renderDropdown",value:function(h,c){var p=this;this._resetAutocomplete();var C=[];for(var A in h)if(h.hasOwnProperty(A)&&-1!==A.toLowerCase().indexOf(c)){if(this.count>=this.options.limit)break;C.push({data:h[A],key:A}),this.count++}this.options.sortFunction&&C.sort(function(q,ve){return p.options.sortFunction(q.key.toLowerCase(),ve.key.toLowerCase(),c.toLowerCase())});for(var B=0;B<C.length;B++){var W=C[B],Q=v("<li></li>");Q.append(W.data?'<img src="'+W.data+'" class="right circle"><span>'+W.key+"</span>":"<span>"+W.key+"</span>"),v(this.container).append(Q),this._highlight(c,Q)}}},{key:"open",value:function(){var h=this.el.value.toLowerCase();this._resetAutocomplete(),h.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,h)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(h){var c=this.el.value.toLowerCase();this.options.data=h,this.isOpen&&this._renderDropdown(h,c)}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Autocomplete}},{key:"defaults",get:function(){return I}}]),E}(It);O._keydown=!1,M.Autocomplete=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"autocomplete","M_Autocomplete")}(cash),function(v){M.updateTextFields=function(){v("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(O,R){var E=v(this);O.value.length>0||v(O).is(":focus")||O.autofocus||null!==E.attr("placeholder")?E.siblings("label").addClass("active"):O.validity?E.siblings("label").toggleClass("active",!0===O.validity.badInput):E.siblings("label").removeClass("active")})},M.validate_field=function(I){var O=null!==I.attr("data-length"),R=parseInt(I.attr("data-length")),E=I[0].value.length;0!==E||!1!==I[0].validity.badInput||I.is(":required")?I.hasClass("validate")&&(I.is(":valid")&&O&&E<=R||I.is(":valid")&&!O?(I.removeClass("invalid"),I.addClass("valid")):(I.removeClass("valid"),I.addClass("invalid"))):I.hasClass("validate")&&(I.removeClass("valid"),I.removeClass("invalid"))},M.textareaAutoResize=function(I){if(I instanceof Element&&(I=v(I)),I.length){var O=v(".hiddendiv").first();O.length||(O=v('<div class="hiddendiv common"></div>'),v("body").append(O));var R=I.css("font-family"),E=I.css("font-size"),m=I.css("line-height"),h=I.css("padding-top"),c=I.css("padding-right"),p=I.css("padding-bottom"),C=I.css("padding-left");E&&O.css("font-size",E),R&&O.css("font-family",R),m&&O.css("line-height",m),h&&O.css("padding-top",h),c&&O.css("padding-right",c),p&&O.css("padding-bottom",p),C&&O.css("padding-left",C),I.data("original-height")||I.data("original-height",I.height()),"off"===I.attr("wrap")&&O.css("overflow-wrap","normal").css("white-space","pre"),O.text(I[0].value+"\n");var A=O.html().replace(/\n/g,"<br>");O.html(A),O.css("width",I[0].offsetWidth>0&&I[0].offsetHeight>0?I.width()+"px":window.innerWidth/2+"px"),I.data("original-height")<=O.innerHeight()?I.css("height",O.innerHeight()+"px"):I[0].value.length<I.data("previous-length")&&I.css("height",I.data("original-height")+"px"),I.data("previous-length",I[0].value.length)}else console.error("No textarea element found")},v(document).ready(function(){var I="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";v(document).on("change",I,function(){(0!==this.value.length||null!==v(this).attr("placeholder"))&&v(this).siblings("label").addClass("active"),M.validate_field(v(this))}),v(document).ready(function(){M.updateTextFields()}),v(document).on("reset",function(E){var m=v(E.target);m.is("form")&&(m.find(I).removeClass("valid").removeClass("invalid"),m.find(I).each(function(h){this.value.length&&v(this).siblings("label").removeClass("active")}),setTimeout(function(){m.find("select").each(function(){this.M_FormSelect&&v(this).trigger("change")})},0))}),document.addEventListener("focus",function(E){v(E.target).is(I)&&v(E.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(E){var m=v(E.target);if(m.is(I)){var h=".prefix";0===m[0].value.length&&!0!==m[0].validity.badInput&&null===m.attr("placeholder")&&(h+=", label"),m.siblings(h).removeClass("active"),M.validate_field(m)}},!0),v(document).on("keyup","input[type=radio], input[type=checkbox]",function(E){if(E.which===M.keys.TAB)return v(this).addClass("tabbed"),void v(this).one("blur",function(h){v(this).removeClass("tabbed")})});var R=".materialize-textarea";v(R).each(function(){var E=v(this);E.data("original-height",E.height()),E.data("previous-length",this.value.length),M.textareaAutoResize(E)}),v(document).on("keyup",R,function(){M.textareaAutoResize(v(this))}),v(document).on("keydown",R,function(){M.textareaAutoResize(v(this))}),v(document).on("change",'.file-field input[type="file"]',function(){for(var m=v(this).closest(".file-field").find("input.file-path"),h=v(this)[0].files,c=[],p=0;p<h.length;p++)c.push(h[p].name);m[0].value=c.join(", "),m.trigger("change")})})}(cash),function(v,I){"use strict";var O={indicators:!0,height:400,duration:500,interval:6e3},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Slider=p,p.options=v.extend({},m.defaults,c),p.$slider=p.$el.find(".slides"),p.$slides=p.$slider.children("li"),p.activeIndex=p.$slides.filter(function(C){return v(C).hasClass("active")}).first().index(),-1!=p.activeIndex&&(p.$active=p.$slides.eq(p.activeIndex)),p._setSliderHeight(),p.$slides.find(".caption").each(function(C){p._animateCaptionIn(C,0)}),p.$slides.find("img").each(function(C){var A="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";v(C).attr("src")!==A&&(v(C).css("background-image",'url("'+v(C).attr("src")+'")'),v(C).attr("src",A))}),p._setupIndicators(),p.$active?p.$active.css("display","block"):(p.$slides.first().addClass("active"),I({targets:p.$slides.first()[0],opacity:1,duration:p.options.duration,easing:"easeOutQuad"}),p.activeIndex=0,p.$active=p.$slides.eq(p.activeIndex),p.options.indicators&&p.$indicators.eq(p.activeIndex).addClass("active")),p.$active.find("img").each(function(C){I({targets:p.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:p.options.duration,easing:"easeOutQuad"})}),p._setupEventHandlers(),p.start(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var c=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(p){p.addEventListener("click",c._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var c=this;this.options.indicators&&this.$indicators.each(function(p){p.removeEventListener("click",c._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(c){var p=v(c.target).index();this.set(p)}},{key:"_handleInterval",value:function(){var c=this.$slider.find(".active").index();this.$slides.length===c+1?c=0:c+=1,this.set(c)}},{key:"_animateCaptionIn",value:function(c,p){var C={targets:c,opacity:0,duration:p,easing:"easeOutQuad"};v(c).hasClass("center-align")?C.translateY=-100:v(c).hasClass("right-align")?C.translateX=100:v(c).hasClass("left-align")&&(C.translateX=-100),I(C)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.$el.css("height",this.options.indicators?this.options.height+40+"px":this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var c=this;this.options.indicators&&(this.$indicators=v('<ul class="indicators"></ul>'),this.$slides.each(function(p,C){var A=v('<li class="indicator-item"></li>');c.$indicators.append(A[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(c){var p=this;if(c>=this.$slides.length?c=0:c<0&&(c=this.$slides.length-1),this.activeIndex!=c){this.$active=this.$slides.eq(this.activeIndex);var C=this.$active.find(".caption");this.$active.removeClass("active"),I({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){p.$slides.not(".active").each(function(A){I({targets:A,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(C[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(c).addClass("active")),I({targets:this.$slides.eq(c)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),I({targets:this.$slides.eq(c).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(c).addClass("active"),this.activeIndex=c,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var c=this.activeIndex+1;c>=this.$slides.length?c=0:c<0&&(c=this.$slides.length-1),this.set(c)}},{key:"prev",value:function(){var c=this.activeIndex-1;c>=this.$slides.length?c=0:c<0&&(c=this.$slides.length-1),this.set(c)}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Slider}},{key:"defaults",get:function(){return O}}]),m}(It);M.Slider=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"slider","M_Slider")}(cash,M.anime),function(v,I){v(document).on("click",".card",function(O){if(v(this).children(".card-reveal").length){var R=v(O.target).closest(".card");void 0===R.data("initialOverflow")&&R.data("initialOverflow",void 0===R.css("overflow")?"":R.css("overflow"));var E=v(this).find(".card-reveal");v(O.target).is(v(".card-reveal .card-title"))||v(O.target).is(v(".card-reveal .card-title i"))?I({targets:E[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(m){v(m.animatables[0].target).css({display:"none"}),R.css("overflow",R.data("initialOverflow"))}}):(v(O.target).is(v(".card .activator"))||v(O.target).is(v(".card .activator i")))&&(R.css("overflow","hidden"),E.css({display:"block"}),I({targets:E[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(v){"use strict";var I={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Chips=c,c.options=v.extend({},E.defaults,h),c.$el.addClass("chips input-field"),c.chipsData=[],c.$chips=v(),c._setupInput(),c.hasAutocomplete=Object.keys(c.options.autocompleteOptions).length>0,c.$input.attr("id")||c.$input.attr("id",M.guid()),c.options.data.length&&(c.chipsData=c.options.data,c._renderChips(c.chipsData)),c.hasAutocomplete&&c._setupAutocomplete(),c._setPlaceholder(),c._setupLabel(),c._setupEventHandlers(),c}return yt(E,R),lt(E,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",E._handleChipsKeydown),document.addEventListener("keyup",E._handleChipsKeyup),this.el.addEventListener("blur",E._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",E._handleChipsKeydown),document.removeEventListener("keyup",E._handleChipsKeyup),this.el.removeEventListener("blur",E._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(h){var c=v(h.target).closest(".chip"),p=v(h.target).is(".close");if(c.length){var C=c.index();p?(this.deleteChip(C),this.$input[0].focus()):this.selectChip(C)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(h){if(E._keydown=!0,13===h.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;h.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else(8===h.keyCode||37===h.keyCode)&&""===this.$input[0].value&&this.chipsData.length&&(h.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(h){if(h.tag){var c=document.createElement("div"),p=document.createElement("i");if(c.classList.add("chip"),c.textContent=h.tag,c.setAttribute("tabindex",0),v(p).addClass("material-icons close"),p.textContent="close",h.image){var C=document.createElement("img");C.setAttribute("src",h.image),c.insertBefore(C,c.firstChild)}return c.appendChild(p),c}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var h=0;h<this.chipsData.length;h++){var c=this._renderChip(this.chipsData[h]);this.$el.append(c),this.$chips.add(c)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var h=this;this.options.autocompleteOptions.onAutocomplete=function(c){h.addChip({tag:c}),h.$input[0].value="",h.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=v("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?v(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&v(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(h){if(h.hasOwnProperty("tag")&&""!==h.tag){for(var c=!1,p=0;p<this.chipsData.length;p++)if(this.chipsData[p].tag===h.tag){c=!0;break}return!c}return!1}},{key:"addChip",value:function(h){if(this._isValid(h)&&!(this.chipsData.length>=this.options.limit)){var c=this._renderChip(h);this.$chips.add(c),this.chipsData.push(h),v(this.$input).before(c),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,c)}}},{key:"deleteChip",value:function(h){var c=this.$chips.eq(h);this.$chips.eq(h).remove(),this.$chips=this.$chips.filter(function(p){return v(p).index()>=0}),this.chipsData.splice(h,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,c[0])}},{key:"selectChip",value:function(h){var c=this.$chips.eq(h);this._selectedChip=c,c[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,c[0])}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Chips}},{key:"_handleChipsKeydown",value:function(h){E._keydown=!0;var c=v(h.target).closest(".chips"),p=h.target&&c.length;if(!v(h.target).is("input, textarea")&&p){var C=c[0].M_Chips;if(8===h.keyCode||46===h.keyCode){h.preventDefault();var A=C.chipsData.length;if(C._selectedChip){var k=C._selectedChip.index();C.deleteChip(k),C._selectedChip=null,A=Math.max(k-1,0)}C.chipsData.length&&C.selectChip(A)}else if(37===h.keyCode){if(C._selectedChip){var N=C._selectedChip.index()-1;if(N<0)return;C.selectChip(N)}}else if(39===h.keyCode&&C._selectedChip){var B=C._selectedChip.index()+1;B>=C.chipsData.length?C.$input[0].focus():C.selectChip(B)}}}},{key:"_handleChipsKeyup",value:function(h){E._keydown=!1}},{key:"_handleChipsBlur",value:function(h){E._keydown||(v(h.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return I}}]),E}(It);O._keydown=!1,M.Chips=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"chips","M_Chips"),v(document).ready(function(){v(document.body).on("click",".chip .close",function(){var R=v(this).closest(".chips");R.length&&R[0].M_Chips||v(this).closest(".chip").remove()})})}(cash),function(v){"use strict";var I={top:0,bottom:1/0,offset:0,onPositionChange:null},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Pushpin=c,c.options=v.extend({},E.defaults,h),c.originalOffset=c.el.offsetTop,E._pushpins.push(c),c._setupEventHandlers(),c._updatePosition(),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var h=E._pushpins.indexOf(this);E._pushpins.splice(h,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",E._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",E._updateElements)}},{key:"_updatePosition",value:function(){var h=M.getDocumentScrollTop()+this.options.offset;this.options.top<=h&&this.options.bottom>=h&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),h<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),h>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Pushpin}},{key:"_updateElements",value:function(){for(var h in E._pushpins)E._pushpins[h]._updatePosition()}},{key:"defaults",get:function(){return I}}]),E}(It);O._pushpins=[],M.Pushpin=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"pushpin","M_Pushpin")}(cash),function(v,I){"use strict";var O={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};v.fn.reverse=[].reverse;var R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_FloatingActionButton=p,p.options=v.extend({},m.defaults,c),p.isOpen=!1,p.$anchor=p.$el.children("a").first(),p.$menu=p.$el.children("ul").first(),p.$floatingBtns=p.$el.find("ul .btn-floating"),p.$floatingBtnsReverse=p.$el.find("ul .btn-floating").reverse(),p.offsetY=0,p.offsetX=0,p.$el.addClass("direction-"+p.options.direction),"top"===p.options.direction?p.offsetY=40:"right"===p.options.direction?p.offsetX=-40:"bottom"===p.options.direction?p.offsetY=-40:p.offsetX=40,p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(c){v(c.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){!this.isOpen||(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var c=this;this.$el.addClass("active");var p=0;this.$floatingBtnsReverse.each(function(C){I({targets:C,opacity:1,scale:[.4,1],translateY:[c.offsetY,0],translateX:[c.offsetX,0],duration:275,delay:p,easing:"easeInOutQuad"}),p+=40})}},{key:"_animateOutFAB",value:function(){var c=this;this.$floatingBtnsReverse.each(function(p){I.remove(p),I({targets:p,opacity:0,scale:.4,translateY:c.offsetY,translateX:c.offsetX,duration:175,easing:"easeOutQuad",complete:function(){c.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var p,c=this,C=window.innerWidth,A=window.innerHeight,k=this.el.getBoundingClientRect(),N=v('<div class="fab-backdrop"></div>'),B=this.$anchor.css("background-color");this.$anchor.append(N),this.offsetX=k.left-C/2+k.width/2,this.offsetY=A-k.bottom,p=C/N[0].clientWidth,this.btnBottom=k.bottom,this.btnLeft=k.left,this.btnWidth=k.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),N.css({"background-color":B}),setTimeout(function(){c.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),c.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){c.$el.css({overflow:"hidden","background-color":B}),N.css({transform:"scale("+p+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),c.$menu.children("li").children("a").css({opacity:1}),c._handleDocumentClickBound=c._handleDocumentClick.bind(c),window.addEventListener("scroll",c._handleCloseBound,!0),document.body.addEventListener("click",c._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var c=this,p=window.innerWidth,C=window.innerHeight,A=this.$el.find(".fab-backdrop"),k=this.$anchor.css("background-color");this.offsetX=this.btnLeft-p/2+this.btnWidth/2,this.offsetY=C-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),A.css({transform:"scale(0)","background-color":k}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){A.remove(),c.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-c.offsetX+"px,0,0)"}),c.$anchor.css({overflow:"",transform:"translate3d(0,"+c.offsetY+"px,0)"}),setTimeout(function(){c.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),c.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_FloatingActionButton}},{key:"defaults",get:function(){return O}}]),m}(It);M.FloatingActionButton=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(v){"use strict";var I={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"\u2039",nextMonth:"\u203a",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));c.el.M_Datepicker=c,c.options=v.extend({},E.defaults,h),!!h&&h.hasOwnProperty("i18n")&&"object"==typeof h.i18n&&(c.options.i18n=v.extend({},E.defaults.i18n,h.i18n)),c.options.minDate&&c.options.minDate.setHours(0,0,0,0),c.options.maxDate&&c.options.maxDate.setHours(0,0,0,0),c.id=M.guid(),c._setupVariables(),c._insertHTMLIntoDOM(),c._setupModal(),c._setupEventHandlers(),c.options.defaultDate||(c.options.defaultDate=new Date(Date.parse(c.el.value)));var p=c.options.defaultDate;return E._isDate(p)?c.options.setDefaultDate?(c.setDate(p,!0),c.setInputValue()):c.gotoDate(p):c.gotoDate(new Date),c.isOpen=!1,c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),v(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var h=this.calendarEl.querySelector(".orig-select-year");h&&M.FormSelect.getInstance(h).destroy();var c=this.calendarEl.querySelector(".orig-select-month");c&&M.FormSelect.getInstance(c).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(v(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var h=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){h.isOpen=!1}})}},{key:"toString",value:function(h){var c=this;return h=h||this.options.format,E._isDate(this.date)?h.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(A){return c.formats[A]?c.formats[A]():A}).join(""):""}},{key:"setDate",value:function(h,c){if(!h)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof h&&(h=new Date(Date.parse(h))),E._isDate(h)){var p=this.options.minDate,C=this.options.maxDate;E._isDate(p)&&h<p?h=p:E._isDate(C)&&h>C&&(h=C),this.date=new Date(h.getTime()),this._renderDateDisplay(),E._setToStartOfDay(this.date),this.gotoDate(this.date),!c&&"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var h=E._isDate(this.date)?this.date:new Date,c=this.options.i18n,p=c.weekdaysShort[h.getDay()],C=c.monthsShort[h.getMonth()],A=h.getDate();this.yearTextEl.innerHTML=h.getFullYear(),this.dateTextEl.innerHTML=p+", "+C+" "+A}},{key:"gotoDate",value:function(h){var c=!0;if(E._isDate(h)){if(this.calendars){var p=new Date(this.calendars[0].year,this.calendars[0].month,1),C=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),A=h.getTime();C.setMonth(C.getMonth()+1),C.setDate(C.getDate()-1),c=A<p.getTime()||C.getTime()<A}c&&(this.calendars=[{month:h.getMonth(),year:h.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(h){return h.month<0&&(h.year-=Math.ceil(Math.abs(h.month)/12),h.month+=12),h.month>11&&(h.year+=Math.floor(Math.abs(h.month)/12),h.month-=12),h}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(h,c,p){var C=this.options,A=new Date,k=E._getDaysInMonth(h,c),N=new Date(h,c,1).getDay(),B=[],W=[];E._setToStartOfDay(A),C.firstDay>0&&(N-=C.firstDay)<0&&(N+=7);for(var Q=0===c?11:c-1,q=11===c?0:c+1,ve=0===c?h-1:h,ee=11===c?h+1:h,he=E._getDaysInMonth(ve,Q),Ue=k+N,nt=Ue;nt>7;)nt-=7;Ue+=7-nt;for(var _t=!1,st=0,rt=0;st<Ue;st++){var Oe=new Date(h,c,st-N+1),je=!!E._isDate(this.date)&&E._compareDates(Oe,this.date),mr=E._compareDates(Oe,A),Ps=-1!==C.events.indexOf(Oe.toDateString()),Zr=st<N||st>=k+N,Pn=st-N+1,ei=c,wt=h,ns=C.startRange&&E._compareDates(C.startRange,Oe),ti=C.endRange&&E._compareDates(C.endRange,Oe),ni=C.startRange&&C.endRange&&C.startRange<Oe&&Oe<C.endRange,ar=C.minDate&&Oe<C.minDate||C.maxDate&&Oe>C.maxDate||C.disableWeekends&&E._isWeekend(Oe)||C.disableDayFn&&C.disableDayFn(Oe);Zr&&(st<N?(Pn=he+Pn,ei=Q,wt=ve):(Pn-=k,ei=q,wt=ee)),W.push(this.renderDay({day:Pn,month:ei,year:wt,hasEvent:Ps,isSelected:je,isToday:mr,isDisabled:ar,isEmpty:Zr,isStartRange:ns,isEndRange:ti,isInRange:ni,showDaysInNextAndPreviousMonths:C.showDaysInNextAndPreviousMonths})),7==++rt&&(B.push(this.renderRow(W,C.isRTL,_t)),W=[],rt=0,_t=!1)}return this.renderTable(C,B,p)}},{key:"renderDay",value:function(h){var c=[],p="false";if(h.isEmpty){if(!h.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';c.push("is-outside-current-month"),c.push("is-selection-disabled")}return h.isDisabled&&c.push("is-disabled"),h.isToday&&c.push("is-today"),h.isSelected&&(c.push("is-selected"),p="true"),h.hasEvent&&c.push("has-event"),h.isInRange&&c.push("is-inrange"),h.isStartRange&&c.push("is-startrange"),h.isEndRange&&c.push("is-endrange"),'<td data-day="'+h.day+'" class="'+c.join(" ")+'" aria-selected="'+p+'"><button class="datepicker-day-button" type="button" data-year="'+h.year+'" data-month="'+h.month+'" data-day="'+h.day+'">'+h.day+"</button></td>"}},{key:"renderRow",value:function(h,c,p){return'<tr class="datepicker-row'+(p?" is-selected":"")+'">'+(c?h.reverse():h).join("")+"</tr>"}},{key:"renderTable",value:function(h,c,p){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+p+'">'+this.renderHead(h)+this.renderBody(c)+"</table></div>"}},{key:"renderHead",value:function(h){var c=void 0,p=[];for(c=0;c<7;c++)p.push('<th scope="col"><abbr title="'+this.renderDayName(h,c)+'">'+this.renderDayName(h,c,!0)+"</abbr></th>");return"<thead><tr>"+(h.isRTL?p.reverse():p).join("")+"</tr></thead>"}},{key:"renderBody",value:function(h){return"<tbody>"+h.join("")+"</tbody>"}},{key:"renderTitle",value:function(h,c,p,C,A,k){var he,Ue,N=void 0,B=void 0,W=void 0,Q=this.options,q=p===Q.minYear,ve=p===Q.maxYear,ee='<div id="'+k+'" class="datepicker-controls" role="heading" aria-live="assertive">',nt=!0,_t=!0;for(W=[],N=0;N<12;N++)W.push('<option value="'+(p===A?N-c:12+N-c)+'"'+(N===C?' selected="selected"':"")+(q&&N<Q.minMonth||ve&&N>Q.maxMonth?'disabled="disabled"':"")+">"+Q.i18n.months[N]+"</option>");for(he='<select class="datepicker-select orig-select-month" tabindex="-1">'+W.join("")+"</select>",v.isArray(Q.yearRange)?(N=Q.yearRange[0],B=Q.yearRange[1]+1):(N=p-Q.yearRange,B=1+p+Q.yearRange),W=[];N<B&&N<=Q.maxYear;N++)N>=Q.minYear&&W.push('<option value="'+N+'" '+(N===p?'selected="selected"':"")+">"+N+"</option>");return Ue='<select class="datepicker-select orig-select-year" tabindex="-1">'+W.join("")+"</select>",ee+='<button class="month-prev'+(nt?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',ee+='<div class="selects-container">',ee+=Q.showMonthAfterYear?Ue+he:he+Ue,ee+="</div>",q&&(0===C||Q.minMonth>=C)&&(nt=!1),ve&&(11===C||Q.maxMonth<=C)&&(_t=!1),(ee+='<button class="month-next'+(_t?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(h){if(this.isOpen||h){var B,c=this.options,p=c.minYear,C=c.maxYear,A=c.minMonth,k=c.maxMonth,N="";this._y<=p&&(this._y=p,!isNaN(A)&&this._m<A&&(this._m=A)),this._y>=C&&(this._y=C,!isNaN(k)&&this._m>k&&(this._m=k)),B="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var W=0;W<1;W++)this._renderDateDisplay(),N+=this.renderTitle(this,W,this.calendars[W].year,this.calendars[W].month,this.calendars[0].year,B)+this.render(this.calendars[W].year,this.calendars[W].month,B);this.destroySelects(),this.calendarEl.innerHTML=N;var Q=this.calendarEl.querySelector(".orig-select-year"),q=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(Q,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(q,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),Q.addEventListener("change",this._handleYearChange.bind(this)),q.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var h=this;this.$modalEl=v(E._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return h.date.getDate()},dd:function(){var c=h.date.getDate();return(c<10?"0":"")+c},ddd:function(){return h.options.i18n.weekdaysShort[h.date.getDay()]},dddd:function(){return h.options.i18n.weekdays[h.date.getDay()]},m:function(){return h.date.getMonth()+1},mm:function(){var c=h.date.getMonth()+1;return(c<10?"0":"")+c},mmm:function(){return h.options.i18n.monthsShort[h.date.getMonth()]},mmmm:function(){return h.options.i18n.months[h.date.getMonth()]},yy:function(){return(""+h.date.getFullYear()).slice(2)},yyyy:function(){return h.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(h){h.which===M.keys.ENTER&&(h.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(h){if(this.isOpen){var c=v(h.target);c.hasClass("is-disabled")||(!c.hasClass("datepicker-day-button")||c.hasClass("is-empty")||c.parent().hasClass("is-disabled")?c.closest(".month-prev").length?this.prevMonth():c.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(h.target.getAttribute("data-year"),h.target.getAttribute("data-month"),h.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(h){this.gotoMonth(h.target.value)}},{key:"_handleYearChange",value:function(h){this.gotoYear(h.target.value)}},{key:"gotoMonth",value:function(h){isNaN(h)||(this.calendars[0].month=parseInt(h,10),this.adjustCalendars())}},{key:"gotoYear",value:function(h){isNaN(h)||(this.calendars[0].year=parseInt(h,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(h){var c=void 0;h.firedBy!==this&&(c=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),E._isDate(c)&&this.setDate(c))}},{key:"renderDayName",value:function(h,c,p){for(c+=h.firstDay;c>=7;)c-=7;return p?h.i18n.weekdaysAbbrev[c]:h.i18n.weekdays[c]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"_isDate",value:function(h){return/Date/.test(Object.prototype.toString.call(h))&&!isNaN(h.getTime())}},{key:"_isWeekend",value:function(h){var c=h.getDay();return 0===c||6===c}},{key:"_setToStartOfDay",value:function(h){E._isDate(h)&&h.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(h,c){return[31,E._isLeapYear(h)?29:28,31,30,31,30,31,31,30,31,30,31][c]}},{key:"_isLeapYear",value:function(h){return h%4==0&&h%100!=0||h%400==0}},{key:"_compareDates",value:function(h,c){return h.getTime()===c.getTime()}},{key:"_setToStartOfDay",value:function(h){E._isDate(h)&&h.setHours(0,0,0,0)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Datepicker}},{key:"defaults",get:function(){return I}}]),E}(It);O._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"datepicker","M_Datepicker")}(cash),function(v){"use strict";var I={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Timepicker=c,c.options=v.extend({},E.defaults,h),c.id=M.guid(),c._insertHTMLIntoDOM(),c._setupModal(),c._setupVariables(),c._setupEventHandlers(),c._clockSetup(),c._pickerSetup(),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),v(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),v(this.spanHours).on("click",this.showView.bind(this,"hours")),v(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(h){h.which===M.keys.ENTER&&(h.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(h){h.preventDefault();var c=this.plate.getBoundingClientRect(),p_y=c.top;this.x0=c.left+this.options.dialRadius,this.y0=p_y+this.options.dialRadius,this.moved=!1;var C=E._Pos(h);this.dx=C.x-this.x0,this.dy=C.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(h){h.preventDefault();var c=E._Pos(h),p=c.x-this.x0,C=c.y-this.y0;this.moved=!0,this.setHand(p,C,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(h){var c=this;h.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var p=E._Pos(h),C=p.x-this.x0,A=p.y-this.y0;this.moved&&C===this.dx&&A===this.dy&&this.setHand(C,A),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(v(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){c.done()},this.options.duration/2)),"function"==typeof this.options.onSelect&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=v(E._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var h=document.querySelector(this.options.container);this.options.container&&h?this.$modalEl.appendTo(h):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var h=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){"function"==typeof h.options.onCloseEnd&&h.options.onCloseEnd.call(h),h.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var h=v('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&h.css({visibility:""});var c=v('<div class="confirmation-btns"></div>');v('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(c).on("click",this.close.bind(this)),v('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(c).on("click",this.done.bind(this)),c.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=v('<div class="am-btn">AM</div>'),this.$pmBtn=v('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var h=this.options.dialRadius,c=this.options.tickRadius,p=2*h,C=E._createSVGEl("svg");C.setAttribute("class","timepicker-svg"),C.setAttribute("width",p),C.setAttribute("height",p);var A=E._createSVGEl("g");A.setAttribute("transform","translate("+h+","+h+")");var k=E._createSVGEl("circle");k.setAttribute("class","timepicker-canvas-bearing"),k.setAttribute("cx",0),k.setAttribute("cy",0),k.setAttribute("r",4);var N=E._createSVGEl("line");N.setAttribute("x1",0),N.setAttribute("y1",0);var B=E._createSVGEl("circle");B.setAttribute("class","timepicker-canvas-bg"),B.setAttribute("r",c),A.appendChild(N),A.appendChild(B),A.appendChild(k),C.appendChild(A),this._canvas.appendChild(C),this.hand=N,this.bg=B,this.bearing=k,this.g=A}},{key:"_buildHoursView",value:function(){var h=v('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var c=1;c<13;c+=1){var p=h.clone(),C=c/6*Math.PI,A=this.options.outerRadius;p.css({left:this.options.dialRadius+Math.sin(C)*A-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(C)*A-this.options.tickRadius+"px"}),p.html(0===c?"00":c),this.hoursView.appendChild(p[0])}else for(var k=0;k<24;k+=1){var N=h.clone(),B=k/6*Math.PI,Q=k>0&&k<13?this.options.innerRadius:this.options.outerRadius;N.css({left:this.options.dialRadius+Math.sin(B)*Q-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(B)*Q-this.options.tickRadius+"px"}),N.html(0===k?"00":k),this.hoursView.appendChild(N[0])}}},{key:"_buildMinutesView",value:function(){for(var h=v('<div class="timepicker-tick"></div>'),c=0;c<60;c+=5){var p=h.clone(),C=c/30*Math.PI;p.css({left:this.options.dialRadius+Math.sin(C)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(C)*this.options.outerRadius-this.options.tickRadius+"px"}),p.html(E._addLeadingZero(c)),this.minutesView.appendChild(p[0])}}},{key:"_handleAmPmClick",value:function(h){var c=v(h.target);this.amOrPm=c.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var h=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&void 0!==h[1]&&(this.amOrPm=h[1].toUpperCase().indexOf("AM")>0?"AM":"PM",h[1]=h[1].replace("AM","").replace("PM","")),"now"===h[0]){var c=new Date(+new Date+this.options.fromNow);h=[c.getHours(),c.getMinutes()],this.options.twelveHour&&(this.amOrPm=h[0]>=12&&h[0]<24?"PM":"AM")}this.hours=+h[0]||0,this.minutes=+h[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=E._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(h,c){"minutes"===h&&v(this.hoursView).css("visibility");var p="hours"===h,C=p?this.hoursView:this.minutesView,A=p?this.minutesView:this.hoursView;this.currentView=h,v(this.spanHours).toggleClass("text-primary",p),v(this.spanMinutes).toggleClass("text-primary",!p),A.classList.add("timepicker-dial-out"),v(C).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(c),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){v(A).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(h){var c=this.currentView,p=this[c],C="hours"===c,k=p*(Math.PI/(C?6:30)),N=C&&p>0&&p<13?this.options.innerRadius:this.options.outerRadius,B=Math.sin(k)*N,W=-Math.cos(k)*N,Q=this;h?(v(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){v(Q.canvas).removeClass("timepicker-canvas-out"),Q.setHand(B,W)},h)):this.setHand(B,W)}},{key:"setHand",value:function(h,c,p){var C=this,A=Math.atan2(h,-c),k="hours"===this.currentView,N=Math.PI/(k||p?6:30),B=Math.sqrt(h*h+c*c),W=k&&B<(this.options.outerRadius+this.options.innerRadius)/2,Q=W?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(Q=this.options.outerRadius),A<0&&(A=2*Math.PI+A);var q=Math.round(A/N);A=q*N,this.options.twelveHour?k?0===q&&(q=12):(p&&(q*=5),60===q&&(q=0)):k?(12===q&&(q=0),q=W?0===q?12:q:0===q?0:q+12):(p&&(q*=5),60===q&&(q=0)),this[this.currentView]!==q&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){C.vibrateTimer=null},100))),this[this.currentView]=q,k?this.spanHours.innerHTML=q:this.spanMinutes.innerHTML=E._addLeadingZero(q);var ve=Math.sin(A)*(Q-this.options.tickRadius),ee=-Math.cos(A)*(Q-this.options.tickRadius),he=Math.sin(A)*Q,Ue=-Math.cos(A)*Q;this.hand.setAttribute("x2",ve),this.hand.setAttribute("y2",ee),this.bg.setAttribute("cx",he),this.bg.setAttribute("cy",Ue)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){!this.isOpen||(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(h,c){var p=this.el.value,C=c?"":E._addLeadingZero(this.hours)+":"+E._addLeadingZero(this.minutes);this.time=C,!c&&this.options.twelveHour&&(C=C+" "+this.amOrPm),this.el.value=C,C!==p&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"_addLeadingZero",value:function(h){return(h<10?"0":"")+h}},{key:"_createSVGEl",value:function(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}},{key:"_Pos",value:function(h){return h.targetTouches&&h.targetTouches.length>=1?{x:h.targetTouches[0].clientX,y:h.targetTouches[0].clientY}:{x:h.clientX,y:h.clientY}}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Timepicker}},{key:"defaults",get:function(){return I}}]),E}(It);O._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"timepicker","M_Timepicker")}(cash),function(v){"use strict";var I={},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_CharacterCounter=c,c.options=v.extend({},E.defaults,h),c.isInvalid=!1,c.isValidLength=!1,c._setupCounter(),c._setupEventHandlers(),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),v(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){v(this.counterEl).remove()}},{key:"updateCounter",value:function(){var h=+this.$el.attr("data-length"),c=this.el.value.length;this.isValidLength=c<=h;var p=c;h&&(p+="/"+h,this._validateInput()),v(this.counterEl).html(p)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):!this.isValidLength&&!this.isInvalid&&(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_CharacterCounter}},{key:"defaults",get:function(){return I}}]),E}(It);M.CharacterCounter=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"characterCounter","M_CharacterCounter")}(cash),function(v){"use strict";var I={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_Carousel=c,c.options=v.extend({},E.defaults,h),c.hasMultipleSlides=c.$el.find(".carousel-item").length>1,c.showIndicators=c.options.indicators&&c.hasMultipleSlides,c.noWrap=c.options.noWrap||!c.hasMultipleSlides,c.pressed=!1,c.dragged=!1,c.offset=c.target=0,c.images=[],c.itemWidth=c.$el.find(".carousel-item").first().innerWidth(),c.itemHeight=c.$el.find(".carousel-item").first().innerHeight(),c.dim=2*c.itemWidth+c.options.padding||1,c._autoScrollBound=c._autoScroll.bind(c),c._trackBound=c._track.bind(c),c.options.fullWidth&&(c.options.dist=0,c._setCarouselHeight(),c.showIndicators&&c.$el.find(".carousel-fixed-item").addClass("with-indicators")),c.$indicators=v('<ul class="indicators"></ul>'),c.$el.find(".carousel-item").each(function(p,C){if(c.images.push(p),c.showIndicators){var A=v('<li class="indicator-item"></li>');0===C&&A[0].classList.add("active"),c.$indicators.append(A)}}),c.showIndicators&&c.$el.append(c.$indicators),c.count=c.images.length,c.options.numVisible=Math.min(c.count,c.options.numVisible),c.xform="transform",["webkit","Moz","O","ms"].every(function(p){var C=p+"Transform";return void 0===document.body.style[C]||(c.xform=C,!1)}),c._setupEventHandlers(),c._scroll(c.offset),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var h=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),void 0!==window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(p,C){p.addEventListener("click",h._handleIndicatorClickBound)}));var c=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=c.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var h=this;void 0!==window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(c,p){c.removeEventListener("click",h._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(h){"mousedown"===h.type&&v(h.target).is("img")&&h.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(h),this.referenceY=this._ypos(h),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(h){var c=void 0,p=void 0,C=void 0;if(this.pressed)if(c=this._xpos(h),p=this._ypos(h),C=this.reference-c,Math.abs(this.referenceY-p)<30&&!this.verticalDragged)(C>2||C<-2)&&(this.dragged=!0,this.reference=c,this._scroll(this.offset+C));else{if(this.dragged)return h.preventDefault(),h.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return h.preventDefault(),h.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(h){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(h.preventDefault(),h.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(h){if(this.dragged)return h.preventDefault(),h.stopPropagation(),!1;if(!this.options.fullWidth){var c=v(h.target).closest(".carousel-item").index();0!=this._wrap(this.center)-c&&(h.preventDefault(),h.stopPropagation()),this._cycleTo(c)}}},{key:"_handleIndicatorClick",value:function(h){h.stopPropagation();var c=v(h.target).closest(".indicator-item");c.length&&this._cycleTo(c.index())}},{key:"_handleResize",value:function(h){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(h){var c=this,p=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),C=p.find("img").first();if(C.length)if(C[0].complete){var A=C.height();if(A>0)this.$el.css("height",A+"px");else{var k=C[0].naturalWidth,N=C[0].naturalHeight,B=this.$el.width()/k*N;this.$el.css("height",B+"px")}}else C.one("load",function(Q,q){c.$el.css("height",Q.offsetHeight+"px")});else if(!h){var W=p.height();this.$el.css("height",W+"px")}}},{key:"_xpos",value:function(h){return h.targetTouches&&h.targetTouches.length>=1?h.targetTouches[0].clientX:h.clientX}},{key:"_ypos",value:function(h){return h.targetTouches&&h.targetTouches.length>=1?h.targetTouches[0].clientY:h.clientY}},{key:"_wrap",value:function(h){return h>=this.count?h%this.count:h<0?this._wrap(this.count+h%this.count):h}},{key:"_track",value:function(){var h,c,p;c=(h=Date.now())-this.timestamp,this.timestamp=h,p=this.offset-this.frame,this.frame=this.offset,this.velocity=1e3*p/(1+c)*.8+.2*this.velocity}},{key:"_autoScroll",value:function(){var h=void 0,c=void 0;this.amplitude&&(h=Date.now()-this.timestamp,(c=this.amplitude*Math.exp(-h/this.options.duration))>2||c<-2?(this._scroll(this.target-c),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(h){var c=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){c.$el.removeClass("scrolling")},this.options.duration);var C,A,k,N,p=void 0,B=void 0,W=void 0,Q=void 0,q=void 0,ve=void 0,ee=this.center,he=1/this.options.numVisible;if(this.offset="number"==typeof h?h:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),N=-(k=(A=this.offset-this.center*this.dim)<0?1:-1)*A*2/this.dim,C=this.count>>1,this.options.fullWidth?(W="translateX(0)",ve=1):(W="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",W+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",ve=1-he*N),this.showIndicators){var Ue=this.center%this.count,nt=this.$indicators.find(".indicator-item.active");nt.index()!==Ue&&(nt.removeClass("active"),this.$indicators.find(".indicator-item").eq(Ue)[0].classList.add("active"))}for((!this.noWrap||this.center>=0&&this.center<this.count)&&(B=this.images[this._wrap(this.center)],v(B).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),B.classList.add("active")),this._updateItemStyle(B,ve,0,W+" translateX("+-A/2+"px) translateX("+k*this.options.shift*N*p+"px) translateZ("+this.options.dist*N+"px)")),p=1;p<=C;++p)this.options.fullWidth?(Q=this.options.dist,q=p===C&&A<0?1-N:1):(Q=this.options.dist*(2*p+N*k),q=1-he*(2*p+N*k)),(!this.noWrap||this.center+p<this.count)&&(B=this.images[this._wrap(this.center+p)],this._updateItemStyle(B,q,-p,W+" translateX("+(this.options.shift+(this.dim*p-A)/2)+"px) translateZ("+Q+"px)")),this.options.fullWidth?(Q=this.options.dist,q=p===C&&A>0?1-N:1):(Q=this.options.dist*(2*p-N*k),q=1-he*(2*p-N*k)),(!this.noWrap||this.center-p>=0)&&(B=this.images[this._wrap(this.center-p)],this._updateItemStyle(B,q,-p,W+" translateX("+((-this.dim*p-A)/2-this.options.shift)+"px) translateZ("+Q+"px)"));(!this.noWrap||this.center>=0&&this.center<this.count)&&(B=this.images[this._wrap(this.center)],this._updateItemStyle(B,ve,0,W+" translateX("+-A/2+"px) translateX("+k*this.options.shift*N+"px) translateZ("+this.options.dist*N+"px)"));var je=this.$el.find(".carousel-item").eq(this._wrap(this.center));ee!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,je[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,je[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(h,c,p,C){h.style[this.xform]=C,h.style.zIndex=p,h.style.opacity=c,h.style.visibility="visible"}},{key:"_cycleTo",value:function(h,c){var p=this.center%this.count-h;this.noWrap||(p<0?Math.abs(p+this.count)<Math.abs(p)&&(p+=this.count):p>0&&Math.abs(p-this.count)<p&&(p-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),p<0?this.target+=this.dim*Math.abs(p):p>0&&(this.target-=this.dim*p),"function"==typeof c&&(this.oneTimeCallback=c),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(h){(void 0===h||isNaN(h))&&(h=1);var c=this.center+h;if(c>=this.count||c<0){if(this.noWrap)return;c=this._wrap(c)}this._cycleTo(c)}},{key:"prev",value:function(h){(void 0===h||isNaN(h))&&(h=1);var c=this.center-h;if(c>=this.count||c<0){if(this.noWrap)return;c=this._wrap(c)}this._cycleTo(c)}},{key:"set",value:function(h,c){if((void 0===h||isNaN(h))&&(h=0),h>this.count||h<0){if(this.noWrap)return;h=this._wrap(h)}this._cycleTo(h,c)}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_Carousel}},{key:"defaults",get:function(){return I}}]),E}(It);M.Carousel=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"carousel","M_Carousel")}(cash),function(v){"use strict";var I={onOpen:void 0,onClose:void 0},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.el.M_TapTarget=c,c.options=v.extend({},E.defaults,h),c.isOpen=!1,c.$origin=v("#"+c.$el.attr("data-target")),c._setup(),c._calculatePositioning(),c._setupEventHandlers(),c}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var h=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=h.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(h){this.open()}},{key:"_handleOriginClick",value:function(h){this.close()}},{key:"_handleResize",value:function(h){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(h){v(h.target).closest(".tap-target-wrapper").length||(this.close(),h.preventDefault(),h.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=v(this.wrapper).find(".tap-target-wave")[0],this.originEl=v(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],v(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(v(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var h="fixed"===this.$origin.css("position");if(!h)for(var c=this.$origin.parents(),p=0;p<c.length&&!(h="fixed"==v(c[p]).css("position"));p++);var C=this.$origin.outerWidth(),A=this.$origin.outerHeight(),k=h?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,N=h?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,B=window.innerWidth,W=window.innerHeight,Q=B/2,q=W/2,ve=N<=Q,ee=N>Q,he=k<=q,Ue=k>q,nt=N>=.25*B&&N<=.75*B,_t=this.$el.outerWidth(),st=this.$el.outerHeight(),rt=k+A/2-st/2,Oe=N+C/2-_t/2,je=h?"fixed":"absolute",mr=nt?_t:_t/2+C,Ps=st/2,Zr=he?st/2:0,ei=ve&&!nt?_t/2-C:0,ns=C,ti=Ue?"bottom":"top",ni=2*C,ar=ni,De=st/2-ar/2,Rr=_t/2-ni/2,ur={};ur.top=he?rt+"px":"",ur.right=ee?B-Oe-_t+"px":"",ur.bottom=Ue?W-rt-st+"px":"",ur.left=ve?Oe+"px":"",ur.position=je,v(this.wrapper).css(ur),v(this.contentEl).css({width:mr+"px",height:Ps+"px",top:Zr+"px",right:"0px",bottom:"0px",left:ei+"px",padding:ns+"px",verticalAlign:ti}),v(this.waveEl).css({top:De+"px",left:Rr+"px",width:ni+"px",height:ar+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){!this.isOpen||("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_TapTarget}},{key:"defaults",get:function(){return I}}]),E}(It);M.TapTarget=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"tapTarget","M_TapTarget")}(cash),function(v){"use strict";var I={classes:"",dropdownOptions:{}},O=function(R){function E(m,h){ze(this,E);var c=ft(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,E,m,h));return c.$el.hasClass("browser-default")?ft(c):(c.el.M_FormSelect=c,c.options=v.extend({},E.defaults,h),c.isMultiple=c.$el.prop("multiple"),c.el.tabIndex=-1,c._keysSelected={},c._valueDict={},c._setupDropdown(),c._setupEventHandlers(),c)}return yt(E,R),lt(E,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var h=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),v(this.dropdownOptions).find("li:not(.optgroup)").each(function(c){c.addEventListener("click",h._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var h=this;v(this.dropdownOptions).find("li:not(.optgroup)").each(function(c){c.removeEventListener("click",h._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(h){this._setValueToInput()}},{key:"_handleOptionClick",value:function(h){h.preventDefault();var c=v(h.target).closest("li")[0],p=c.id;if(!v(c).hasClass("disabled")&&!v(c).hasClass("optgroup")&&p.length){var C=!0;if(this.isMultiple){var A=v(this.dropdownOptions).find("li.disabled.selected");A.length&&(A.removeClass("selected"),A.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(A[0].id)),C=this._toggleEntryFromArray(p)}else v(this.dropdownOptions).find("li").removeClass("selected"),v(c).toggleClass("selected",C);v(this._valueDict[p].el).prop("selected")!==C&&(v(this._valueDict[p].el).prop("selected",C),this.$el.trigger("change"))}h.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var h=this;this.wrapper=document.createElement("div"),v(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(v(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),v(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(C){if(v(C).is("option")){var A;A=h.isMultiple?h._appendOptionWithIcon(h.$el,C,"multiple"):h._appendOptionWithIcon(h.$el,C),h._addOptionToValueDict(C,A)}else if(v(C).is("optgroup")){var k=v(C).children("option");v(h.dropdownOptions).append(v('<li class="optgroup"><span>'+C.getAttribute("label")+"</span></li>")[0]),k.each(function(N){var B=h._appendOptionWithIcon(h.$el,N,"optgroup-option");h._addOptionToValueDict(N,B)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),v(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&v(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var c=v('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(c[0]),!this.el.disabled){var p=v.extend({},this.options.dropdownOptions);p.onOpenEnd=function(C){var A=v(h.dropdownOptions).find(".selected").first();if(h.dropdown.isScrollable&&A.length){var k=A[0].getBoundingClientRect().top-h.dropdownOptions.getBoundingClientRect().top;h.dropdownOptions.scrollTop=k-=h.dropdownOptions.clientHeight/2}},this.isMultiple&&(p.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,p)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(h,c){var p=Object.keys(this._valueDict).length,C=this.dropdownOptions.id+p,A={};c.id=C,A.el=h,A.optionEl=c,this._valueDict[C]=A}},{key:"_removeDropdown",value:function(){v(this.wrapper).find(".caret").remove(),v(this.input).remove(),v(this.dropdownOptions).remove(),v(this.wrapper).before(this.$el),v(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(h,c,p){var C=c.disabled?"disabled ":"",A="optgroup-option"===p?"optgroup-option ":"",k=this.isMultiple?'<label><input type="checkbox"'+C+'"/><span>'+c.innerHTML+"</span></label>":c.innerHTML,N=v("<li></li>"),B=v("<span></span>");B.html(k),N.addClass(C+" "+A),N.append(B);var W=c.getAttribute("data-icon");if(W){var Q=v('<img alt="" src="'+W+'">');N.prepend(Q)}return v(this.dropdownOptions).append(N[0]),N[0]}},{key:"_toggleEntryFromArray",value:function(h){var c=!this._keysSelected.hasOwnProperty(h),p=v(this._valueDict[h].optionEl);return c?this._keysSelected[h]=!0:delete this._keysSelected[h],p.toggleClass("selected",c),p.find('input[type="checkbox"]').prop("checked",c),p.prop("selected",c),c}},{key:"_setValueToInput",value:function(){var h=[];if(this.$el.find("option").each(function(C){if(v(C).prop("selected")){var A=v(C).text();h.push(A)}}),!h.length){var p=this.$el.find("option:disabled").eq(0);p.length&&""===p[0].value&&h.push(p.text())}this.input.value=h.join(", ")}},{key:"_setSelectedStates",value:function(){for(var h in this._keysSelected={},this._valueDict){var c=this._valueDict[h],p=v(c.el).prop("selected");v(c.optionEl).find('input[type="checkbox"]').prop("checked",p),p?(this._activateOption(v(this.dropdownOptions),v(c.optionEl)),this._keysSelected[h]=!0):v(c.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(h,c){c&&(this.isMultiple||h.find("li.selected").removeClass("selected"),v(c).addClass("selected"))}},{key:"getSelectedValues",value:function(){var h=[];for(var c in this._keysSelected)h.push(this._valueDict[c].el.value);return h}}],[{key:"init",value:function(h,c){return Te(E.__proto__||Object.getPrototypeOf(E),"init",this).call(this,this,h,c)}},{key:"getInstance",value:function(h){return(h.jquery?h[0]:h).M_FormSelect}},{key:"defaults",get:function(){return I}}]),E}(It);M.FormSelect=O,M.jQueryLoaded&&M.initializeJqueryWrapper(O,"formSelect","M_FormSelect")}(cash),function(v,I){"use strict";var O={},R=function(E){function m(h,c){ze(this,m);var p=ft(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,h,c));return p.el.M_Range=p,p.options=v.extend({},m.defaults,c),p._mousedown=!1,p._setupThumb(),p._setupEventHandlers(),p}return yt(m,E),lt(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){v(this.value).html(this.$el.val()),v(this.thumb).hasClass("active")||this._showRangeBubble();var c=this._calcRangeOffset();v(this.thumb).addClass("active").css("left",c+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(c){if(v(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),v(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==c.type){var p=this._calcRangeOffset();v(this.thumb).addClass("active").css("left",p+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){v(this.thumb).hasClass("active")||this._showRangeBubble();var c=this._calcRangeOffset();v(this.thumb).addClass("active").css("left",c+"px"),v(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var p=7+parseInt(this.$el.css("padding-left"))+"px";v(this.thumb).hasClass("active")&&(I.remove(this.thumb),I({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:p,duration:100})),v(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),v(this.thumb).addClass("thumb"),v(this.value).addClass("value"),v(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){v(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var p=-7+parseInt(v(this.thumb).parent().css("padding-left"))+"px";I.remove(this.thumb),I({targets:this.thumb,height:30,width:30,top:-30,marginLeft:p,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var c=this.$el.width()-15,p=parseFloat(this.$el.attr("max"))||100,C=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-C)/(p-C)*c}}],[{key:"init",value:function(c,p){return Te(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,c,p)}},{key:"getInstance",value:function(c){return(c.jquery?c[0]:c).M_Range}},{key:"defaults",get:function(){return O}}]),m}(It);M.Range=R,M.jQueryLoaded&&M.initializeJqueryWrapper(R,"range","M_Range"),R.init(v("input[type=range]"))}(cash,M.anime)}},Wn=>{Wn(Wn.s=101)}]);